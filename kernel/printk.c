multiline_comment|/*&n; *  linux/kernel/printk.c&n; *&n; *  (C) 1991  Linus Torvalds&n; */
multiline_comment|/*&n; * When in kernel-mode, we cannot use printf, as fs is liable to&n; * point to &squot;interesting&squot; things. Make a printf with fs-saving, and&n; * all is well.&n; */
macro_line|#include &lt;stdarg.h&gt;
macro_line|#include &lt;stddef.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
DECL|variable|buf
r_static
r_char
id|buf
(braket
l_int|1024
)braket
suffix:semicolon
r_extern
r_int
id|vsprintf
c_func
(paren
r_char
op_star
id|buf
comma
r_const
r_char
op_star
id|fmt
comma
id|va_list
id|args
)paren
suffix:semicolon
DECL|function|printk
r_int
id|printk
c_func
(paren
r_const
r_char
op_star
id|fmt
comma
dot
dot
dot
)paren
(brace
id|va_list
id|args
suffix:semicolon
r_int
id|i
suffix:semicolon
id|va_start
c_func
(paren
id|args
comma
id|fmt
)paren
suffix:semicolon
id|i
op_assign
id|vsprintf
c_func
(paren
id|buf
comma
id|fmt
comma
id|args
)paren
suffix:semicolon
id|va_end
c_func
(paren
id|args
)paren
suffix:semicolon
id|console_print
c_func
(paren
id|buf
)paren
suffix:semicolon
r_return
id|i
suffix:semicolon
)brace
eof
