multiline_comment|/* &n; * Herein lies all the functions/variables that are &quot;exported&quot; for linkage&n; * with dynamically loaded kernel modules.&n; *&t;&t;&t;Jon.&n; */
macro_line|#include &lt;linux/autoconf.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;linux/malloc.h&gt;
macro_line|#include &lt;linux/binfmts.h&gt;
macro_line|#include &lt;linux/ptrace.h&gt;
macro_line|#include &lt;linux/sys.h&gt;
macro_line|#include &lt;linux/utsname.h&gt;
r_extern
r_void
op_star
id|sys_call_table
suffix:semicolon
DECL|macro|X
mdefine_line|#define X(name)&t;{ (void *) &amp;name, &quot;_&quot; #name }
macro_line|#ifdef CONFIG_FTAPE
r_extern
r_char
op_star
id|ftape_big_buffer
suffix:semicolon
r_extern
r_void
(paren
op_star
id|do_floppy
)paren
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef CONFIG_BINFMT_IBCS
r_extern
r_int
id|do_execve
c_func
(paren
r_char
op_star
id|filename
comma
r_char
op_star
op_star
id|argv
comma
r_char
op_star
op_star
id|envp
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
r_extern
r_void
id|flush_old_exec
c_func
(paren
r_struct
id|linux_binprm
op_star
id|bprm
)paren
suffix:semicolon
r_extern
r_int
id|open_inode
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
id|mode
)paren
suffix:semicolon
r_extern
r_int
id|read_exec
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
r_int
id|offset
comma
r_char
op_star
id|addr
comma
r_int
r_int
id|count
)paren
suffix:semicolon
r_extern
r_void
id|check_pending
c_func
(paren
r_int
id|signum
)paren
suffix:semicolon
r_extern
r_int
id|do_signal
c_func
(paren
r_int
r_int
id|oldmask
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
r_extern
r_int
(paren
op_star
id|ibcs_invmapsig
)paren
(paren
r_int
)paren
suffix:semicolon
r_extern
r_void
(paren
op_star
id|iABI_hook
)paren
(paren
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
macro_line|#endif
r_struct
(brace
DECL|member|addr
r_void
op_star
id|addr
suffix:semicolon
DECL|member|name
r_const
r_char
op_star
id|name
suffix:semicolon
DECL|variable|symbol_table
)brace
id|symbol_table
(braket
)braket
op_assign
(brace
multiline_comment|/* system info variables */
id|X
c_func
(paren
id|EISA_bus
)paren
comma
id|X
c_func
(paren
id|wp_works_ok
)paren
comma
multiline_comment|/* process memory management */
id|X
c_func
(paren
id|__verify_write
)paren
comma
id|X
c_func
(paren
id|do_mmap
)paren
comma
id|X
c_func
(paren
id|do_munmap
)paren
comma
multiline_comment|/* internal kernel memory management */
id|X
c_func
(paren
id|__get_free_pages
)paren
comma
id|X
c_func
(paren
id|free_pages
)paren
comma
id|X
c_func
(paren
id|kmalloc
)paren
comma
id|X
c_func
(paren
id|kfree_s
)paren
comma
id|X
c_func
(paren
id|vmalloc
)paren
comma
id|X
c_func
(paren
id|vfree
)paren
comma
multiline_comment|/* filesystem internal functions */
id|X
c_func
(paren
id|getname
)paren
comma
id|X
c_func
(paren
id|putname
)paren
comma
id|X
c_func
(paren
id|__iget
)paren
comma
id|X
c_func
(paren
id|iput
)paren
comma
id|X
c_func
(paren
id|namei
)paren
comma
id|X
c_func
(paren
id|lnamei
)paren
comma
multiline_comment|/* device registration */
id|X
c_func
(paren
id|register_chrdev
)paren
comma
id|X
c_func
(paren
id|unregister_chrdev
)paren
comma
id|X
c_func
(paren
id|register_blkdev
)paren
comma
id|X
c_func
(paren
id|unregister_blkdev
)paren
comma
multiline_comment|/* filesystem registration */
id|X
c_func
(paren
id|register_filesystem
)paren
comma
id|X
c_func
(paren
id|unregister_filesystem
)paren
comma
multiline_comment|/* interrupt handling */
id|X
c_func
(paren
id|request_irq
)paren
comma
id|X
c_func
(paren
id|free_irq
)paren
comma
multiline_comment|/* process management */
id|X
c_func
(paren
id|wake_up
)paren
comma
id|X
c_func
(paren
id|wake_up_interruptible
)paren
comma
id|X
c_func
(paren
id|schedule
)paren
comma
id|X
c_func
(paren
id|current
)paren
comma
id|X
c_func
(paren
id|jiffies
)paren
comma
id|X
c_func
(paren
id|xtime
)paren
comma
multiline_comment|/* misc */
id|X
c_func
(paren
id|printk
)paren
comma
id|X
c_func
(paren
id|sprintf
)paren
comma
id|X
c_func
(paren
id|vsprintf
)paren
comma
id|X
c_func
(paren
id|system_utsname
)paren
comma
id|X
c_func
(paren
id|sys_call_table
)paren
comma
macro_line|#ifdef CONFIG_FTAPE
multiline_comment|/* The next labels are needed for ftape driver.  */
id|X
c_func
(paren
id|ftape_big_buffer
)paren
comma
id|X
c_func
(paren
id|do_floppy
)paren
comma
macro_line|#endif
macro_line|#ifdef CONFIG_BINFMT_IBCS
multiline_comment|/*&n; * The following are needed if iBCS support is modular rather than&n; * compiled in.&n; */
multiline_comment|/* Emulator hooks. */
id|X
c_func
(paren
id|iABI_hook
)paren
comma
id|X
c_func
(paren
id|ibcs_invmapsig
)paren
comma
multiline_comment|/* Signal interfaces */
id|X
c_func
(paren
id|do_signal
)paren
comma
id|X
c_func
(paren
id|check_pending
)paren
comma
id|X
c_func
(paren
id|send_sig
)paren
comma
multiline_comment|/* Program loader interfaces */
id|X
c_func
(paren
id|change_ldt
)paren
comma
id|X
c_func
(paren
id|copy_strings
)paren
comma
id|X
c_func
(paren
id|create_tables
)paren
comma
id|X
c_func
(paren
id|do_execve
)paren
comma
id|X
c_func
(paren
id|flush_old_exec
)paren
comma
id|X
c_func
(paren
id|formats
)paren
comma
id|X
c_func
(paren
id|insert_vm_struct
)paren
comma
id|X
c_func
(paren
id|open_inode
)paren
comma
id|X
c_func
(paren
id|read_exec
)paren
comma
id|X
c_func
(paren
id|zeromap_page_range
)paren
comma
multiline_comment|/* Miscellaneous access points */
id|X
c_func
(paren
id|si_meminfo
)paren
comma
macro_line|#endif
)brace
suffix:semicolon
DECL|variable|symbol_table_size
r_int
id|symbol_table_size
op_assign
r_sizeof
(paren
id|symbol_table
)paren
op_div
r_sizeof
(paren
id|symbol_table
(braket
l_int|0
)braket
)paren
suffix:semicolon
eof
