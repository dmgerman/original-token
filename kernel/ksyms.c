multiline_comment|/* &n; * Herein lies all the functions/variables that are &quot;exported&quot; for linkage&n; * with dynamically loaded kernel modules.&n; *&t;&t;&t;Jon.&n; *&n; * Stacked module support and unified symbol table added by&n; * Bjorn Ekwall &lt;bj0rn@blox.se&gt;&n; */
macro_line|#include &lt;linux/autoconf.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &lt;linux/blkdev.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;linux/malloc.h&gt;
macro_line|#include &lt;linux/ptrace.h&gt;
macro_line|#include &lt;linux/sys.h&gt;
macro_line|#include &lt;linux/utsname.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
macro_line|#include &lt;linux/ioport.h&gt;
macro_line|#include &lt;linux/timer.h&gt;
macro_line|#include &lt;linux/binfmts.h&gt;
macro_line|#include &lt;linux/personality.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/termios.h&gt;
macro_line|#include &lt;linux/tqueue.h&gt;
macro_line|#include &lt;linux/tty.h&gt;
macro_line|#include &lt;linux/serial.h&gt;
macro_line|#ifdef CONFIG_INET
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#endif
macro_line|#include &lt;asm/irq.h&gt;
r_extern
r_void
op_star
id|sys_call_table
suffix:semicolon
multiline_comment|/* must match struct internal_symbol !!! */
DECL|macro|X
mdefine_line|#define X(name)&t;{ (void *) &amp;name, &quot;_&quot; #name }
macro_line|#ifdef CONFIG_FTAPE
r_extern
r_char
op_star
id|ftape_big_buffer
suffix:semicolon
r_extern
r_void
(paren
op_star
id|do_floppy
)paren
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
r_extern
r_int
id|request_dma
c_func
(paren
r_int
r_int
id|dmanr
comma
r_char
op_star
id|deviceID
)paren
suffix:semicolon
r_extern
r_void
id|free_dma
c_func
(paren
r_int
r_int
id|dmanr
)paren
suffix:semicolon
r_extern
r_int
id|do_execve
c_func
(paren
r_char
op_star
id|filename
comma
r_char
op_star
op_star
id|argv
comma
r_char
op_star
op_star
id|envp
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
r_extern
r_int
id|do_signal
c_func
(paren
r_int
r_int
id|oldmask
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
r_extern
r_void
(paren
op_star
id|iABI_hook
)paren
(paren
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
DECL|variable|symbol_table
r_struct
id|symbol_table
id|symbol_table
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
multiline_comment|/* for stacked module support */
(brace
multiline_comment|/* stackable module support */
id|X
c_func
(paren
id|rename_module_symbol
)paren
comma
multiline_comment|/* system info variables */
id|X
c_func
(paren
id|EISA_bus
)paren
comma
id|X
c_func
(paren
id|wp_works_ok
)paren
comma
multiline_comment|/* process memory management */
id|X
c_func
(paren
id|verify_area
)paren
comma
id|X
c_func
(paren
id|do_mmap
)paren
comma
id|X
c_func
(paren
id|do_munmap
)paren
comma
id|X
c_func
(paren
id|zeromap_page_range
)paren
comma
id|X
c_func
(paren
id|unmap_page_range
)paren
comma
id|X
c_func
(paren
id|insert_vm_struct
)paren
comma
id|X
c_func
(paren
id|merge_segments
)paren
comma
multiline_comment|/* internal kernel memory management */
id|X
c_func
(paren
id|__get_free_pages
)paren
comma
id|X
c_func
(paren
id|free_pages
)paren
comma
id|X
c_func
(paren
id|kmalloc
)paren
comma
id|X
c_func
(paren
id|kfree_s
)paren
comma
id|X
c_func
(paren
id|vmalloc
)paren
comma
id|X
c_func
(paren
id|vfree
)paren
comma
multiline_comment|/* filesystem internal functions */
id|X
c_func
(paren
id|getname
)paren
comma
id|X
c_func
(paren
id|putname
)paren
comma
id|X
c_func
(paren
id|__iget
)paren
comma
id|X
c_func
(paren
id|iput
)paren
comma
id|X
c_func
(paren
id|namei
)paren
comma
id|X
c_func
(paren
id|lnamei
)paren
comma
id|X
c_func
(paren
id|open_namei
)paren
comma
multiline_comment|/* device registration */
id|X
c_func
(paren
id|register_chrdev
)paren
comma
id|X
c_func
(paren
id|unregister_chrdev
)paren
comma
id|X
c_func
(paren
id|register_blkdev
)paren
comma
id|X
c_func
(paren
id|unregister_blkdev
)paren
comma
id|X
c_func
(paren
id|tty_register_driver
)paren
comma
id|X
c_func
(paren
id|tty_unregister_driver
)paren
comma
id|X
c_func
(paren
id|tty_std_termios
)paren
comma
multiline_comment|/* block device driver support */
id|X
c_func
(paren
id|block_read
)paren
comma
id|X
c_func
(paren
id|block_write
)paren
comma
id|X
c_func
(paren
id|block_fsync
)paren
comma
id|X
c_func
(paren
id|wait_for_request
)paren
comma
id|X
c_func
(paren
id|blksize_size
)paren
comma
id|X
c_func
(paren
id|blk_dev
)paren
comma
multiline_comment|/* Module creation of serial units */
id|X
c_func
(paren
id|register_serial
)paren
comma
id|X
c_func
(paren
id|unregister_serial
)paren
comma
multiline_comment|/* filesystem registration */
id|X
c_func
(paren
id|register_filesystem
)paren
comma
id|X
c_func
(paren
id|unregister_filesystem
)paren
comma
multiline_comment|/* executable format registration */
id|X
c_func
(paren
id|register_binfmt
)paren
comma
id|X
c_func
(paren
id|unregister_binfmt
)paren
comma
multiline_comment|/* execution environment registration */
id|X
c_func
(paren
id|lookup_exec_domain
)paren
comma
id|X
c_func
(paren
id|register_exec_domain
)paren
comma
id|X
c_func
(paren
id|unregister_exec_domain
)paren
comma
multiline_comment|/* interrupt handling */
id|X
c_func
(paren
id|request_irq
)paren
comma
id|X
c_func
(paren
id|free_irq
)paren
comma
id|X
c_func
(paren
id|enable_irq
)paren
comma
id|X
c_func
(paren
id|disable_irq
)paren
comma
id|X
c_func
(paren
id|bh_active
)paren
comma
id|X
c_func
(paren
id|bh_mask
)paren
comma
id|X
c_func
(paren
id|add_timer
)paren
comma
id|X
c_func
(paren
id|del_timer
)paren
comma
multiline_comment|/* dma handling */
id|X
c_func
(paren
id|request_dma
)paren
comma
id|X
c_func
(paren
id|free_dma
)paren
comma
multiline_comment|/* process management */
id|X
c_func
(paren
id|wake_up
)paren
comma
id|X
c_func
(paren
id|wake_up_interruptible
)paren
comma
id|X
c_func
(paren
id|sleep_on
)paren
comma
id|X
c_func
(paren
id|interruptible_sleep_on
)paren
comma
id|X
c_func
(paren
id|schedule
)paren
comma
id|X
c_func
(paren
id|current
)paren
comma
id|X
c_func
(paren
id|jiffies
)paren
comma
id|X
c_func
(paren
id|xtime
)paren
comma
multiline_comment|/* misc */
id|X
c_func
(paren
id|panic
)paren
comma
id|X
c_func
(paren
id|printk
)paren
comma
id|X
c_func
(paren
id|sprintf
)paren
comma
id|X
c_func
(paren
id|vsprintf
)paren
comma
id|X
c_func
(paren
id|system_utsname
)paren
comma
id|X
c_func
(paren
id|sys_call_table
)paren
comma
multiline_comment|/* Signal interfaces */
id|X
c_func
(paren
id|do_signal
)paren
comma
id|X
c_func
(paren
id|send_sig
)paren
comma
multiline_comment|/* Program loader interfaces */
id|X
c_func
(paren
id|change_ldt
)paren
comma
id|X
c_func
(paren
id|copy_strings
)paren
comma
id|X
c_func
(paren
id|create_tables
)paren
comma
id|X
c_func
(paren
id|do_execve
)paren
comma
id|X
c_func
(paren
id|flush_old_exec
)paren
comma
id|X
c_func
(paren
id|open_inode
)paren
comma
id|X
c_func
(paren
id|read_exec
)paren
comma
multiline_comment|/* Miscellaneous access points */
id|X
c_func
(paren
id|si_meminfo
)paren
comma
macro_line|#ifdef CONFIG_FTAPE
multiline_comment|/* The next labels are needed for ftape driver.  */
id|X
c_func
(paren
id|ftape_big_buffer
)paren
comma
id|X
c_func
(paren
id|do_floppy
)paren
comma
macro_line|#endif
macro_line|#ifdef CONFIG_INET
multiline_comment|/* support for loadable net drivers */
id|X
c_func
(paren
id|register_netdev
)paren
comma
id|X
c_func
(paren
id|unregister_netdev
)paren
comma
id|X
c_func
(paren
id|ether_setup
)paren
comma
id|X
c_func
(paren
id|alloc_skb
)paren
comma
id|X
c_func
(paren
id|kfree_skb
)paren
comma
id|X
c_func
(paren
id|dev_kfree_skb
)paren
comma
id|X
c_func
(paren
id|snarf_region
)paren
comma
id|X
c_func
(paren
id|netif_rx
)paren
comma
id|X
c_func
(paren
id|dev_rint
)paren
comma
id|X
c_func
(paren
id|dev_tint
)paren
comma
id|X
c_func
(paren
id|irq2dev_map
)paren
comma
macro_line|#endif
multiline_comment|/********************************************************&n;&t; * Do not add anything below this line,&n;&t; * as the stacked modules depend on this!&n;&t; */
(brace
l_int|NULL
comma
l_int|NULL
)brace
multiline_comment|/* mark end of table */
)brace
comma
(brace
(brace
l_int|NULL
comma
l_int|NULL
)brace
multiline_comment|/* no module refs */
)brace
)brace
suffix:semicolon
multiline_comment|/*&n;int symbol_table_size = sizeof (symbol_table) / sizeof (symbol_table[0]);&n;*/
eof
