multiline_comment|/*&n; *&t;linux/kernel/softirq.c&n; *&n; *&t;Copyright (C) 1992 Linus Torvalds&n; *&n; * do_bottom_half() runs at normal kernel priority: all interrupts&n; * enabled.  do_bottom_half() is atomic with respect to itself: a&n; * bottom_half handler need not be re-entrant.&n; */
DECL|macro|INCLUDE_INLINE_FUNCS
mdefine_line|#define INCLUDE_INLINE_FUNCS
macro_line|#include &lt;linux/tqueue.h&gt;
macro_line|#include &lt;linux/ptrace.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/kernel_stat.h&gt;
macro_line|#include &lt;linux/signal.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;asm/system.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/irq.h&gt;
macro_line|#include &lt;asm/bitops.h&gt;
DECL|variable|intr_count
r_int
r_int
id|intr_count
op_assign
l_int|0
suffix:semicolon
DECL|variable|bh_mask_count
r_int
id|bh_mask_count
(braket
l_int|32
)braket
suffix:semicolon
DECL|variable|bh_active
r_int
r_int
id|bh_active
op_assign
l_int|0
suffix:semicolon
DECL|variable|bh_mask
r_int
r_int
id|bh_mask
op_assign
l_int|0
suffix:semicolon
DECL|variable|bh_base
r_void
(paren
op_star
id|bh_base
(braket
l_int|32
)braket
)paren
(paren
r_void
)paren
suffix:semicolon
DECL|function|do_bottom_half
id|asmlinkage
r_void
id|do_bottom_half
c_func
(paren
r_void
)paren
(brace
r_int
r_int
id|active
suffix:semicolon
r_int
r_int
id|mask
comma
id|left
suffix:semicolon
r_void
(paren
op_star
op_star
id|bh
)paren
(paren
r_void
)paren
suffix:semicolon
id|bh
op_assign
id|bh_base
suffix:semicolon
id|active
op_assign
id|bh_active
op_amp
id|bh_mask
suffix:semicolon
r_for
c_loop
(paren
id|mask
op_assign
l_int|1
comma
id|left
op_assign
op_complement
l_int|0
suffix:semicolon
id|left
op_amp
id|active
suffix:semicolon
id|bh
op_increment
comma
id|mask
op_add_assign
id|mask
comma
id|left
op_add_assign
id|left
)paren
(brace
r_if
c_cond
(paren
id|mask
op_amp
id|active
)paren
(brace
r_void
(paren
op_star
id|fn
)paren
(paren
r_void
)paren
suffix:semicolon
id|bh_active
op_and_assign
op_complement
id|mask
suffix:semicolon
id|fn
op_assign
op_star
id|bh
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|fn
)paren
r_goto
id|bad_bh
suffix:semicolon
id|fn
c_func
(paren
)paren
suffix:semicolon
)brace
)brace
r_return
suffix:semicolon
id|bad_bh
suffix:colon
id|printk
(paren
l_string|&quot;irq.c:bad bottom half entry %08lx&bslash;n&quot;
comma
id|mask
)paren
suffix:semicolon
)brace
eof
