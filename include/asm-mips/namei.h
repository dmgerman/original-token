multiline_comment|/*&n; * linux/include/asm-mips/namei.h&n; *&n; * Included from linux/fs/namei.c&n; *&n; * $Id: namei.h,v 1.7 1999/06/17 13:30:37 ralf Exp $&n; */
macro_line|#ifndef __ASM_MIPS_NAMEI_H
DECL|macro|__ASM_MIPS_NAMEI_H
mdefine_line|#define __ASM_MIPS_NAMEI_H
macro_line|#include &lt;linux/config.h&gt;
multiline_comment|/* Only one at this time. */
DECL|macro|IRIX32_EMUL
mdefine_line|#define IRIX32_EMUL &quot;usr/gnemul/irix/&quot;
r_static
r_inline
r_struct
id|dentry
op_star
DECL|function|__mips_lookup_dentry
id|__mips_lookup_dentry
c_func
(paren
r_const
r_char
op_star
id|name
comma
r_int
id|lookup_flags
)paren
(brace
r_struct
id|dentry
op_star
id|base
suffix:semicolon
r_if
c_cond
(paren
id|current-&gt;personality
op_ne
id|PER_IRIX32
)paren
r_return
id|ERR_PTR
c_func
(paren
op_minus
id|ENOENT
)paren
suffix:semicolon
id|base
op_assign
id|lookup_dentry
(paren
id|IRIX32_EMUL
comma
id|dget
(paren
id|current-&gt;fs-&gt;root
)paren
comma
(paren
id|LOOKUP_FOLLOW
op_or
id|LOOKUP_DIRECTORY
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IS_ERR
(paren
id|base
)paren
)paren
r_return
id|base
suffix:semicolon
id|base
op_assign
id|lookup_dentry
(paren
id|name
comma
id|base
comma
id|lookup_flags
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IS_ERR
(paren
id|base
)paren
)paren
r_return
id|base
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|base-&gt;d_inode
)paren
(brace
id|dput
c_func
(paren
id|base
)paren
suffix:semicolon
r_return
id|ERR_PTR
c_func
(paren
op_minus
id|ENOENT
)paren
suffix:semicolon
)brace
r_return
id|base
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_BINFMT_IRIX
DECL|macro|__prefix_lookup_dentry
mdefine_line|#define __prefix_lookup_dentry(name, lookup_flags)&t;&t;&t;&t;&bslash;&n;&t;dentry = __mips_lookup_dentry (name, lookup_flags);&t;&t;&t;&bslash;&n;&t;if (!IS_ERR (dentry)) return dentry;
macro_line|#else /* !defined(CONFIG_BINFMT_IRIX) */
DECL|macro|__prefix_lookup_dentry
mdefine_line|#define __prefix_lookup_dentry(name, lookup_flags) &bslash;&n;        do {} while (0)
macro_line|#endif /* !defined(CONFIG_BINFMT_IRIX) */
macro_line|#endif /* __ASM_MIPS_NAMEI_H */
eof
