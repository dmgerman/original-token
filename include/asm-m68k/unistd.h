macro_line|#ifndef _ASM_M68K_UNISTD_H_
DECL|macro|_ASM_M68K_UNISTD_H_
mdefine_line|#define _ASM_M68K_UNISTD_H_
multiline_comment|/* XXX - _foo needs to be __foo, while __NR_bar could be _NR_bar. */
DECL|macro|_syscall0
mdefine_line|#define _syscall0(type,name) &bslash;&n;type name(void) &bslash;&n;{ &bslash;&n;register long __res __asm__ (&quot;d0&quot;) = __NR_##name; &bslash;&n;__asm__ __volatile__ (&quot;trap  #0&quot; &bslash;&n;                      : &quot;=g&quot; (__res) &bslash;&n;                      : &quot;0&quot; (__NR_##name) &bslash;&n;&t;&t;      : &quot;d0&quot;); &bslash;&n;if (__res &gt;= 0) &bslash;&n;        return (type) __res; &bslash;&n;errno = -__res; &bslash;&n;return -1; &bslash;&n;}
DECL|macro|_syscall1
mdefine_line|#define _syscall1(type,name,atype,a) &bslash;&n;type name(atype a) &bslash;&n;{ &bslash;&n;register long __res __asm__ (&quot;d0&quot;) = __NR_##name; &bslash;&n;__asm__ __volatile__ (&quot;movel %2,d1&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;trap  #0&quot; &bslash;&n;                      : &quot;=g&quot; (__res) &bslash;&n;                      : &quot;0&quot; (__NR_##name), &quot;g&quot; ((long)(a)) &bslash;&n;                      : &quot;d0&quot;, &quot;d1&quot;); &bslash;&n;if (__res &gt;= 0) &bslash;&n;        return (type) __res; &bslash;&n;errno = -__res; &bslash;&n;return -1; &bslash;&n;}
DECL|macro|_syscall2
mdefine_line|#define _syscall2(type,name,atype,a,btype,b) &bslash;&n;type name(atype a,btype b) &bslash;&n;{ &bslash;&n;register long __res __asm__ (&quot;d0&quot;) = __NR_##name; &bslash;&n;__asm__ __volatile__ (&quot;movel %2,d1&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %3,d2&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;trap  #0&quot; &bslash;&n;                      : &quot;=g&quot; (__res) &bslash;&n;                      : &quot;0&quot; (__NR_##name), &quot;g&quot; ((long)(a)), &bslash;&n;                                          &quot;g&quot; ((long)(b)) &bslash;&n;                      : &quot;d0&quot;, &quot;d1&quot;, &quot;d2&quot;); &bslash;&n;if (__res &gt;= 0) &bslash;&n;        return (type) __res; &bslash;&n;errno = -__res; &bslash;&n;return -1; &bslash;&n;}
DECL|macro|_syscall3
mdefine_line|#define _syscall3(type,name,atype,a,btype,b,ctype,c) &bslash;&n;type name(atype a,btype b,ctype c) &bslash;&n;{ &bslash;&n;register long __res __asm__ (&quot;d0&quot;) = __NR_##name; &bslash;&n;__asm__ __volatile__ (&quot;movel %2,d1&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %3,d2&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %4,d3&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;trap  #0&quot; &bslash;&n;                      : &quot;=g&quot; (__res) &bslash;&n;                      : &quot;0&quot; (__NR_##name), &quot;g&quot; ((long)(a)), &bslash;&n;                                          &quot;g&quot; ((long)(b)), &bslash;&n;                                          &quot;g&quot; ((long)(c)) &bslash;&n;                      : &quot;d0&quot;, &quot;d1&quot;, &quot;d2&quot;, &quot;d3&quot;); &bslash;&n;if (__res &gt;= 0) &bslash;&n;        return (type) __res; &bslash;&n;errno = -__res; &bslash;&n;return -1; &bslash;&n;}
DECL|macro|_syscall4
mdefine_line|#define _syscall4(type,name,atype,a,btype,b,ctype,c,dtype,d) &bslash;&n;type name (atype a, btype b, ctype c, dtype d) &bslash;&n;{ &bslash;&n;register long __res __asm__ (&quot;d0&quot;) = __NR_##name; &bslash;&n;__asm__ __volatile__ (&quot;movel %2,d1&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %3,d2&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %4,d3&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %5,d4&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;trap  #0&quot; &bslash;&n;                      : &quot;=g&quot; (__res) &bslash;&n;                      : &quot;0&quot; (__NR_##name), &quot;g&quot; ((long)(a)), &bslash;&n;                                          &quot;g&quot; ((long)(b)), &bslash;&n;                                          &quot;g&quot; ((long)(c)), &bslash;&n;                                          &quot;g&quot; ((long)(d))  &bslash;&n;                      : &quot;d0&quot;, &quot;d1&quot;, &quot;d2&quot;, &quot;d3&quot;, &quot;d4&quot;); &bslash;&n;if (__res &gt;= 0) &bslash;&n;        return (type) __res; &bslash;&n;errno = -__res; &bslash;&n;return -1; &bslash;&n;}
DECL|macro|_syscall5
mdefine_line|#define _syscall5(type,name,atype,a,btype,b,ctype,c,dtype,d,etype,e) &bslash;&n;type name (atype a,btype b,ctype c,dtype d,etype e) &bslash;&n;{ &bslash;&n;register long __res __asm__ (&quot;d0&quot;) = __NR_##name; &bslash;&n;__asm__ __volatile__ (&quot;movel %2,d1&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %3,d2&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %4,d3&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %5,d4&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;movel %6,d5&bslash;n&bslash;t&quot; &bslash;&n;                      &quot;trap  #0&quot; &bslash;&n;                      : &quot;=g&quot; (__res) &bslash;&n;                      : &quot;0&quot; (__NR_##name), &quot;g&quot; ((long)(a)), &bslash;&n;                                          &quot;g&quot; ((long)(b)), &bslash;&n;                                          &quot;g&quot; ((long)(c)), &bslash;&n;                                          &quot;g&quot; ((long)(d)), &bslash;&n;                                          &quot;g&quot; ((long)(e))  &bslash;&n;                      : &quot;d0&quot;, &quot;d1&quot;, &quot;d2&quot;, &quot;d3&quot;, &quot;d4&quot;, &quot;d5&quot;); &bslash;&n;if (__res &gt;= 0) &bslash;&n;        return (type) __res; &bslash;&n;errno = -__res; &bslash;&n;return -1; &bslash;&n;}
macro_line|#endif /* _ASM_M68K_UNISTD_H_ */
eof
