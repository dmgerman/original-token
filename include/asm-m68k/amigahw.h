multiline_comment|/*&n;** asm-m68k/amigahw.h -- This header defines some macros and pointers for&n;**                    the various Amiga custom hardware registers.&n;**                    The naming conventions used here conform to those&n;**                    used in the Amiga Hardware Reference Manual, 3rd Edition&n;**&n;** Copyright 1992 by Greg Harp&n;**&n;** This file is subject to the terms and conditions of the GNU General Public&n;** License.  See the file COPYING in the main directory of this archive&n;** for more details.&n;**&n;** Created: 9/24/92 by Greg Harp&n;*/
macro_line|#ifndef _ASMm68k_AMIGAHW_H_
DECL|macro|_ASMm68k_AMIGAHW_H_
mdefine_line|#define _ASMm68k_AMIGAHW_H_
DECL|struct|CUSTOM
r_struct
id|CUSTOM
(brace
DECL|member|bltddat
id|u_short
id|bltddat
suffix:semicolon
DECL|member|dmaconr
id|u_short
id|dmaconr
suffix:semicolon
DECL|member|vposr
id|u_short
id|vposr
suffix:semicolon
DECL|member|vhposr
id|u_short
id|vhposr
suffix:semicolon
DECL|member|dskdatr
id|u_short
id|dskdatr
suffix:semicolon
DECL|member|joy0dat
id|u_short
id|joy0dat
suffix:semicolon
DECL|member|joy1dat
id|u_short
id|joy1dat
suffix:semicolon
DECL|member|clxdat
id|u_short
id|clxdat
suffix:semicolon
DECL|member|adkconr
id|u_short
id|adkconr
suffix:semicolon
DECL|member|pot0dat
id|u_short
id|pot0dat
suffix:semicolon
DECL|member|pot1dat
id|u_short
id|pot1dat
suffix:semicolon
DECL|member|potgor
id|u_short
id|potgor
suffix:semicolon
DECL|member|serdatr
id|u_short
id|serdatr
suffix:semicolon
DECL|member|dskbytr
id|u_short
id|dskbytr
suffix:semicolon
DECL|member|intenar
id|u_short
id|intenar
suffix:semicolon
DECL|member|intreqr
id|u_short
id|intreqr
suffix:semicolon
DECL|member|dskptr
id|u_char
op_star
id|dskptr
suffix:semicolon
DECL|member|dsklen
id|u_short
id|dsklen
suffix:semicolon
DECL|member|dskdat
id|u_short
id|dskdat
suffix:semicolon
DECL|member|refptr
id|u_short
id|refptr
suffix:semicolon
DECL|member|vposw
id|u_short
id|vposw
suffix:semicolon
DECL|member|vhposw
id|u_short
id|vhposw
suffix:semicolon
DECL|member|copcon
id|u_short
id|copcon
suffix:semicolon
DECL|member|serdat
id|u_short
id|serdat
suffix:semicolon
DECL|member|serper
id|u_short
id|serper
suffix:semicolon
DECL|member|potgo
id|u_short
id|potgo
suffix:semicolon
DECL|member|joytest
id|u_short
id|joytest
suffix:semicolon
DECL|member|strequ
id|u_short
id|strequ
suffix:semicolon
DECL|member|strvbl
id|u_short
id|strvbl
suffix:semicolon
DECL|member|strhor
id|u_short
id|strhor
suffix:semicolon
DECL|member|strlong
id|u_short
id|strlong
suffix:semicolon
DECL|member|bltcon0
id|u_short
id|bltcon0
suffix:semicolon
DECL|member|bltcon1
id|u_short
id|bltcon1
suffix:semicolon
DECL|member|bltafwm
id|u_short
id|bltafwm
suffix:semicolon
DECL|member|bltalwm
id|u_short
id|bltalwm
suffix:semicolon
DECL|member|bltcpt
id|u_char
op_star
id|bltcpt
suffix:semicolon
DECL|member|bltbpt
id|u_char
op_star
id|bltbpt
suffix:semicolon
DECL|member|bltapt
id|u_char
op_star
id|bltapt
suffix:semicolon
DECL|member|bltdpt
id|u_char
op_star
id|bltdpt
suffix:semicolon
DECL|member|bltsize
id|u_short
id|bltsize
suffix:semicolon
DECL|member|pad2d
id|u_char
id|pad2d
suffix:semicolon
DECL|member|bltcon0l
id|u_char
id|bltcon0l
suffix:semicolon
DECL|member|bltsizv
id|u_short
id|bltsizv
suffix:semicolon
DECL|member|bltsizh
id|u_short
id|bltsizh
suffix:semicolon
DECL|member|bltcmod
id|u_short
id|bltcmod
suffix:semicolon
DECL|member|bltbmod
id|u_short
id|bltbmod
suffix:semicolon
DECL|member|bltamod
id|u_short
id|bltamod
suffix:semicolon
DECL|member|bltdmod
id|u_short
id|bltdmod
suffix:semicolon
DECL|member|spare2
id|u_short
id|spare2
(braket
l_int|4
)braket
suffix:semicolon
DECL|member|bltcdat
id|u_short
id|bltcdat
suffix:semicolon
DECL|member|bltbdat
id|u_short
id|bltbdat
suffix:semicolon
DECL|member|bltadat
id|u_short
id|bltadat
suffix:semicolon
DECL|member|spare3
id|u_short
id|spare3
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|deniseid
id|u_short
id|deniseid
suffix:semicolon
DECL|member|dsksync
id|u_short
id|dsksync
suffix:semicolon
DECL|member|cop1lc
id|u_short
op_star
id|cop1lc
suffix:semicolon
DECL|member|cop2lc
id|u_short
op_star
id|cop2lc
suffix:semicolon
DECL|member|copjmp1
id|u_short
id|copjmp1
suffix:semicolon
DECL|member|copjmp2
id|u_short
id|copjmp2
suffix:semicolon
DECL|member|copins
id|u_short
id|copins
suffix:semicolon
DECL|member|diwstrt
id|u_short
id|diwstrt
suffix:semicolon
DECL|member|diwstop
id|u_short
id|diwstop
suffix:semicolon
DECL|member|ddfstrt
id|u_short
id|ddfstrt
suffix:semicolon
DECL|member|ddfstop
id|u_short
id|ddfstop
suffix:semicolon
DECL|member|dmacon
id|u_short
id|dmacon
suffix:semicolon
DECL|member|clxcon
id|u_short
id|clxcon
suffix:semicolon
DECL|member|intena
id|u_short
id|intena
suffix:semicolon
DECL|member|intreq
id|u_short
id|intreq
suffix:semicolon
DECL|member|adkcon
id|u_short
id|adkcon
suffix:semicolon
r_struct
(brace
DECL|member|audlc
id|u_short
op_star
id|audlc
suffix:semicolon
DECL|member|audlen
id|u_short
id|audlen
suffix:semicolon
DECL|member|audper
id|u_short
id|audper
suffix:semicolon
DECL|member|audvol
id|u_short
id|audvol
suffix:semicolon
DECL|member|auddat
id|u_short
id|auddat
suffix:semicolon
DECL|member|audspare
id|u_short
id|audspare
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|aud
)brace
id|aud
(braket
l_int|4
)braket
suffix:semicolon
DECL|member|bplpt
id|u_char
op_star
id|bplpt
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|bplcon0
id|u_short
id|bplcon0
suffix:semicolon
DECL|member|bplcon1
id|u_short
id|bplcon1
suffix:semicolon
DECL|member|bplcon2
id|u_short
id|bplcon2
suffix:semicolon
DECL|member|bplcon3
id|u_short
id|bplcon3
suffix:semicolon
DECL|member|bpl1mod
id|u_short
id|bpl1mod
suffix:semicolon
DECL|member|bpl2mod
id|u_short
id|bpl2mod
suffix:semicolon
DECL|member|bplcon4
id|u_short
id|bplcon4
suffix:semicolon
DECL|member|clxcon2
id|u_short
id|clxcon2
suffix:semicolon
DECL|member|bpldat
id|u_short
id|bpldat
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|sprpt
id|u_char
op_star
id|sprpt
(braket
l_int|8
)braket
suffix:semicolon
r_struct
(brace
DECL|member|pos
id|u_short
id|pos
suffix:semicolon
DECL|member|ctl
id|u_short
id|ctl
suffix:semicolon
DECL|member|dataa
id|u_short
id|dataa
suffix:semicolon
DECL|member|datab
id|u_short
id|datab
suffix:semicolon
DECL|member|spr
)brace
id|spr
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|color
id|u_short
id|color
(braket
l_int|32
)braket
suffix:semicolon
DECL|member|htotal
id|u_short
id|htotal
suffix:semicolon
DECL|member|hsstop
id|u_short
id|hsstop
suffix:semicolon
DECL|member|hbstrt
id|u_short
id|hbstrt
suffix:semicolon
DECL|member|hbstop
id|u_short
id|hbstop
suffix:semicolon
DECL|member|vtotal
id|u_short
id|vtotal
suffix:semicolon
DECL|member|vsstop
id|u_short
id|vsstop
suffix:semicolon
DECL|member|vbstrt
id|u_short
id|vbstrt
suffix:semicolon
DECL|member|vbstop
id|u_short
id|vbstop
suffix:semicolon
DECL|member|sprhstrt
id|u_short
id|sprhstrt
suffix:semicolon
DECL|member|sprhstop
id|u_short
id|sprhstop
suffix:semicolon
DECL|member|bplhstrt
id|u_short
id|bplhstrt
suffix:semicolon
DECL|member|bplhstop
id|u_short
id|bplhstop
suffix:semicolon
DECL|member|hhposw
id|u_short
id|hhposw
suffix:semicolon
DECL|member|hhposr
id|u_short
id|hhposr
suffix:semicolon
DECL|member|beamcon0
id|u_short
id|beamcon0
suffix:semicolon
DECL|member|hsstrt
id|u_short
id|hsstrt
suffix:semicolon
DECL|member|vsstrt
id|u_short
id|vsstrt
suffix:semicolon
DECL|member|hcenter
id|u_short
id|hcenter
suffix:semicolon
DECL|member|diwhigh
id|u_short
id|diwhigh
suffix:semicolon
DECL|member|spare4
id|u_short
id|spare4
(braket
l_int|11
)braket
suffix:semicolon
DECL|member|fmode
id|u_short
id|fmode
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*&n; * DMA register bits&n; */
DECL|macro|DMAF_SETCLR
mdefine_line|#define DMAF_SETCLR&t;&t;(0x8000)
DECL|macro|DMAF_AUD0
mdefine_line|#define DMAF_AUD0&t;&t;(0x0001)
DECL|macro|DMAF_AUD1
mdefine_line|#define DMAF_AUD1&t;&t;(0x0002)
DECL|macro|DMAF_AUD2
mdefine_line|#define DMAF_AUD2&t;&t;(0x0004)
DECL|macro|DMAF_AUD3
mdefine_line|#define DMAF_AUD3&t;&t;(0x0008)
DECL|macro|DMAF_DISK
mdefine_line|#define DMAF_DISK&t;&t;(0x0010)
DECL|macro|DMAF_SPRITE
mdefine_line|#define DMAF_SPRITE&t;&t;(0x0020)
DECL|macro|DMAF_BLITTER
mdefine_line|#define DMAF_BLITTER&t;&t;(0x0040)
DECL|macro|DMAF_COPPER
mdefine_line|#define DMAF_COPPER&t;&t;(0x0080)
DECL|macro|DMAF_RASTER
mdefine_line|#define DMAF_RASTER&t;&t;(0x0100)
DECL|macro|DMAF_MASTER
mdefine_line|#define DMAF_MASTER&t;&t;(0x0200)
DECL|macro|DMAF_BLITHOG
mdefine_line|#define DMAF_BLITHOG&t;&t;(0x0400)
DECL|macro|DMAF_BLTNZERO
mdefine_line|#define DMAF_BLTNZERO&t;&t;(0x2000)
DECL|macro|DMAF_BLTDONE
mdefine_line|#define DMAF_BLTDONE&t;&t;(0x4000)
DECL|macro|DMAF_ALL
mdefine_line|#define DMAF_ALL&t;&t;(0x01FF)
DECL|struct|CIA
r_struct
id|CIA
(brace
DECL|member|pra
DECL|member|pad0
id|u_char
id|pra
suffix:semicolon
r_char
id|pad0
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|prb
DECL|member|pad1
id|u_char
id|prb
suffix:semicolon
r_char
id|pad1
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|ddra
DECL|member|pad2
id|u_char
id|ddra
suffix:semicolon
r_char
id|pad2
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|ddrb
DECL|member|pad3
id|u_char
id|ddrb
suffix:semicolon
r_char
id|pad3
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|talo
DECL|member|pad4
id|u_char
id|talo
suffix:semicolon
r_char
id|pad4
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|tahi
DECL|member|pad5
id|u_char
id|tahi
suffix:semicolon
r_char
id|pad5
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|tblo
DECL|member|pad6
id|u_char
id|tblo
suffix:semicolon
r_char
id|pad6
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|tbhi
DECL|member|pad7
id|u_char
id|tbhi
suffix:semicolon
r_char
id|pad7
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|todlo
DECL|member|pad8
id|u_char
id|todlo
suffix:semicolon
r_char
id|pad8
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|todmid
DECL|member|pad9
id|u_char
id|todmid
suffix:semicolon
r_char
id|pad9
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|todhi
DECL|member|pada
id|u_char
id|todhi
suffix:semicolon
r_char
id|pada
(braket
l_int|0x1ff
)braket
suffix:semicolon
DECL|member|sdr
DECL|member|padb
id|u_char
id|sdr
suffix:semicolon
r_char
id|padb
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|icr
DECL|member|padc
id|u_char
id|icr
suffix:semicolon
r_char
id|padc
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|cra
DECL|member|padd
id|u_char
id|cra
suffix:semicolon
r_char
id|padd
(braket
l_int|0xff
)braket
suffix:semicolon
DECL|member|crb
DECL|member|pade
id|u_char
id|crb
suffix:semicolon
r_char
id|pade
(braket
l_int|0xff
)braket
suffix:semicolon
)brace
suffix:semicolon
macro_line|#if 1
DECL|macro|zTwoBase
mdefine_line|#define zTwoBase (0x80000000)
DECL|macro|ZTWO_PADDR
mdefine_line|#define ZTWO_PADDR(x) (((unsigned long)(x))-zTwoBase)
DECL|macro|ZTWO_VADDR
mdefine_line|#define ZTWO_VADDR(x) (((unsigned long)(x))+zTwoBase)
macro_line|#else
DECL|macro|zTwoBase
mdefine_line|#define zTwoBase 0
DECL|macro|ZTWO_PADDR
mdefine_line|#define ZTWO_PADDR(x) (x)
DECL|macro|ZTWO_VADDR
mdefine_line|#define ZTWO_VADDR(x) (x)
macro_line|#endif
DECL|macro|CUSTOM_PHYSADDR
mdefine_line|#define CUSTOM_PHYSADDR     (0xdff000)
DECL|macro|custom
mdefine_line|#define custom ((*(volatile struct CUSTOM *)(zTwoBase+CUSTOM_PHYSADDR)))
DECL|macro|CIAA_PHYSADDR
mdefine_line|#define CIAA_PHYSADDR&t;  (0xbfe001)
DECL|macro|CIAB_PHYSADDR
mdefine_line|#define CIAB_PHYSADDR&t;  (0xbfd000)
DECL|macro|ciaa
mdefine_line|#define ciaa   ((*(volatile struct CIA *)(zTwoBase + CIAA_PHYSADDR)))
DECL|macro|ciab
mdefine_line|#define ciab   ((*(volatile struct CIA *)(zTwoBase + CIAB_PHYSADDR)))
DECL|macro|CHIP_PHYSADDR
mdefine_line|#define CHIP_PHYSADDR&t;    (0x000000)
DECL|macro|chipaddr
mdefine_line|#define chipaddr ((unsigned long)(zTwoBase + CHIP_PHYSADDR))
r_void
id|amiga_chip_init
(paren
r_void
)paren
suffix:semicolon
r_void
op_star
id|amiga_chip_alloc
(paren
r_int
id|size
)paren
suffix:semicolon
r_void
id|amiga_chip_free
(paren
r_void
op_star
)paren
suffix:semicolon
r_int
r_int
id|amiga_chip_avail
c_func
(paren
r_void
)paren
suffix:semicolon
multiline_comment|/*MILAN*/
DECL|struct|tod3000
r_struct
id|tod3000
(brace
DECL|member|second2
r_int
r_int
suffix:colon
l_int|28
comma
id|second2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|second1
r_int
r_int
suffix:colon
l_int|28
comma
id|second1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|minute2
r_int
r_int
suffix:colon
l_int|28
comma
id|minute2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|minute1
r_int
r_int
suffix:colon
l_int|28
comma
id|minute1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|hour2
r_int
r_int
suffix:colon
l_int|28
comma
id|hour2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|hour1
r_int
r_int
suffix:colon
l_int|28
comma
id|hour1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|weekday
r_int
r_int
suffix:colon
l_int|28
comma
id|weekday
suffix:colon
l_int|4
suffix:semicolon
DECL|member|day2
r_int
r_int
suffix:colon
l_int|28
comma
id|day2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|day1
r_int
r_int
suffix:colon
l_int|28
comma
id|day1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|month2
r_int
r_int
suffix:colon
l_int|28
comma
id|month2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|month1
r_int
r_int
suffix:colon
l_int|28
comma
id|month1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|year2
r_int
r_int
suffix:colon
l_int|28
comma
id|year2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|year1
r_int
r_int
suffix:colon
l_int|28
comma
id|year1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|cntrl1
r_int
r_int
suffix:colon
l_int|28
comma
id|cntrl1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* control-byte 1 */
DECL|member|cntrl2
r_int
r_int
suffix:colon
l_int|28
comma
id|cntrl2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* control-byte 2 */
DECL|member|cntrl3
r_int
r_int
suffix:colon
l_int|28
comma
id|cntrl3
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* control-byte 3 */
)brace
suffix:semicolon
DECL|macro|TOD3000_CNTRL1_HOLD
mdefine_line|#define TOD3000_CNTRL1_HOLD&t;0
DECL|macro|TOD3000_CNTRL1_FREE
mdefine_line|#define TOD3000_CNTRL1_FREE&t;9
DECL|macro|TOD_3000
mdefine_line|#define TOD_3000 ((struct tod3000 *)(zTwoBase+0xDC0000))
DECL|struct|tod2000
r_struct
id|tod2000
(brace
DECL|member|second2
r_int
r_int
suffix:colon
l_int|28
comma
id|second2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|second1
r_int
r_int
suffix:colon
l_int|28
comma
id|second1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|minute2
r_int
r_int
suffix:colon
l_int|28
comma
id|minute2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|minute1
r_int
r_int
suffix:colon
l_int|28
comma
id|minute1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|hour2
r_int
r_int
suffix:colon
l_int|28
comma
id|hour2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|hour1
r_int
r_int
suffix:colon
l_int|28
comma
id|hour1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|day2
r_int
r_int
suffix:colon
l_int|28
comma
id|day2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|day1
r_int
r_int
suffix:colon
l_int|28
comma
id|day1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|month2
r_int
r_int
suffix:colon
l_int|28
comma
id|month2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|month1
r_int
r_int
suffix:colon
l_int|28
comma
id|month1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|year2
r_int
r_int
suffix:colon
l_int|28
comma
id|year2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* lower digit */
DECL|member|year1
r_int
r_int
suffix:colon
l_int|28
comma
id|year1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* upper digit */
DECL|member|weekday
r_int
r_int
suffix:colon
l_int|28
comma
id|weekday
suffix:colon
l_int|4
suffix:semicolon
DECL|member|cntrl1
r_int
r_int
suffix:colon
l_int|28
comma
id|cntrl1
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* control-byte 1 */
DECL|member|cntrl2
r_int
r_int
suffix:colon
l_int|28
comma
id|cntrl2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* control-byte 2 */
DECL|member|cntrl3
r_int
r_int
suffix:colon
l_int|28
comma
id|cntrl3
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* control-byte 3 */
)brace
suffix:semicolon
DECL|macro|TOD2000_CNTRL1_HOLD
mdefine_line|#define TOD2000_CNTRL1_HOLD&t;(1&lt;&lt;0)
DECL|macro|TOD2000_CNTRL1_BUSY
mdefine_line|#define TOD2000_CNTRL1_BUSY&t;(1&lt;&lt;1)
DECL|macro|TOD2000_CNTRL3_24HMODE
mdefine_line|#define TOD2000_CNTRL3_24HMODE&t;(1&lt;&lt;2)
DECL|macro|TOD2000_HOUR1_PM
mdefine_line|#define TOD2000_HOUR1_PM&t;(1&lt;&lt;2)
DECL|macro|TOD_2000
mdefine_line|#define TOD_2000 ((struct tod2000 *)(zTwoBase+0xDC0000))
macro_line|#endif /* asm-m68k/amigahw.h */
eof
