macro_line|#ifndef __ASM_I82489_H
DECL|macro|__ASM_I82489_H
mdefine_line|#define __ASM_I82489_H
multiline_comment|/*&n; *&t;Offsets for programming the 82489 and Pentium integrated APIC&n; *&n; *&t;Alan Cox &lt;Alan.Cox@linux.org&gt;, 1995.&n; */
DECL|macro|APIC_PHYS_BASE
mdefine_line|#define&t;&t;APIC_PHYS_BASE&t;0xfee00000 /* IA s/w dev Vol 3, Section 7.4 */
DECL|macro|APIC_ID
mdefine_line|#define&t;&t;APIC_ID&t;&t;0x20
DECL|macro|GET_APIC_ID
mdefine_line|#define&t;&t;&t;GET_APIC_ID(x)&t;&t;(((x)&gt;&gt;24)&amp;0x0F)
DECL|macro|APIC_VERSION
mdefine_line|#define&t;&t;APIC_VERSION&t;0x30
DECL|macro|APIC_TASKPRI
mdefine_line|#define&t;&t;APIC_TASKPRI&t;0x80
DECL|macro|APIC_TPRI_MASK
mdefine_line|#define&t;&t;&t;APIC_TPRI_MASK&t;&t;0xFF
DECL|macro|APIC_ARBPRI
mdefine_line|#define&t;&t;APIC_ARBPRI&t;0x90
DECL|macro|APIC_PROCPRI
mdefine_line|#define&t;&t;APIC_PROCPRI&t;0xA0
DECL|macro|APIC_EOI
mdefine_line|#define&t;&t;APIC_EOI&t;0xB0
DECL|macro|APIC_EIO_ACK
mdefine_line|#define&t;&t;&t;APIC_EIO_ACK&t;&t;0x0&t;&t;/* Write this to the EOI register */
DECL|macro|APIC_RRR
mdefine_line|#define&t;&t;APIC_RRR&t;0xC0
DECL|macro|APIC_LDR
mdefine_line|#define&t;&t;APIC_LDR&t;0xD0
DECL|macro|GET_APIC_LOGICAL_ID
mdefine_line|#define&t;&t;&t;GET_APIC_LOGICAL_ID(x)&t;(((x)&gt;&gt;24)&amp;0xFF)
DECL|macro|APIC_DFR
mdefine_line|#define&t;&t;APIC_DFR&t;0xE0
DECL|macro|GET_APIC_DFR
mdefine_line|#define&t;&t;&t;GET_APIC_DFR(x)&t;&t;(((x)&gt;&gt;28)&amp;0x0F)
DECL|macro|SET_APIC_DFR
mdefine_line|#define&t;&t;&t;SET_APIC_DFR(x)&t;&t;((x)&lt;&lt;28)
DECL|macro|APIC_SPIV
mdefine_line|#define&t;&t;APIC_SPIV&t;0xF0
DECL|macro|APIC_ISR
mdefine_line|#define&t;&t;APIC_ISR&t;0x100
DECL|macro|APIC_TMR
mdefine_line|#define&t;&t;APIC_TMR&t;0x180
DECL|macro|APIC_IRR
mdefine_line|#define &t;APIC_IRR&t;0x200
DECL|macro|APIC_ESR
mdefine_line|#define &t;APIC_ESR&t;0x280
DECL|macro|APIC_ESR_SEND_CS
mdefine_line|#define&t;&t;&t;APIC_ESR_SEND_CS&t;0x00001
DECL|macro|APIC_ESR_RECV_CS
mdefine_line|#define&t;&t;&t;APIC_ESR_RECV_CS&t;0x00002
DECL|macro|APIC_ESR_SEND_ACC
mdefine_line|#define&t;&t;&t;APIC_ESR_SEND_ACC&t;0x00004
DECL|macro|APIC_ESR_RECV_ACC
mdefine_line|#define&t;&t;&t;APIC_ESR_RECV_ACC&t;0x00008
DECL|macro|APIC_ESR_SENDILL
mdefine_line|#define&t;&t;&t;APIC_ESR_SENDILL&t;0x00020
DECL|macro|APIC_ESR_RECVILL
mdefine_line|#define&t;&t;&t;APIC_ESR_RECVILL&t;0x00040
DECL|macro|APIC_ESR_ILLREGA
mdefine_line|#define&t;&t;&t;APIC_ESR_ILLREGA&t;0x00080
DECL|macro|APIC_ICR
mdefine_line|#define&t;&t;APIC_ICR&t;0x300
DECL|macro|APIC_DEST_FIELD
mdefine_line|#define&t;&t;&t;APIC_DEST_FIELD&t;&t;0x00000
DECL|macro|APIC_DEST_SELF
mdefine_line|#define&t;&t;&t;APIC_DEST_SELF&t;&t;0x40000
DECL|macro|APIC_DEST_ALLINC
mdefine_line|#define&t;&t;&t;APIC_DEST_ALLINC&t;0x80000
DECL|macro|APIC_DEST_ALLBUT
mdefine_line|#define&t;&t;&t;APIC_DEST_ALLBUT&t;0xC0000
DECL|macro|APIC_DEST_RR_MASK
mdefine_line|#define&t;&t;&t;APIC_DEST_RR_MASK&t;0x30000
DECL|macro|APIC_DEST_RR_INVALID
mdefine_line|#define&t;&t;&t;APIC_DEST_RR_INVALID&t;0x00000
DECL|macro|APIC_DEST_RR_INPROG
mdefine_line|#define&t;&t;&t;APIC_DEST_RR_INPROG&t;0x10000
DECL|macro|APIC_DEST_RR_VALID
mdefine_line|#define&t;&t;&t;APIC_DEST_RR_VALID&t;0x20000
DECL|macro|APIC_DEST_LEVELTRIG
mdefine_line|#define&t;&t;&t;APIC_DEST_LEVELTRIG&t;0x08000
DECL|macro|APIC_DEST_ASSERT
mdefine_line|#define&t;&t;&t;APIC_DEST_ASSERT&t;0x04000
DECL|macro|APIC_DEST_BUSY
mdefine_line|#define&t;&t;&t;APIC_DEST_BUSY&t;&t;0x01000
DECL|macro|APIC_DEST_LOGICAL
mdefine_line|#define&t;&t;&t;APIC_DEST_LOGICAL&t;0x00800
DECL|macro|APIC_DEST_DM_FIXED
mdefine_line|#define&t;&t;&t;APIC_DEST_DM_FIXED&t;0x00000
DECL|macro|APIC_DEST_DM_LOWEST
mdefine_line|#define&t;&t;&t;APIC_DEST_DM_LOWEST&t;0x00100
DECL|macro|APIC_DEST_DM_SMI
mdefine_line|#define&t;&t;&t;APIC_DEST_DM_SMI&t;0x00200
DECL|macro|APIC_DEST_DM_REMRD
mdefine_line|#define&t;&t;&t;APIC_DEST_DM_REMRD&t;0x00300
DECL|macro|APIC_DEST_DM_NMI
mdefine_line|#define&t;&t;&t;APIC_DEST_DM_NMI&t;0x00400
DECL|macro|APIC_DEST_DM_INIT
mdefine_line|#define&t;&t;&t;APIC_DEST_DM_INIT&t;0x00500
DECL|macro|APIC_DEST_DM_STARTUP
mdefine_line|#define&t;&t;&t;APIC_DEST_DM_STARTUP&t;0x00600
DECL|macro|APIC_DEST_VECTOR_MASK
mdefine_line|#define&t;&t;&t;APIC_DEST_VECTOR_MASK&t;0x000FF
DECL|macro|APIC_ICR2
mdefine_line|#define&t;&t;APIC_ICR2&t;0x310
DECL|macro|GET_APIC_DEST_FIELD
mdefine_line|#define&t;&t;&t;GET_APIC_DEST_FIELD(x)&t;(((x)&gt;&gt;24)&amp;0xFF)
DECL|macro|SET_APIC_DEST_FIELD
mdefine_line|#define&t;&t;&t;SET_APIC_DEST_FIELD(x)&t;((x)&lt;&lt;24)
DECL|macro|APIC_LVTT
mdefine_line|#define&t;&t;APIC_LVTT&t;0x320
DECL|macro|APIC_LVT0
mdefine_line|#define&t;&t;APIC_LVT0&t;0x350
DECL|macro|APIC_LVT_TIMER_PERIODIC
mdefine_line|#define&t;&t;&t;APIC_LVT_TIMER_PERIODIC&t;&t;(1&lt;&lt;17)
DECL|macro|APIC_LVT_MASKED
mdefine_line|#define&t;&t;&t;APIC_LVT_MASKED&t;&t;&t;(1&lt;&lt;16)
DECL|macro|APIC_LVT_LEVEL_TRIGGER
mdefine_line|#define&t;&t;&t;APIC_LVT_LEVEL_TRIGGER&t;&t;(1&lt;&lt;15)
DECL|macro|APIC_LVT_REMOTE_IRR
mdefine_line|#define&t;&t;&t;APIC_LVT_REMOTE_IRR&t;&t;(1&lt;&lt;14)
DECL|macro|APIC_INPUT_POLARITY
mdefine_line|#define&t;&t;&t;APIC_INPUT_POLARITY&t;&t;(1&lt;&lt;13)
DECL|macro|APIC_SEND_PENDING
mdefine_line|#define&t;&t;&t;APIC_SEND_PENDING&t;&t;(1&lt;&lt;12)
DECL|macro|GET_APIC_DELIVERY_MODE
mdefine_line|#define&t;&t;&t;GET_APIC_DELIVERY_MODE(x)&t;(((x)&gt;&gt;8)&amp;0x7)
DECL|macro|SET_APIC_DELIVERY_MODE
mdefine_line|#define&t;&t;&t;SET_APIC_DELIVERY_MODE(x,y)&t;(((x)&amp;~0x700)|((y)&lt;&lt;8))
DECL|macro|APIC_MODE_FIXED
mdefine_line|#define&t;&t;&t;&t;APIC_MODE_FIXED&t;&t;0x0
DECL|macro|APIC_MODE_NMI
mdefine_line|#define&t;&t;&t;&t;APIC_MODE_NMI&t;&t;0x4
DECL|macro|APIC_MODE_EXINT
mdefine_line|#define&t;&t;&t;&t;APIC_MODE_EXINT&t;&t;0x7
DECL|macro|APIC_LVT1
mdefine_line|#define &t;APIC_LVT1&t;0x360
DECL|macro|APIC_LVERR
mdefine_line|#define&t;&t;APIC_LVERR&t;0x370
DECL|macro|APIC_TMICT
mdefine_line|#define&t;&t;APIC_TMICT&t;0x380
DECL|macro|APIC_TMCCT
mdefine_line|#define&t;&t;APIC_TMCCT&t;0x390
DECL|macro|APIC_TDCR
mdefine_line|#define&t;&t;APIC_TDCR&t;0x3E0
DECL|macro|APIC_TDR_DIV_1
mdefine_line|#define&t;&t;&t;APIC_TDR_DIV_1&t;&t;0xB
DECL|macro|APIC_TDR_DIV_2
mdefine_line|#define&t;&t;&t;APIC_TDR_DIV_2&t;&t;0x0
DECL|macro|APIC_TDR_DIV_4
mdefine_line|#define&t;&t;&t;APIC_TDR_DIV_4&t;&t;0x1
DECL|macro|APIC_TDR_DIV_8
mdefine_line|#define&t;&t;&t;APIC_TDR_DIV_8&t;&t;0x2
DECL|macro|APIC_TDR_DIV_16
mdefine_line|#define&t;&t;&t;APIC_TDR_DIV_16&t;&t;0x3
DECL|macro|APIC_TDR_DIV_32
mdefine_line|#define&t;&t;&t;APIC_TDR_DIV_32&t;&t;0x8
DECL|macro|APIC_TDR_DIV_64
mdefine_line|#define&t;&t;&t;APIC_TDR_DIV_64&t;&t;0x9
DECL|macro|APIC_TDR_DIV_128
mdefine_line|#define&t;&t;&t;APIC_TDR_DIV_128&t;0xA
DECL|macro|APIC_BASE
mdefine_line|#define APIC_BASE (fix_to_virt(FIX_APIC_BASE))
DECL|function|apic_write
r_extern
id|__inline
r_void
id|apic_write
c_func
(paren
r_int
r_int
id|reg
comma
r_int
r_int
id|v
)paren
(brace
op_star
(paren
(paren
r_volatile
r_int
r_int
op_star
)paren
(paren
id|APIC_BASE
op_plus
id|reg
)paren
)paren
op_assign
id|v
suffix:semicolon
)brace
DECL|function|apic_read
r_extern
id|__inline
r_int
r_int
id|apic_read
c_func
(paren
r_int
r_int
id|reg
)paren
(brace
r_return
op_star
(paren
(paren
r_volatile
r_int
r_int
op_star
)paren
(paren
id|APIC_BASE
op_plus
id|reg
)paren
)paren
suffix:semicolon
)brace
macro_line|#endif
eof
