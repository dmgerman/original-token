multiline_comment|/*&n; * linux/include/asm-arm/arch-vnc/time.h&n; *&n; * Copyright (c) 1997 Corel Computer Corp.&n; * Slight modifications to bring in line with ebsa285 port.&n; *  -- Russell King.&n; */
DECL|function|gettimeoffset
r_extern
id|__inline__
r_int
r_int
id|gettimeoffset
(paren
r_void
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|reset_timer
r_extern
id|__inline__
r_int
id|reset_timer
(paren
r_void
)paren
(brace
op_star
id|CSR_TIMER1_CLR
op_assign
l_int|0
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
multiline_comment|/*&n; * We don&squot;t have a RTC to update!&n; */
DECL|macro|update_rtc
mdefine_line|#define update_rtc()
multiline_comment|/*&n; * Set up timer interrupt, and return the current time in seconds.&n; */
DECL|function|setup_timer
r_extern
id|__inline__
r_int
r_int
id|setup_timer
(paren
r_void
)paren
(brace
op_star
id|CSR_TIMER1_CLR
op_assign
l_int|1
suffix:semicolon
op_star
id|CSR_TIMER1_LOAD
op_assign
id|LATCH
suffix:semicolon
op_star
id|CSR_TIMER1_CNTL
op_assign
id|TIMER_CNTL_ENABLE
op_or
id|TIMER_CNTL_AUTORELOAD
op_or
id|TIMER_CNTL_DIV16
suffix:semicolon
multiline_comment|/*&n;&t; * Default the date to 1 Jan 1970 00:00:00&n;&t; * You will have to run a time daemon to set the&n;&t; * clock correctly at bootup&n;&t; */
r_return
id|mktime
c_func
(paren
l_int|1970
comma
l_int|1
comma
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
)brace
eof
