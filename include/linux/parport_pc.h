macro_line|#ifndef __LINUX_PARPORT_PC_H
DECL|macro|__LINUX_PARPORT_PC_H
mdefine_line|#define __LINUX_PARPORT_PC_H
macro_line|#include &lt;asm/io.h&gt;
multiline_comment|/* --- register definitions ------------------------------- */
DECL|macro|ECONTROL
mdefine_line|#define ECONTROL(p)&t;((p)-&gt;base_hi + 0x02)
DECL|macro|CONFIGB
mdefine_line|#define CONFIGB(p)&t;((p)-&gt;base_hi + 0x01)
DECL|macro|CONFIGA
mdefine_line|#define CONFIGA(p)&t;((p)-&gt;base_hi + 0x00)
DECL|macro|EPPDATA
mdefine_line|#define EPPDATA(p)&t;((p)-&gt;base    + 0x04)
DECL|macro|EPPADDR
mdefine_line|#define EPPADDR(p)&t;((p)-&gt;base    + 0x03)
DECL|macro|CONTROL
mdefine_line|#define CONTROL(p)&t;((p)-&gt;base    + 0x02)
DECL|macro|STATUS
mdefine_line|#define STATUS(p)&t;((p)-&gt;base    + 0x01)
DECL|macro|DATA
mdefine_line|#define DATA(p)&t;&t;((p)-&gt;base    + 0x00)
multiline_comment|/* Private data for PC low-level driver. */
DECL|struct|parport_pc_private
r_struct
id|parport_pc_private
(brace
multiline_comment|/* Contents of CTR. */
DECL|member|ctr
r_int
r_char
id|ctr
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_int
id|parport_pc_epp_clear_timeout
c_func
(paren
r_struct
id|parport
op_star
id|pb
)paren
suffix:semicolon
r_extern
r_volatile
r_int
r_char
id|parport_pc_ctr
suffix:semicolon
DECL|function|parport_pc_write_epp
r_extern
id|__inline__
r_void
id|parport_pc_write_epp
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
r_char
id|d
)paren
(brace
id|outb
c_func
(paren
id|d
comma
id|EPPDATA
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_read_epp
r_extern
id|__inline__
r_int
r_char
id|parport_pc_read_epp
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
(brace
r_return
id|inb
c_func
(paren
id|EPPDATA
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_write_epp_addr
r_extern
id|__inline__
r_void
id|parport_pc_write_epp_addr
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
r_char
id|d
)paren
(brace
id|outb
c_func
(paren
id|d
comma
id|EPPADDR
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_read_epp_addr
r_extern
id|__inline__
r_int
r_char
id|parport_pc_read_epp_addr
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
(brace
r_return
id|inb
c_func
(paren
id|EPPADDR
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_check_epp_timeout
r_extern
id|__inline__
r_int
id|parport_pc_check_epp_timeout
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|inb
c_func
(paren
id|STATUS
c_func
(paren
id|p
)paren
)paren
op_amp
l_int|1
)paren
)paren
r_return
l_int|0
suffix:semicolon
id|parport_pc_epp_clear_timeout
c_func
(paren
id|p
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
DECL|function|parport_pc_read_configb
r_extern
id|__inline__
r_int
r_char
id|parport_pc_read_configb
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
(brace
r_return
id|inb
c_func
(paren
id|CONFIGB
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_write_data
r_extern
id|__inline__
r_void
id|parport_pc_write_data
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
r_char
id|d
)paren
(brace
id|outb
c_func
(paren
id|d
comma
id|DATA
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_read_data
r_extern
id|__inline__
r_int
r_char
id|parport_pc_read_data
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
(brace
r_return
id|inb
c_func
(paren
id|DATA
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_write_control
r_extern
id|__inline__
r_void
id|parport_pc_write_control
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
r_char
id|d
)paren
(brace
r_struct
id|parport_pc_private
op_star
id|priv
op_assign
id|p-&gt;private_data
suffix:semicolon
id|priv-&gt;ctr
op_assign
id|d
suffix:semicolon
multiline_comment|/* update soft copy */
id|outb
c_func
(paren
id|d
comma
id|CONTROL
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_read_control
r_extern
id|__inline__
r_int
r_char
id|parport_pc_read_control
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
(brace
r_struct
id|parport_pc_private
op_star
id|priv
op_assign
id|p-&gt;private_data
suffix:semicolon
r_return
id|priv-&gt;ctr
suffix:semicolon
)brace
DECL|function|parport_pc_frob_control
r_extern
id|__inline__
r_int
r_char
id|parport_pc_frob_control
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
r_char
id|mask
comma
r_int
r_char
id|val
)paren
(brace
r_struct
id|parport_pc_private
op_star
id|priv
op_assign
id|p-&gt;private_data
suffix:semicolon
r_int
r_char
id|ctr
op_assign
id|priv-&gt;ctr
suffix:semicolon
id|ctr
op_assign
(paren
id|ctr
op_amp
op_complement
id|mask
)paren
op_xor
id|val
suffix:semicolon
id|outb
(paren
id|ctr
comma
id|CONTROL
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
r_return
id|priv-&gt;ctr
op_assign
id|ctr
suffix:semicolon
multiline_comment|/* update soft copy */
)brace
DECL|function|parport_pc_write_status
r_extern
id|__inline__
r_void
id|parport_pc_write_status
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
r_char
id|d
)paren
(brace
id|outb
c_func
(paren
id|d
comma
id|STATUS
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_read_status
r_extern
id|__inline__
r_int
r_char
id|parport_pc_read_status
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
(brace
r_return
id|inb
c_func
(paren
id|STATUS
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_write_econtrol
r_extern
id|__inline__
r_void
id|parport_pc_write_econtrol
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
r_char
id|d
)paren
(brace
id|outb
c_func
(paren
id|d
comma
id|ECONTROL
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_read_econtrol
r_extern
id|__inline__
r_int
r_char
id|parport_pc_read_econtrol
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
(brace
r_return
id|inb
c_func
(paren
id|ECONTROL
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
)brace
DECL|function|parport_pc_frob_econtrol
r_extern
id|__inline__
r_int
r_char
id|parport_pc_frob_econtrol
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
r_char
id|mask
comma
r_int
r_char
id|val
)paren
(brace
r_int
r_char
id|old
op_assign
id|inb
c_func
(paren
id|ECONTROL
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
id|outb
c_func
(paren
(paren
(paren
id|old
op_amp
op_complement
id|mask
)paren
op_xor
id|val
)paren
comma
id|ECONTROL
c_func
(paren
id|p
)paren
)paren
suffix:semicolon
r_return
id|old
suffix:semicolon
)brace
r_extern
r_void
id|parport_pc_change_mode
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
id|m
)paren
suffix:semicolon
r_extern
r_void
id|parport_pc_write_fifo
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_int
r_char
id|v
)paren
suffix:semicolon
r_extern
r_int
r_char
id|parport_pc_read_fifo
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
suffix:semicolon
r_extern
r_void
id|parport_pc_disable_irq
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
suffix:semicolon
r_extern
r_void
id|parport_pc_enable_irq
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
suffix:semicolon
r_extern
r_void
id|parport_pc_release_resources
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
suffix:semicolon
r_extern
r_int
id|parport_pc_claim_resources
c_func
(paren
r_struct
id|parport
op_star
id|p
)paren
suffix:semicolon
r_extern
r_void
id|parport_pc_init_state
c_func
(paren
r_struct
id|parport_state
op_star
id|s
)paren
suffix:semicolon
r_extern
r_void
id|parport_pc_save_state
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_struct
id|parport_state
op_star
id|s
)paren
suffix:semicolon
r_extern
r_void
id|parport_pc_restore_state
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_struct
id|parport_state
op_star
id|s
)paren
suffix:semicolon
r_extern
r_int
id|parport_pc_epp_read_block
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_void
op_star
id|buf
comma
r_int
id|length
)paren
suffix:semicolon
r_extern
r_int
id|parport_pc_epp_write_block
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_void
op_star
id|buf
comma
r_int
id|length
)paren
suffix:semicolon
r_extern
r_int
id|parport_pc_ecp_read_block
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_void
op_star
id|buf
comma
r_int
id|length
comma
r_void
(paren
op_star
id|fn
)paren
(paren
r_struct
id|parport
op_star
comma
r_void
op_star
comma
r_int
)paren
comma
r_void
op_star
id|handle
)paren
suffix:semicolon
r_extern
r_int
id|parport_pc_ecp_write_block
c_func
(paren
r_struct
id|parport
op_star
id|p
comma
r_void
op_star
id|buf
comma
r_int
id|length
comma
r_void
(paren
op_star
id|fn
)paren
(paren
r_struct
id|parport
op_star
comma
r_void
op_star
comma
r_int
)paren
comma
r_void
op_star
id|handle
)paren
suffix:semicolon
r_extern
r_void
id|parport_pc_inc_use_count
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|parport_pc_dec_use_count
c_func
(paren
r_void
)paren
suffix:semicolon
macro_line|#endif
eof
