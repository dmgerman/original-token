multiline_comment|/*&n; *  smb_fs.h&n; *&n; *  Copyright (C) 1995 by Paal-Kr. Engstad and Volker Lendecke&n; *  Copyright (C) 1997 by Volker Lendecke&n; *&n; */
macro_line|#ifndef _LINUX_SMB_FS_H
DECL|macro|_LINUX_SMB_FS_H
mdefine_line|#define _LINUX_SMB_FS_H
macro_line|#include &lt;linux/smb.h&gt;
multiline_comment|/*&n; * ioctl commands&n; */
DECL|macro|SMB_IOC_GETMOUNTUID
mdefine_line|#define&t;SMB_IOC_GETMOUNTUID&t;&t;_IOR(&squot;u&squot;, 1, uid_t)
DECL|macro|SMB_IOC_NEWCONN
mdefine_line|#define SMB_IOC_NEWCONN                 _IOW(&squot;u&squot;, 2, struct smb_conn_opt)
macro_line|#ifdef __KERNEL__
macro_line|#include &lt;asm/unaligned.h&gt;
DECL|macro|WVAL
mdefine_line|#define WVAL(buf,pos) &bslash;&n;(le16_to_cpu(get_unaligned((__u16 *)((__u8 *)(buf) + (pos)))))
DECL|macro|DVAL
mdefine_line|#define DVAL(buf,pos) &bslash;&n;(le32_to_cpu(get_unaligned((__u32 *)((__u8 *)(buf) + (pos)))))
DECL|macro|WSET
mdefine_line|#define WSET(buf,pos,val) &bslash;&n;put_unaligned(cpu_to_le16((__u16)(val)), (__u16 *)((__u8 *)(buf) + (pos)))
DECL|macro|DSET
mdefine_line|#define DSET(buf,pos,val) &bslash;&n;put_unaligned(cpu_to_le32((__u32)(val)), (__u32 *)((__u8 *)(buf) + (pos)))
multiline_comment|/* where to find the base of the SMB packet proper */
DECL|macro|smb_base
mdefine_line|#define smb_base(buf) ((__u8 *)(((__u8 *)(buf))+4))
macro_line|#include &lt;linux/vmalloc.h&gt;
macro_line|#ifdef DEBUG_SMB_MALLOC
r_extern
r_int
id|smb_malloced
suffix:semicolon
r_extern
r_int
id|smb_current_vmalloced
suffix:semicolon
r_static
r_inline
r_void
op_star
DECL|function|smb_vmalloc
id|smb_vmalloc
c_func
(paren
r_int
r_int
id|size
)paren
(brace
id|smb_malloced
op_add_assign
l_int|1
suffix:semicolon
id|smb_current_vmalloced
op_add_assign
l_int|1
suffix:semicolon
r_return
id|vmalloc
c_func
(paren
id|size
)paren
suffix:semicolon
)brace
r_static
r_inline
r_void
DECL|function|smb_vfree
id|smb_vfree
c_func
(paren
r_void
op_star
id|obj
)paren
(brace
id|smb_current_vmalloced
op_sub_assign
l_int|1
suffix:semicolon
id|vfree
c_func
(paren
id|obj
)paren
suffix:semicolon
)brace
macro_line|#else /* DEBUG_SMB_MALLOC */
DECL|macro|smb_kmalloc
mdefine_line|#define smb_kmalloc(s,p) kmalloc(s,p)
DECL|macro|smb_kfree_s
mdefine_line|#define smb_kfree_s(o,s) kfree_s(o,s)
DECL|macro|smb_vmalloc
mdefine_line|#define smb_vmalloc(s)   vmalloc(s)
DECL|macro|smb_vfree
mdefine_line|#define smb_vfree(o)     vfree(o)
macro_line|#endif /* DEBUG_SMB_MALLOC */
r_struct
id|smb_sb_info
suffix:semicolon
multiline_comment|/* linux/fs/smbfs/file.c */
r_extern
r_struct
id|inode_operations
id|smb_file_inode_operations
suffix:semicolon
multiline_comment|/* linux/fs/smbfs/dir.c */
r_extern
r_struct
id|inode_operations
id|smb_dir_inode_operations
suffix:semicolon
r_struct
id|smb_inode_info
op_star
id|smb_find_inode
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
comma
id|ino_t
id|ino
)paren
suffix:semicolon
r_void
id|smb_free_inode_info
c_func
(paren
r_struct
id|smb_inode_info
op_star
id|i
)paren
suffix:semicolon
r_void
id|smb_free_all_inodes
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_void
id|smb_init_root
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_stat_root
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_void
id|smb_init_dir_cache
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|smb_invalid_dir_cache
c_func
(paren
r_int
r_int
id|ino
)paren
suffix:semicolon
r_void
id|smb_free_dir_cache
c_func
(paren
r_void
)paren
suffix:semicolon
multiline_comment|/* linux/fs/smbfs/ioctl.c */
r_int
id|smb_ioctl
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
multiline_comment|/* linux/fs/smbfs/inode.c */
r_struct
id|super_block
op_star
id|smb_read_super
c_func
(paren
r_struct
id|super_block
op_star
id|sb
comma
r_void
op_star
id|raw_data
comma
r_int
id|silent
)paren
suffix:semicolon
r_extern
r_int
id|init_smb_fs
c_func
(paren
r_void
)paren
suffix:semicolon
r_void
id|smb_invalidate_inodes
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_revalidate_inode
c_func
(paren
r_struct
id|inode
op_star
id|i
)paren
suffix:semicolon
r_int
id|smb_refresh_inode
c_func
(paren
r_struct
id|inode
op_star
id|i
)paren
suffix:semicolon
r_int
id|smb_notify_change
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|iattr
op_star
id|attr
)paren
suffix:semicolon
r_void
id|smb_invalidate_connection
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_conn_is_valid
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
r_int
id|smb_invent_inos
c_func
(paren
r_int
r_int
id|n
)paren
suffix:semicolon
r_struct
id|inode
op_star
id|smb_iget
c_func
(paren
r_struct
id|super_block
op_star
comma
r_struct
id|smb_fattr
op_star
)paren
suffix:semicolon
multiline_comment|/* linux/fs/smbfs/proc.c */
id|__u32
id|smb_len
c_func
(paren
r_int
r_char
op_star
id|packet
)paren
suffix:semicolon
id|__u8
op_star
id|smb_encode_smb_length
c_func
(paren
id|__u8
op_star
id|p
comma
id|__u32
id|len
)paren
suffix:semicolon
id|__u8
op_star
id|smb_setup_header
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
comma
id|__u8
id|command
comma
id|__u16
id|wct
comma
id|__u16
id|bcc
)paren
suffix:semicolon
r_int
id|smb_offerconn
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_newconn
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
comma
r_struct
id|smb_conn_opt
op_star
id|opt
)paren
suffix:semicolon
r_int
id|smb_close
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_int
id|smb_open
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
)paren
suffix:semicolon
r_static
r_inline
r_int
DECL|function|smb_is_open
id|smb_is_open
c_func
(paren
r_struct
id|inode
op_star
id|i
)paren
(brace
r_return
(paren
id|i-&gt;u.smbfs_i.open
op_eq
id|SMB_SERVER
c_func
(paren
id|i
)paren
op_member_access_from_pointer
id|generation
)paren
suffix:semicolon
)brace
r_int
id|smb_proc_read
c_func
(paren
r_struct
id|inode
op_star
comma
id|off_t
comma
r_int
comma
r_char
op_star
)paren
suffix:semicolon
r_int
id|smb_proc_write
c_func
(paren
r_struct
id|inode
op_star
comma
id|off_t
comma
r_int
comma
r_const
r_char
op_star
)paren
suffix:semicolon
r_int
id|smb_proc_create
c_func
(paren
r_struct
id|inode
op_star
comma
r_struct
id|qstr
op_star
comma
id|__u16
comma
id|time_t
)paren
suffix:semicolon
r_int
id|smb_proc_mv
c_func
(paren
r_struct
id|inode
op_star
comma
r_struct
id|qstr
op_star
comma
r_struct
id|inode
op_star
comma
r_struct
id|qstr
op_star
)paren
suffix:semicolon
r_int
id|smb_proc_mkdir
c_func
(paren
r_struct
id|inode
op_star
comma
r_struct
id|qstr
op_star
)paren
suffix:semicolon
r_int
id|smb_proc_rmdir
c_func
(paren
r_struct
id|inode
op_star
comma
r_struct
id|qstr
op_star
)paren
suffix:semicolon
r_int
id|smb_proc_unlink
c_func
(paren
r_struct
id|inode
op_star
id|dir
comma
r_struct
id|qstr
op_star
)paren
suffix:semicolon
r_int
id|smb_proc_readdir
c_func
(paren
r_struct
id|inode
op_star
id|dir
comma
r_int
id|fpos
comma
r_int
id|cache_size
comma
r_struct
id|smb_dirent
op_star
id|entry
)paren
suffix:semicolon
r_int
id|smb_proc_getattr
c_func
(paren
r_struct
id|inode
op_star
id|dir
comma
r_struct
id|qstr
op_star
id|name
comma
r_struct
id|smb_fattr
op_star
id|entry
)paren
suffix:semicolon
r_int
id|smb_proc_setattr
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
comma
r_struct
id|inode
op_star
id|ino
comma
r_struct
id|smb_fattr
op_star
id|new_finfo
)paren
suffix:semicolon
r_int
id|smb_proc_dskattr
c_func
(paren
r_struct
id|super_block
op_star
id|sb
comma
r_struct
id|statfs
op_star
id|attr
)paren
suffix:semicolon
r_int
id|smb_proc_reconnect
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_proc_connect
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_proc_disconnect
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_proc_trunc
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
comma
id|__u16
id|fid
comma
id|__u32
id|length
)paren
suffix:semicolon
r_void
id|smb_init_root_dirent
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
comma
r_struct
id|smb_fattr
op_star
)paren
suffix:semicolon
multiline_comment|/* linux/fs/smbfs/sock.c */
r_int
id|smb_release
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_connect
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_request
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_request_read_raw
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
comma
r_int
r_char
op_star
id|target
comma
r_int
id|max_len
)paren
suffix:semicolon
r_int
id|smb_request_write_raw
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
comma
r_int
r_const
r_char
op_star
id|source
comma
r_int
id|length
)paren
suffix:semicolon
r_int
id|smb_catch_keepalive
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_dont_catch_keepalive
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
)paren
suffix:semicolon
r_int
id|smb_trans2_request
c_func
(paren
r_struct
id|smb_sb_info
op_star
id|server
comma
id|__u16
id|trans2_command
comma
r_int
id|ldata
comma
r_int
r_char
op_star
id|data
comma
r_int
id|lparam
comma
r_int
r_char
op_star
id|param
comma
r_int
op_star
id|lrdata
comma
r_int
r_char
op_star
op_star
id|rdata
comma
r_int
op_star
id|lrparam
comma
r_int
r_char
op_star
op_star
id|rparam
)paren
suffix:semicolon
multiline_comment|/* linux/fs/smbfs/mmap.c */
r_int
id|smb_mmap
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|file
comma
r_struct
id|vm_area_struct
op_star
id|vma
)paren
suffix:semicolon
macro_line|#endif /* __KERNEL__ */
macro_line|#endif /* _LINUX_SMB_FS_H */
eof
