macro_line|#ifndef _XIA_FS_H
DECL|macro|_XIA_FS_H
mdefine_line|#define _XIA_FS_H
multiline_comment|/*&n; * include/linux/xia_fs.h&n; *&n; * Copyright (C) Q. Frank Xia, 1993.&n; *&n; * Based on Linus&squot; minix_fs.h.&n; * Copyright (C) Linus Torvalds, 1991, 1992.&n; */
DECL|macro|_XIAFS_SUPER_MAGIC
mdefine_line|#define _XIAFS_SUPER_MAGIC 0x012FD16D
DECL|macro|_XIAFS_ROOT_INO
mdefine_line|#define _XIAFS_ROOT_INO 1
DECL|macro|_XIAFS_BAD_INO
mdefine_line|#define _XIAFS_BAD_INO  2
DECL|macro|_XIAFS_NAME_LEN
mdefine_line|#define _XIAFS_NAME_LEN 248
DECL|macro|_XIAFS_INODES_PER_BLOCK
mdefine_line|#define _XIAFS_INODES_PER_BLOCK ((BLOCK_SIZE)/(sizeof(struct xiafs_inode)))
DECL|struct|xiafs_inode
r_struct
id|xiafs_inode
(brace
multiline_comment|/* 64 bytes */
DECL|member|i_mode
id|mode_t
id|i_mode
suffix:semicolon
DECL|member|i_nlinks
id|nlink_t
id|i_nlinks
suffix:semicolon
DECL|member|i_uid
id|uid_t
id|i_uid
suffix:semicolon
DECL|member|i_gid
id|gid_t
id|i_gid
suffix:semicolon
DECL|member|i_size
r_int
id|i_size
suffix:semicolon
multiline_comment|/* 8 */
DECL|member|i_ctime
id|time_t
id|i_ctime
suffix:semicolon
DECL|member|i_atime
id|time_t
id|i_atime
suffix:semicolon
DECL|member|i_mtime
id|time_t
id|i_mtime
suffix:semicolon
DECL|member|i_zone
id|daddr_t
id|i_zone
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|i_ind_zone
id|daddr_t
id|i_ind_zone
suffix:semicolon
DECL|member|i_dind_zone
id|daddr_t
id|i_dind_zone
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*&n; * linux super-block data on disk&n; */
DECL|struct|xiafs_super_block
r_struct
id|xiafs_super_block
(brace
DECL|member|s_boot_segment
id|u_char
id|s_boot_segment
(braket
l_int|512
)braket
suffix:semicolon
multiline_comment|/*  1st sector reserved for boot */
DECL|member|s_zone_size
id|u_long
id|s_zone_size
suffix:semicolon
multiline_comment|/*  0: the name says it&t;&t; */
DECL|member|s_nzones
id|u_long
id|s_nzones
suffix:semicolon
multiline_comment|/*  1: volume size, zone aligned */
DECL|member|s_ninodes
id|u_long
id|s_ninodes
suffix:semicolon
multiline_comment|/*  2: # of inodes&t;&t; */
DECL|member|s_ndatazones
id|u_long
id|s_ndatazones
suffix:semicolon
multiline_comment|/*  3: # of data zones&t;&t; */
DECL|member|s_imap_zones
id|u_long
id|s_imap_zones
suffix:semicolon
multiline_comment|/*  4: # of imap zones           */
DECL|member|s_zmap_zones
id|u_long
id|s_zmap_zones
suffix:semicolon
multiline_comment|/*  5: # of zmap zones&t;&t; */
DECL|member|s_firstdatazone
id|u_long
id|s_firstdatazone
suffix:semicolon
multiline_comment|/*  6: first data zone           */
DECL|member|s_zone_shift
id|u_long
id|s_zone_shift
suffix:semicolon
multiline_comment|/*  7: z size = 1KB &lt;&lt; z shift   */
DECL|member|s_max_size
id|u_long
id|s_max_size
suffix:semicolon
multiline_comment|/*  8: max size of a single file */
DECL|member|s_reserved0
id|u_long
id|s_reserved0
suffix:semicolon
multiline_comment|/*  9: reserved&t;&t;&t; */
DECL|member|s_reserved1
id|u_long
id|s_reserved1
suffix:semicolon
multiline_comment|/* 10: &t;&t;&t;&t; */
DECL|member|s_reserved2
id|u_long
id|s_reserved2
suffix:semicolon
multiline_comment|/* 11:&t;&t;&t;&t; */
DECL|member|s_reserved3
id|u_long
id|s_reserved3
suffix:semicolon
multiline_comment|/* 12:&t;&t;&t;&t; */
DECL|member|s_firstkernzone
id|u_long
id|s_firstkernzone
suffix:semicolon
multiline_comment|/* 13: first kernel zone&t; */
DECL|member|s_kernzones
id|u_long
id|s_kernzones
suffix:semicolon
multiline_comment|/* 14: kernel size in zones&t; */
DECL|member|s_magic
id|u_long
id|s_magic
suffix:semicolon
multiline_comment|/* 15: magic number for xiafs    */
)brace
suffix:semicolon
DECL|struct|xiafs_direct
r_struct
id|xiafs_direct
(brace
DECL|member|d_ino
id|ino_t
id|d_ino
suffix:semicolon
DECL|member|d_rec_len
id|u_short
id|d_rec_len
suffix:semicolon
DECL|member|d_name_len
id|u_char
id|d_name_len
suffix:semicolon
DECL|member|d_name
r_char
id|d_name
(braket
id|_XIAFS_NAME_LEN
op_plus
l_int|1
)braket
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_int
id|xiafs_lookup
c_func
(paren
r_struct
id|inode
op_star
id|dir
comma
r_const
r_char
op_star
id|name
comma
r_int
id|len
comma
r_struct
id|inode
op_star
op_star
id|result
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_create
c_func
(paren
r_struct
id|inode
op_star
id|dir
comma
r_const
r_char
op_star
id|name
comma
r_int
id|len
comma
r_int
id|mode
comma
r_struct
id|inode
op_star
op_star
id|result
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_mkdir
c_func
(paren
r_struct
id|inode
op_star
id|dir
comma
r_const
r_char
op_star
id|name
comma
r_int
id|len
comma
r_int
id|mode
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_rmdir
c_func
(paren
r_struct
id|inode
op_star
id|dir
comma
r_const
r_char
op_star
id|name
comma
r_int
id|len
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_unlink
c_func
(paren
r_struct
id|inode
op_star
id|dir
comma
r_const
r_char
op_star
id|name
comma
r_int
id|len
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_symlink
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_const
r_char
op_star
id|name
comma
r_int
id|len
comma
r_const
r_char
op_star
id|symname
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_link
c_func
(paren
r_struct
id|inode
op_star
id|oldinode
comma
r_struct
id|inode
op_star
id|dir
comma
r_const
r_char
op_star
id|name
comma
r_int
id|len
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_mknod
c_func
(paren
r_struct
id|inode
op_star
id|dir
comma
r_const
r_char
op_star
id|name
comma
r_int
id|len
comma
r_int
id|mode
comma
r_int
id|rdev
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_rename
c_func
(paren
r_struct
id|inode
op_star
id|old_dir
comma
r_const
r_char
op_star
id|old_name
comma
r_int
id|old_len
comma
r_struct
id|inode
op_star
id|new_dir
comma
r_const
r_char
op_star
id|new_name
comma
r_int
id|new_len
)paren
suffix:semicolon
r_extern
r_struct
id|inode
op_star
id|xiafs_new_inode
c_func
(paren
r_struct
id|inode
op_star
id|dir
)paren
suffix:semicolon
r_extern
r_void
id|xiafs_free_inode
c_func
(paren
r_struct
id|inode
op_star
id|inode
)paren
suffix:semicolon
r_extern
r_int
r_int
id|xiafs_count_free_inodes
c_func
(paren
r_struct
id|super_block
op_star
id|sb
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_new_zone
c_func
(paren
r_struct
id|super_block
op_star
id|sb
comma
id|u_long
id|prev_addr
)paren
suffix:semicolon
r_extern
r_void
id|xiafs_free_zone
c_func
(paren
r_struct
id|super_block
op_star
id|sb
comma
r_int
id|block
)paren
suffix:semicolon
r_extern
r_int
r_int
id|xiafs_count_free_zones
c_func
(paren
r_struct
id|super_block
op_star
id|sb
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_bmap
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_struct
id|buffer_head
op_star
id|xiafs_getblk
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
comma
r_int
)paren
suffix:semicolon
r_extern
r_struct
id|buffer_head
op_star
id|xiafs_bread
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
comma
r_int
)paren
suffix:semicolon
r_extern
r_void
id|xiafs_truncate
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_void
id|xiafs_put_super
c_func
(paren
r_struct
id|super_block
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|super_block
op_star
id|xiafs_read_super
c_func
(paren
r_struct
id|super_block
op_star
comma
r_void
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_void
id|xiafs_read_inode
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_void
id|xiafs_write_inode
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_void
id|xiafs_put_inode
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_void
id|xiafs_statfs
c_func
(paren
r_struct
id|super_block
op_star
comma
r_struct
id|statfs
op_star
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_sync_inode
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_int
id|xiafs_sync_file
c_func
(paren
r_struct
id|inode
op_star
comma
r_struct
id|file
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|inode_operations
id|xiafs_file_inode_operations
suffix:semicolon
r_extern
r_struct
id|inode_operations
id|xiafs_dir_inode_operations
suffix:semicolon
r_extern
r_struct
id|inode_operations
id|xiafs_symlink_inode_operations
suffix:semicolon
r_extern
r_struct
id|file_operations
id|xiafs_file_operations
suffix:semicolon
r_extern
r_struct
id|file_operations
id|xiafs_dir_operations
suffix:semicolon
macro_line|#endif  /* _XIA_FS_H */
eof
