multiline_comment|/* $Id: irq.h,v 1.10 1998/05/29 06:00:39 ecd Exp $&n; * irq.h: IRQ registers on the 64-bit Sparc.&n; *&n; * Copyright (C) 1996 David S. Miller (davem@caip.rutgers.edu)&n; * Copyright (C) 1998 Jakub Jelinek (jj@ultra.linux.cz)&n; */
macro_line|#ifndef _SPARC64_IRQ_H
DECL|macro|_SPARC64_IRQ_H
mdefine_line|#define _SPARC64_IRQ_H
macro_line|#include &lt;linux/linkage.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
DECL|struct|devid_cookie
r_struct
id|devid_cookie
(brace
DECL|member|dummy
r_int
id|dummy
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/* You should not mess with this directly. That&squot;s the job of irq.c. */
DECL|struct|ino_bucket
r_struct
id|ino_bucket
(brace
DECL|member|ino
r_int
r_int
id|ino
suffix:semicolon
DECL|member|imap_off
r_int
id|imap_off
suffix:semicolon
DECL|member|pil
r_int
r_int
id|pil
suffix:semicolon
DECL|member|flags
r_int
r_int
id|flags
suffix:semicolon
DECL|member|iclr
r_int
r_int
op_star
id|iclr
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|__irq_ino
mdefine_line|#define __irq_ino(irq) ((struct ino_bucket *)(unsigned long)(irq))-&gt;ino
DECL|macro|__irq_pil
mdefine_line|#define __irq_pil(irq) ((struct ino_bucket *)(unsigned long)(irq))-&gt;pil
DECL|function|__irq_itoa
r_static
id|__inline__
r_char
op_star
id|__irq_itoa
c_func
(paren
r_int
r_int
id|irq
)paren
(brace
r_static
r_char
id|buff
(braket
l_int|16
)braket
suffix:semicolon
id|sprintf
c_func
(paren
id|buff
comma
l_string|&quot;%d,%x&quot;
comma
id|__irq_pil
c_func
(paren
id|irq
)paren
comma
id|__irq_ino
c_func
(paren
id|irq
)paren
)paren
suffix:semicolon
r_return
id|buff
suffix:semicolon
)brace
DECL|macro|NR_IRQS
mdefine_line|#define NR_IRQS    15
r_extern
r_void
id|disable_irq
c_func
(paren
r_int
r_int
)paren
suffix:semicolon
r_extern
r_void
id|enable_irq
c_func
(paren
r_int
r_int
)paren
suffix:semicolon
r_extern
r_void
id|init_timers
c_func
(paren
r_void
(paren
op_star
id|lvl10_irq
)paren
(paren
r_int
comma
r_void
op_star
comma
r_struct
id|pt_regs
op_star
)paren
comma
r_int
r_int
op_star
)paren
suffix:semicolon
r_extern
r_int
r_int
id|build_irq
c_func
(paren
r_int
id|pil
comma
r_int
id|inofixup
comma
r_int
r_int
op_star
id|iclr
comma
r_int
r_int
op_star
id|imap
)paren
suffix:semicolon
r_extern
r_int
r_int
id|sbus_build_irq
c_func
(paren
r_void
op_star
id|sbus
comma
r_int
r_int
id|ino
)paren
suffix:semicolon
r_extern
r_int
r_int
id|psycho_build_irq
c_func
(paren
r_void
op_star
id|psycho
comma
r_int
id|imap_off
comma
r_int
id|ino
comma
r_int
id|need_dma_sync
)paren
suffix:semicolon
macro_line|#ifdef __SMP__
r_extern
r_void
id|set_cpu_int
c_func
(paren
r_int
comma
r_int
)paren
suffix:semicolon
r_extern
r_void
id|clear_cpu_int
c_func
(paren
r_int
comma
r_int
)paren
suffix:semicolon
r_extern
r_void
id|set_irq_udt
c_func
(paren
r_int
)paren
suffix:semicolon
macro_line|#endif
r_extern
r_int
id|request_fast_irq
c_func
(paren
r_int
r_int
id|irq
comma
r_void
(paren
op_star
id|handler
)paren
(paren
r_int
comma
r_void
op_star
comma
r_struct
id|pt_regs
op_star
)paren
comma
r_int
r_int
id|flags
comma
id|__const__
r_char
op_star
id|devname
comma
r_void
op_star
id|dev_id
)paren
suffix:semicolon
DECL|function|set_softint
r_extern
id|__inline__
r_void
id|set_softint
c_func
(paren
r_int
r_int
id|bits
)paren
(brace
id|__asm__
id|__volatile__
c_func
(paren
l_string|&quot;wr&t;%0, 0x0, %%set_softint&quot;
suffix:colon
multiline_comment|/* No outputs */
suffix:colon
l_string|&quot;r&quot;
(paren
id|bits
)paren
)paren
suffix:semicolon
)brace
DECL|function|clear_softint
r_extern
id|__inline__
r_void
id|clear_softint
c_func
(paren
r_int
r_int
id|bits
)paren
(brace
id|__asm__
id|__volatile__
c_func
(paren
l_string|&quot;wr&t;%0, 0x0, %%clear_softint&quot;
suffix:colon
multiline_comment|/* No outputs */
suffix:colon
l_string|&quot;r&quot;
(paren
id|bits
)paren
)paren
suffix:semicolon
)brace
DECL|function|get_softint
r_extern
id|__inline__
r_int
r_int
id|get_softint
c_func
(paren
r_void
)paren
(brace
r_int
r_int
id|retval
suffix:semicolon
id|__asm__
id|__volatile__
c_func
(paren
l_string|&quot;rd&t;%%softint, %0&quot;
suffix:colon
l_string|&quot;=r&quot;
(paren
id|retval
)paren
)paren
suffix:semicolon
r_return
id|retval
suffix:semicolon
)brace
macro_line|#endif
eof
