multiline_comment|/* $Id: ebus.h,v 1.1 1997/08/12 04:13:12 ecd Exp $&n; * ebus.h: PCI to Ebus pseudo driver software state.&n; *&n; * Copyright (C) 1997 Eddie C. Dost (ecd@skynet.be)&n; */
macro_line|#ifndef __SPARC64_EBUS_H
DECL|macro|__SPARC64_EBUS_H
mdefine_line|#define __SPARC64_EBUS_H
macro_line|#include &lt;asm/oplib.h&gt;
DECL|struct|linux_ebus_device
r_struct
id|linux_ebus_device
(brace
DECL|member|next
r_struct
id|linux_ebus_device
op_star
id|next
suffix:semicolon
DECL|member|parent
r_struct
id|linux_ebus
op_star
id|parent
suffix:semicolon
DECL|member|prom_node
r_int
id|prom_node
suffix:semicolon
DECL|member|prom_name
r_char
id|prom_name
(braket
l_int|64
)braket
suffix:semicolon
DECL|member|regs
r_struct
id|linux_prom_registers
id|regs
(braket
id|PROMREG_MAX
)braket
suffix:semicolon
DECL|member|num_registers
r_int
id|num_registers
suffix:semicolon
DECL|member|irqs
r_struct
id|linux_prom_irqs
id|irqs
(braket
id|PROMINTR_MAX
)braket
suffix:semicolon
DECL|member|num_irqs
r_int
id|num_irqs
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|linux_ebus
r_struct
id|linux_ebus
(brace
DECL|member|next
r_struct
id|linux_ebus
op_star
id|next
suffix:semicolon
DECL|member|devices
r_struct
id|linux_ebus_device
op_star
id|devices
suffix:semicolon
DECL|member|parent
r_struct
id|linux_pbm_info
op_star
id|parent
suffix:semicolon
DECL|member|prom_node
r_int
id|prom_node
suffix:semicolon
DECL|member|prom_name
r_char
id|prom_name
(braket
l_int|64
)braket
suffix:semicolon
DECL|member|ebus_ranges
r_struct
id|linux_prom_ranges
id|ebus_ranges
(braket
id|PROMREG_MAX
)braket
suffix:semicolon
DECL|member|num_ebus_ranges
r_int
id|num_ebus_ranges
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_struct
id|linux_ebus
op_star
id|ebus_chain
suffix:semicolon
r_extern
r_int
r_int
id|ebus_init
c_func
(paren
r_int
r_int
comma
r_int
r_int
)paren
suffix:semicolon
r_extern
r_void
id|prom_apply_ebus_ranges
c_func
(paren
r_struct
id|linux_ebus
op_star
id|ebus
comma
r_struct
id|linux_prom_registers
op_star
id|regs
comma
r_int
id|nregs
)paren
suffix:semicolon
DECL|macro|for_each_ebus
mdefine_line|#define for_each_ebus(bus)&t;&t;&t;&t;&t;&t;&bslash;&n;        for((bus) = ebus_chain; (bus); (bus) = (bus)-&gt;next)
DECL|macro|for_each_ebusdev
mdefine_line|#define for_each_ebusdev(dev, bus)&t;&t;&t;&t;&t;&bslash;&n;        for((dev) = (bus)-&gt;devices; (dev); (dev) = (dev)-&gt;next)
DECL|macro|for_all_ebusdev
mdefine_line|#define for_all_ebusdev(dev, bus)&t;&t;&t;&t;&t;&bslash;&n;&t;for ((bus) = ebus_chain, ((dev) = (bus) ? (bus)-&gt;devices : 0);&t;&bslash;&n;&t;     (bus); ((dev) = (dev)-&gt;next ? (dev)-&gt;next :&t;&t;&bslash;&n;&t;     ((bus) = (bus)-&gt;next, (bus) ? (bus)-&gt;devices : 0)))
macro_line|#endif /* !(__SPARC64_EBUS_H) */
eof
