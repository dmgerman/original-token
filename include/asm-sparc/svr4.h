multiline_comment|/* Solaris/SPARC constants and definitions -- &n; * (C) 1996 Miguel de Icaza&n; *&n; * This file is not meant to be included by user level applications&n; * but the solaris syscall emulator&n; */
macro_line|#ifndef _SPARC_SVR4_H
DECL|macro|_SPARC_SVR4_H
mdefine_line|#define _SPARC_SVR4_H
multiline_comment|/* Signals as used by svr4 */
r_typedef
r_struct
(brace
multiline_comment|/* signal set type */
DECL|member|sigbits
id|ulong
id|sigbits
(braket
l_int|4
)braket
suffix:semicolon
DECL|typedef|svr4_sigset_t
)brace
id|svr4_sigset_t
suffix:semicolon
multiline_comment|/* Values for siginfo.code */
DECL|macro|SVR4_SINOINFO
mdefine_line|#define SVR4_SINOINFO 32767
multiline_comment|/* Siginfo, sucker expects bunch of information on those parameters */
r_typedef
r_union
(brace
DECL|member|total_size
r_char
id|total_size
(braket
l_int|128
)braket
suffix:semicolon
r_struct
(brace
DECL|member|signo
r_int
id|signo
suffix:semicolon
DECL|member|code
r_int
id|code
suffix:semicolon
DECL|member|error
r_int
id|error
suffix:semicolon
r_union
(brace
DECL|member|data
)brace
id|data
suffix:semicolon
DECL|member|siginfo
)brace
id|siginfo
suffix:semicolon
DECL|typedef|svr4_siginfo_t
)brace
id|svr4_siginfo_t
suffix:semicolon
multiline_comment|/* Context definition */
multiline_comment|/* Location of the user stored registers into a greg_t */
r_enum
(brace
DECL|enumerator|SVR4_PSR
DECL|enumerator|SVR4_PC
DECL|enumerator|SVR4_NPC
DECL|enumerator|SVR4_Y
id|SVR4_PSR
comma
id|SVR4_PC
comma
id|SVR4_NPC
comma
id|SVR4_Y
comma
DECL|enumerator|SVR4_G1
DECL|enumerator|SVR4_G2
DECL|enumerator|SVR4_G3
DECL|enumerator|SVR4_G4
id|SVR4_G1
comma
id|SVR4_G2
comma
id|SVR4_G3
comma
id|SVR4_G4
comma
DECL|enumerator|SVR4_G5
DECL|enumerator|SVR4_G6
DECL|enumerator|SVR4_G7
DECL|enumerator|SVR4_O0
id|SVR4_G5
comma
id|SVR4_G6
comma
id|SVR4_G7
comma
id|SVR4_O0
comma
DECL|enumerator|SVR4_O1
DECL|enumerator|SVR4_O2
DECL|enumerator|SVR4_O3
DECL|enumerator|SVR4_O4
id|SVR4_O1
comma
id|SVR4_O2
comma
id|SVR4_O3
comma
id|SVR4_O4
comma
DECL|enumerator|SVR4_O5
DECL|enumerator|SVR4_O6
DECL|enumerator|SVR4_O7
id|SVR4_O5
comma
id|SVR4_O6
comma
id|SVR4_O7
)brace
suffix:semicolon
multiline_comment|/* sizeof (regs) / sizeof (greg_t), defined in the ABI */
DECL|macro|SVR4_NREGS
mdefine_line|#define SVR4_NREGS  19
DECL|macro|SVR4_MAXWIN
mdefine_line|#define SVR4_MAXWIN 31
r_typedef
r_struct
(brace
DECL|member|rwin_lo
id|uint
id|rwin_lo
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|rwin_in
id|uint
id|rwin_in
(braket
l_int|8
)braket
suffix:semicolon
DECL|typedef|svr4_rwindow_t
)brace
id|svr4_rwindow_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|count
r_int
id|count
suffix:semicolon
DECL|member|winptr
r_int
op_star
id|winptr
(braket
id|SVR4_MAXWIN
)braket
suffix:semicolon
multiline_comment|/* pointer to the windows */
DECL|member|win
id|svr4_rwindow_t
id|win
(braket
id|SVR4_MAXWIN
)braket
suffix:semicolon
multiline_comment|/* the windows */
DECL|typedef|svr4_gwindows_t
)brace
id|svr4_gwindows_t
suffix:semicolon
DECL|typedef|svr4_gregset_t
r_typedef
r_int
id|svr4_gregset_t
(braket
id|SVR4_NREGS
)braket
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|fpu_regs
r_float
id|fpu_regs
(braket
l_int|32
)braket
suffix:semicolon
DECL|member|fp_q
r_void
op_star
id|fp_q
suffix:semicolon
DECL|member|fp_fsr
r_int
id|fp_fsr
suffix:semicolon
DECL|member|fp_nqel
id|u_char
id|fp_nqel
suffix:semicolon
DECL|member|fp_nqsize
id|u_char
id|fp_nqsize
suffix:semicolon
DECL|member|inuse
id|u_char
id|inuse
suffix:semicolon
multiline_comment|/* if fpu is in use */
DECL|typedef|svr4_fregset_t
)brace
id|svr4_fregset_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|id
id|uint
id|id
suffix:semicolon
multiline_comment|/* if this holds &quot;xrs&quot; string =&gt; ptr is valid */
DECL|member|ptr
id|caddr_t
id|ptr
suffix:semicolon
DECL|typedef|svr4_xrs_t
)brace
id|svr4_xrs_t
suffix:semicolon
multiline_comment|/* Machine dependent context */
r_typedef
r_struct
(brace
DECL|member|greg
id|svr4_gregset_t
id|greg
suffix:semicolon
multiline_comment|/* registers 0..19 (see top) */
DECL|member|gwin
id|svr4_gwindows_t
op_star
id|gwin
suffix:semicolon
multiline_comment|/* may point to register windows */
DECL|member|freg
id|svr4_fregset_t
id|freg
suffix:semicolon
multiline_comment|/* floating point registers */
DECL|member|xrs
id|svr4_xrs_t
id|xrs
suffix:semicolon
multiline_comment|/* mhm? */
DECL|member|pad
r_int
id|pad
(braket
l_int|19
)braket
suffix:semicolon
DECL|typedef|svr4_mcontext_t
)brace
id|svr4_mcontext_t
suffix:semicolon
multiline_comment|/* flags for stack_t.flags */
DECL|enum|svr4_stack_flags
r_enum
id|svr4_stack_flags
(brace
DECL|enumerator|SVR4_SS_ONSTACK
id|SVR4_SS_ONSTACK
comma
DECL|enumerator|SVR4_SS_DISABLE
id|SVR4_SS_DISABLE
comma
)brace
suffix:semicolon
multiline_comment|/* signal stack exection place, unsupported */
DECL|struct|svr4_stack_t
r_typedef
r_struct
id|svr4_stack_t
(brace
DECL|member|sp
r_char
op_star
id|sp
suffix:semicolon
DECL|member|size
r_int
id|size
suffix:semicolon
DECL|member|flags
r_int
id|flags
suffix:semicolon
DECL|typedef|svr4_stack_t
)brace
id|svr4_stack_t
suffix:semicolon
multiline_comment|/* Context used by getcontext and setcontext */
DECL|struct|svr4_ucontext_t
r_typedef
r_struct
id|svr4_ucontext_t
(brace
DECL|member|flags
id|u_long
id|flags
suffix:semicolon
multiline_comment|/* context flags, indicate what is loaded */
DECL|member|link
r_struct
id|svr4_ucontext
op_star
id|link
suffix:semicolon
DECL|member|sigmask
id|svr4_sigset_t
id|sigmask
suffix:semicolon
DECL|member|stack
id|svr4_stack_t
id|stack
suffix:semicolon
DECL|member|mcontext
id|svr4_mcontext_t
id|mcontext
suffix:semicolon
DECL|member|pad
r_int
id|pad
(braket
l_int|23
)braket
suffix:semicolon
DECL|typedef|svr4_ucontext_t
)brace
id|svr4_ucontext_t
suffix:semicolon
multiline_comment|/* windows hold the windows as they were at signal time,&n; * ucontext-&gt;mcontext holds a pointer to them.&n; * addresses for uc and si are passed as parameters to svr4 signal&n; * handler&n; */
multiline_comment|/* This is the signal frame that is passed to the signal handler */
r_typedef
r_struct
(brace
DECL|member|gw
id|svr4_gwindows_t
id|gw
suffix:semicolon
multiline_comment|/* windows */
DECL|member|uc
id|svr4_ucontext_t
id|uc
suffix:semicolon
multiline_comment|/* machine context */
DECL|member|si
id|svr4_siginfo_t
id|si
suffix:semicolon
multiline_comment|/* siginfo */
DECL|typedef|svr4_signal_frame_t
)brace
id|svr4_signal_frame_t
suffix:semicolon
DECL|macro|SVR4_SF_ALIGNED
mdefine_line|#define SVR4_SF_ALIGNED (((sizeof (svr4_signal_frame_t) + 7) &amp; (~7)))
macro_line|#endif /* include control */
eof
