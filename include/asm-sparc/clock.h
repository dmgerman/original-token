multiline_comment|/* clock.h:  Definitions for the clock/timer chips on the Sparc.&n; *&n; * Copyright (C) 1995 David S. Miller (davem@caip.rutgers.edu)&n; */
multiline_comment|/* Clock timer structures. The interrupt timer has two properties which&n; * are the counter (which is handled in do_timer in sched.c) and the limit.&n; * This limit is where the timer&squot;s counter &squot;wraps&squot; around. Oddly enough,&n; * the sun4c timer when it hits the limit wraps back to 1 and not zero&n; * thus when calculating the value at which it will fire a microsecond you&n; * must adjust by one.  Thanks SUN for designing such great hardware ;(&n; */
multiline_comment|/* Note that I am only going to use the timer that interrupts at&n; * Sparc IRQ 10.  There is another one available that can fire at&n; * IRQ 14. If I can think of some creative uses for it this may&n; * change. It might make a nice kernel/user profiler etc.&n; */
DECL|struct|sparc_timer_info
r_struct
id|sparc_timer_info
(brace
DECL|member|cur_count10
r_int
r_int
id|cur_count10
suffix:semicolon
DECL|member|timer_limit10
r_int
r_int
id|timer_limit10
suffix:semicolon
DECL|member|cur_count14
r_int
r_int
id|cur_count14
suffix:semicolon
DECL|member|timer_limit14
r_int
r_int
id|timer_limit14
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sparc_clock_info
r_struct
id|sparc_clock_info
(brace
DECL|member|hsec
r_int
r_char
id|hsec
suffix:semicolon
DECL|member|hr
r_int
r_char
id|hr
suffix:semicolon
DECL|member|min
r_int
r_char
id|min
suffix:semicolon
DECL|member|sec
r_int
r_char
id|sec
suffix:semicolon
DECL|member|mon
r_int
r_char
id|mon
suffix:semicolon
DECL|member|day
r_int
r_char
id|day
suffix:semicolon
DECL|member|yr
r_int
r_char
id|yr
suffix:semicolon
DECL|member|wkday
r_int
r_char
id|wkday
suffix:semicolon
DECL|member|ram_hsec
r_int
r_char
id|ram_hsec
suffix:semicolon
DECL|member|ram_hr
r_int
r_char
id|ram_hr
suffix:semicolon
DECL|member|ram_min
r_int
r_char
id|ram_min
suffix:semicolon
DECL|member|ram_sec
r_int
r_char
id|ram_sec
suffix:semicolon
DECL|member|ram_mon
r_int
r_char
id|ram_mon
suffix:semicolon
DECL|member|ram_day
r_int
r_char
id|ram_day
suffix:semicolon
DECL|member|ram_year
r_int
r_char
id|ram_year
suffix:semicolon
DECL|member|ram_wkday
r_int
r_char
id|ram_wkday
suffix:semicolon
DECL|member|intr_reg
r_int
r_char
id|intr_reg
suffix:semicolon
DECL|member|cmd_reg
r_int
r_char
id|cmd_reg
suffix:semicolon
DECL|member|foo
r_int
r_char
id|foo
(braket
l_int|14
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|TIMER_PHYSADDR
mdefine_line|#define TIMER_PHYSADDR   0xf3000000
multiline_comment|/* YUCK YUCK YUCK, grrr... */
DECL|macro|TIMER_STRUCT
mdefine_line|#define  TIMER_STRUCT  ((struct sparc_timer_info *)((struct sparc_clock_info *) TIMER_VADDR))
eof
