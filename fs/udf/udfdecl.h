macro_line|#ifndef __UDF_DECL_H
DECL|macro|__UDF_DECL_H
mdefine_line|#define __UDF_DECL_H
macro_line|#include &lt;linux/udf_167.h&gt;
macro_line|#include &lt;linux/udf_udf.h&gt;
macro_line|#include &quot;udfend.h&quot;
macro_line|#include &lt;linux/udf_fs.h&gt;
macro_line|#ifdef __KERNEL__
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#ifndef LINUX_VERSION_CODE
macro_line|#include &lt;linux/version.h&gt;
macro_line|#endif
macro_line|#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(2,3,7)
macro_line|#error &quot;The UDF Module Current Requires Kernel Version 2.3.7 or greater&quot;
macro_line|#endif
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#if !defined(CONFIG_UDF_FS) &amp;&amp; !defined(CONFIG_UDF_FS_MODULE)
DECL|macro|CONFIG_UDF_FS_MODULE
mdefine_line|#define CONFIG_UDF_FS_MODULE
macro_line|#include &lt;linux/udf_fs_sb.h&gt;
macro_line|#include &lt;linux/udf_fs_i.h&gt;
macro_line|#endif
DECL|macro|udf_fixed_to_variable
mdefine_line|#define udf_fixed_to_variable(x) ( ( ( (x) &gt;&gt; 5 ) * 39 ) + ( (x) &amp; 0x0000001F ) )
DECL|macro|udf_variable_to_fixed
mdefine_line|#define udf_variable_to_fixed(x) ( ( ( (x) / 39 ) &lt;&lt; 5 ) + ( (x) % 39 ) )
DECL|macro|CURRENT_UTIME
mdefine_line|#define CURRENT_UTIME&t;(xtime.tv_usec)
DECL|macro|udf_file_entry_alloc_offset
mdefine_line|#define udf_file_entry_alloc_offset(inode)&bslash;&n;&t;((UDF_I_EXTENDED_FE(inode) ?&bslash;&n;&t;&t;sizeof(struct ExtendedFileEntry) :&bslash;&n;&t;&t;sizeof(struct FileEntry)) + UDF_I_LENEATTR(inode))
DECL|macro|udf_ext0_offset
mdefine_line|#define udf_ext0_offset(inode)&bslash;&n;&t;(UDF_I_ALLOCTYPE(inode) == ICB_FLAG_AD_IN_ICB ?&bslash;&n;&t;&t;udf_file_entry_alloc_offset(inode) : 0)
DECL|macro|udf_get_lb_pblock
mdefine_line|#define udf_get_lb_pblock(sb,loc,offset) udf_get_pblock((sb), (loc).logicalBlockNum, (loc).partitionReferenceNum, (offset))
macro_line|#else
macro_line|#include &lt;sys/types.h&gt;
macro_line|#endif /* __KERNEL__ */
macro_line|#ifdef __KERNEL__
r_struct
id|dentry
suffix:semicolon
r_struct
id|inode
suffix:semicolon
r_struct
id|task_struct
suffix:semicolon
r_struct
id|buffer_head
suffix:semicolon
r_struct
id|super_block
suffix:semicolon
r_extern
r_struct
id|inode_operations
id|udf_dir_inode_operations
suffix:semicolon
r_extern
r_struct
id|file_operations
id|udf_dir_operations
suffix:semicolon
r_extern
r_struct
id|inode_operations
id|udf_file_inode_operations
suffix:semicolon
r_extern
r_struct
id|file_operations
id|udf_file_operations
suffix:semicolon
r_extern
r_struct
id|address_space_operations
id|udf_aops
suffix:semicolon
r_extern
r_struct
id|address_space_operations
id|udf_adinicb_aops
suffix:semicolon
r_extern
r_struct
id|address_space_operations
id|udf_symlink_aops
suffix:semicolon
DECL|struct|udf_fileident_bh
r_struct
id|udf_fileident_bh
(brace
DECL|member|sbh
r_struct
id|buffer_head
op_star
id|sbh
suffix:semicolon
DECL|member|ebh
r_struct
id|buffer_head
op_star
id|ebh
suffix:semicolon
DECL|member|soffset
r_int
id|soffset
suffix:semicolon
DECL|member|eoffset
r_int
id|eoffset
suffix:semicolon
)brace
suffix:semicolon
macro_line|#endif /* __KERNEL__ */
DECL|struct|udf_directory_record
r_struct
id|udf_directory_record
(brace
DECL|member|d_parent
id|Uint32
id|d_parent
suffix:semicolon
DECL|member|d_inode
id|Uint32
id|d_inode
suffix:semicolon
DECL|member|d_name
id|Uint32
id|d_name
(braket
l_int|255
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|udf_vds_record
r_struct
id|udf_vds_record
(brace
DECL|member|block
id|Uint32
id|block
suffix:semicolon
DECL|member|volDescSeqNum
id|Uint32
id|volDescSeqNum
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ktm
r_struct
id|ktm
(brace
DECL|member|tm_sec
r_int
id|tm_sec
suffix:semicolon
DECL|member|tm_min
r_int
id|tm_min
suffix:semicolon
DECL|member|tm_hour
r_int
id|tm_hour
suffix:semicolon
DECL|member|tm_mday
r_int
id|tm_mday
suffix:semicolon
DECL|member|tm_mon
r_int
id|tm_mon
suffix:semicolon
DECL|member|tm_year
r_int
id|tm_year
suffix:semicolon
DECL|member|tm_isdst
r_int
id|tm_isdst
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ustr
r_struct
id|ustr
(brace
DECL|member|u_cmpID
id|Uint8
id|u_cmpID
suffix:semicolon
DECL|member|u_name
id|Uint8
id|u_name
(braket
id|UDF_NAME_LEN
)braket
suffix:semicolon
DECL|member|u_len
id|Uint8
id|u_len
suffix:semicolon
DECL|member|padding
id|Uint8
id|padding
suffix:semicolon
DECL|member|u_hash
r_int
r_int
id|u_hash
suffix:semicolon
)brace
suffix:semicolon
macro_line|#ifdef __KERNEL__
multiline_comment|/* super.c */
r_extern
r_void
id|udf_error
c_func
(paren
r_struct
id|super_block
op_star
comma
r_const
r_char
op_star
comma
r_const
r_char
op_star
comma
dot
dot
dot
)paren
suffix:semicolon
r_extern
r_void
id|udf_warning
c_func
(paren
r_struct
id|super_block
op_star
comma
r_const
r_char
op_star
comma
r_const
r_char
op_star
comma
dot
dot
dot
)paren
suffix:semicolon
multiline_comment|/* namei.c */
r_extern
r_int
id|udf_write_fi
c_func
(paren
r_struct
id|FileIdentDesc
op_star
comma
r_struct
id|FileIdentDesc
op_star
comma
r_struct
id|udf_fileident_bh
op_star
comma
id|Uint8
op_star
comma
id|Uint8
op_star
)paren
suffix:semicolon
multiline_comment|/* file.c */
r_extern
r_int
id|udf_ioctl
c_func
(paren
r_struct
id|inode
op_star
comma
r_struct
id|file
op_star
comma
r_int
r_int
comma
r_int
r_int
)paren
suffix:semicolon
multiline_comment|/* inode.c */
r_extern
r_struct
id|inode
op_star
id|udf_iget
c_func
(paren
r_struct
id|super_block
op_star
comma
id|lb_addr
)paren
suffix:semicolon
r_extern
r_int
id|udf_sync_inode
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_void
id|udf_expand_file_adinicb
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
comma
r_int
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|buffer_head
op_star
id|udf_expand_dir_adinicb
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
op_star
comma
r_int
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|buffer_head
op_star
id|udf_getblk
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
comma
r_int
comma
r_int
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|buffer_head
op_star
id|udf_bread
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
comma
r_int
comma
r_int
op_star
)paren
suffix:semicolon
r_extern
r_void
id|udf_read_inode
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_void
id|udf_put_inode
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_void
id|udf_delete_inode
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_void
id|udf_write_inode
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_locked_block_map
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_block_map
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|inode_bmap
c_func
(paren
r_struct
id|inode
op_star
comma
r_int
comma
id|lb_addr
op_star
comma
id|Uint32
op_star
comma
id|lb_addr
op_star
comma
id|Uint32
op_star
comma
id|Uint32
op_star
comma
r_struct
id|buffer_head
op_star
op_star
)paren
suffix:semicolon
r_extern
r_int
id|udf_add_aext
c_func
(paren
r_struct
id|inode
op_star
comma
id|lb_addr
op_star
comma
r_int
op_star
comma
id|lb_addr
comma
id|Uint32
comma
r_struct
id|buffer_head
op_star
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_write_aext
c_func
(paren
r_struct
id|inode
op_star
comma
id|lb_addr
comma
r_int
op_star
comma
id|lb_addr
comma
id|Uint32
comma
r_struct
id|buffer_head
op_star
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_insert_aext
c_func
(paren
r_struct
id|inode
op_star
comma
id|lb_addr
comma
r_int
comma
id|lb_addr
comma
id|Uint32
comma
r_struct
id|buffer_head
op_star
)paren
suffix:semicolon
r_extern
r_int
id|udf_delete_aext
c_func
(paren
r_struct
id|inode
op_star
comma
id|lb_addr
comma
r_int
comma
id|lb_addr
comma
id|Uint32
comma
r_struct
id|buffer_head
op_star
)paren
suffix:semicolon
r_extern
r_int
id|udf_next_aext
c_func
(paren
r_struct
id|inode
op_star
comma
id|lb_addr
op_star
comma
r_int
op_star
comma
id|lb_addr
op_star
comma
id|Uint32
op_star
comma
r_struct
id|buffer_head
op_star
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_current_aext
c_func
(paren
r_struct
id|inode
op_star
comma
id|lb_addr
op_star
comma
r_int
op_star
comma
id|lb_addr
op_star
comma
id|Uint32
op_star
comma
r_struct
id|buffer_head
op_star
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_void
id|udf_discard_prealloc
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
multiline_comment|/* misc.c */
r_extern
r_int
id|udf_read_tagged_data
c_func
(paren
r_char
op_star
comma
r_int
id|size
comma
r_int
id|fd
comma
r_int
id|block
comma
r_int
id|partref
)paren
suffix:semicolon
r_extern
r_struct
id|buffer_head
op_star
id|udf_tread
c_func
(paren
r_struct
id|super_block
op_star
comma
r_int
comma
r_int
)paren
suffix:semicolon
r_extern
r_struct
id|GenericAttrFormat
op_star
id|udf_add_extendedattr
c_func
(paren
r_struct
id|inode
op_star
comma
id|Uint32
comma
id|Uint32
comma
id|Uint8
comma
r_struct
id|buffer_head
op_star
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|GenericAttrFormat
op_star
id|udf_get_extendedattr
c_func
(paren
r_struct
id|inode
op_star
comma
id|Uint32
comma
id|Uint8
comma
r_struct
id|buffer_head
op_star
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|buffer_head
op_star
id|udf_read_tagged
c_func
(paren
r_struct
id|super_block
op_star
comma
id|Uint32
comma
id|Uint32
comma
id|Uint16
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|buffer_head
op_star
id|udf_read_ptagged
c_func
(paren
r_struct
id|super_block
op_star
comma
id|lb_addr
comma
id|Uint32
comma
id|Uint16
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|buffer_head
op_star
id|udf_read_untagged
c_func
(paren
r_struct
id|super_block
op_star
comma
id|Uint32
comma
id|Uint32
)paren
suffix:semicolon
r_extern
r_void
id|udf_release_data
c_func
(paren
r_struct
id|buffer_head
op_star
)paren
suffix:semicolon
multiline_comment|/* lowlevel.c */
r_extern
r_int
r_int
id|udf_get_last_session
c_func
(paren
r_struct
id|super_block
op_star
)paren
suffix:semicolon
r_extern
r_int
r_int
id|udf_get_last_block
c_func
(paren
r_struct
id|super_block
op_star
)paren
suffix:semicolon
multiline_comment|/* partition.c */
r_extern
id|Uint32
id|udf_get_pblock
c_func
(paren
r_struct
id|super_block
op_star
comma
id|Uint32
comma
id|Uint16
comma
id|Uint32
)paren
suffix:semicolon
r_extern
id|Uint32
id|udf_get_pblock_virt15
c_func
(paren
r_struct
id|super_block
op_star
comma
id|Uint32
comma
id|Uint16
comma
id|Uint32
)paren
suffix:semicolon
r_extern
id|Uint32
id|udf_get_pblock_virt20
c_func
(paren
r_struct
id|super_block
op_star
comma
id|Uint32
comma
id|Uint16
comma
id|Uint32
)paren
suffix:semicolon
r_extern
id|Uint32
id|udf_get_pblock_spar15
c_func
(paren
r_struct
id|super_block
op_star
comma
id|Uint32
comma
id|Uint16
comma
id|Uint32
)paren
suffix:semicolon
r_extern
r_void
id|udf_fill_spartable
c_func
(paren
r_struct
id|super_block
op_star
comma
r_struct
id|udf_sparing_data
op_star
comma
r_int
)paren
suffix:semicolon
multiline_comment|/* unicode.c */
r_extern
r_int
id|udf_get_filename
c_func
(paren
id|Uint8
op_star
comma
id|Uint8
op_star
comma
r_int
)paren
suffix:semicolon
multiline_comment|/* ialloc.c */
r_extern
r_void
id|udf_free_inode
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|inode
op_star
id|udf_new_inode
(paren
r_const
r_struct
id|inode
op_star
comma
r_int
comma
r_int
op_star
)paren
suffix:semicolon
multiline_comment|/* truncate.c */
r_extern
r_void
id|udf_trunc
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
r_extern
r_void
id|udf_truncate
c_func
(paren
r_struct
id|inode
op_star
)paren
suffix:semicolon
multiline_comment|/* balloc.c */
r_extern
r_void
id|udf_free_blocks
c_func
(paren
r_const
r_struct
id|inode
op_star
comma
id|lb_addr
comma
id|Uint32
comma
id|Uint32
)paren
suffix:semicolon
r_extern
r_int
id|udf_prealloc_blocks
c_func
(paren
r_const
r_struct
id|inode
op_star
comma
id|Uint16
comma
id|Uint32
comma
id|Uint32
)paren
suffix:semicolon
r_extern
r_int
id|udf_new_block
c_func
(paren
r_const
r_struct
id|inode
op_star
comma
id|Uint16
comma
id|Uint32
comma
r_int
op_star
)paren
suffix:semicolon
multiline_comment|/* fsync.c */
r_extern
r_int
id|udf_sync_file
c_func
(paren
r_struct
id|file
op_star
comma
r_struct
id|dentry
op_star
comma
r_int
)paren
suffix:semicolon
multiline_comment|/* directory.c */
r_extern
id|Uint8
op_star
id|udf_filead_read
c_func
(paren
r_struct
id|inode
op_star
comma
id|Uint8
op_star
comma
id|Uint8
comma
id|lb_addr
comma
r_int
op_star
comma
r_int
op_star
comma
r_struct
id|buffer_head
op_star
op_star
comma
r_int
op_star
)paren
suffix:semicolon
r_extern
r_struct
id|FileIdentDesc
op_star
id|udf_fileident_read
c_func
(paren
r_struct
id|inode
op_star
comma
id|loff_t
op_star
comma
r_struct
id|udf_fileident_bh
op_star
comma
r_struct
id|FileIdentDesc
op_star
comma
id|lb_addr
op_star
comma
id|Uint32
op_star
comma
id|lb_addr
op_star
comma
id|Uint32
op_star
comma
id|Uint32
op_star
comma
r_struct
id|buffer_head
op_star
op_star
)paren
suffix:semicolon
macro_line|#endif /* __KERNEL__ */
multiline_comment|/* Miscellaneous UDF Prototypes */
multiline_comment|/* unicode.c */
r_extern
r_int
id|udf_ustr_to_dchars
c_func
(paren
id|Uint8
op_star
comma
r_const
r_struct
id|ustr
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_ustr_to_char
c_func
(paren
id|Uint8
op_star
comma
r_const
r_struct
id|ustr
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_ustr_to_dstring
c_func
(paren
id|dstring
op_star
comma
r_const
r_struct
id|ustr
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_dchars_to_ustr
c_func
(paren
r_struct
id|ustr
op_star
comma
r_const
id|Uint8
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_char_to_ustr
c_func
(paren
r_struct
id|ustr
op_star
comma
r_const
id|Uint8
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_dstring_to_ustr
c_func
(paren
r_struct
id|ustr
op_star
comma
r_const
id|dstring
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_translate_to_linux
c_func
(paren
id|Uint8
op_star
comma
id|Uint8
op_star
comma
r_int
comma
id|Uint8
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_build_ustr
c_func
(paren
r_struct
id|ustr
op_star
comma
id|dstring
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_build_ustr_exact
c_func
(paren
r_struct
id|ustr
op_star
comma
id|dstring
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_int
id|udf_CS0toUTF8
c_func
(paren
r_struct
id|ustr
op_star
comma
r_struct
id|ustr
op_star
)paren
suffix:semicolon
r_extern
r_int
id|udf_UTF8toCS0
c_func
(paren
id|dstring
op_star
comma
r_struct
id|ustr
op_star
comma
r_int
)paren
suffix:semicolon
multiline_comment|/* crc.c */
r_extern
id|Uint16
id|udf_crc
c_func
(paren
id|Uint8
op_star
comma
id|Uint32
comma
id|Uint16
)paren
suffix:semicolon
multiline_comment|/* misc.c */
r_extern
id|Uint32
id|udf64_low32
c_func
(paren
id|Uint64
)paren
suffix:semicolon
r_extern
id|Uint32
id|udf64_high32
c_func
(paren
id|Uint64
)paren
suffix:semicolon
r_extern
r_void
id|udf_update_tag
c_func
(paren
r_char
op_star
comma
r_int
)paren
suffix:semicolon
r_extern
r_void
id|udf_new_tag
c_func
(paren
r_char
op_star
comma
id|Uint16
comma
id|Uint16
comma
id|Uint16
comma
id|Uint32
comma
r_int
)paren
suffix:semicolon
multiline_comment|/* udftime.c */
r_extern
id|time_t
op_star
id|udf_stamp_to_time
c_func
(paren
id|time_t
op_star
comma
r_int
op_star
comma
id|timestamp
)paren
suffix:semicolon
r_extern
id|timestamp
op_star
id|udf_time_to_stamp
c_func
(paren
id|timestamp
op_star
comma
id|time_t
comma
r_int
)paren
suffix:semicolon
r_extern
id|time_t
id|udf_converttime
(paren
r_struct
id|ktm
op_star
)paren
suffix:semicolon
multiline_comment|/* directory.c */
r_extern
r_struct
id|FileIdentDesc
op_star
id|udf_get_fileident
c_func
(paren
r_void
op_star
id|buffer
comma
r_int
id|bufsize
comma
r_int
op_star
id|offset
)paren
suffix:semicolon
r_extern
id|extent_ad
op_star
id|udf_get_fileextent
c_func
(paren
r_void
op_star
id|buffer
comma
r_int
id|bufsize
comma
r_int
op_star
id|offset
)paren
suffix:semicolon
r_extern
id|long_ad
op_star
id|udf_get_filelongad
c_func
(paren
r_void
op_star
id|buffer
comma
r_int
id|bufsize
comma
r_int
op_star
id|offset
comma
r_int
)paren
suffix:semicolon
r_extern
id|short_ad
op_star
id|udf_get_fileshortad
c_func
(paren
r_void
op_star
id|buffer
comma
r_int
id|bufsize
comma
r_int
op_star
id|offset
comma
r_int
)paren
suffix:semicolon
r_extern
id|Uint8
op_star
id|udf_get_filead
c_func
(paren
r_struct
id|FileEntry
op_star
comma
id|Uint8
op_star
comma
r_int
comma
r_int
comma
r_int
comma
r_int
op_star
)paren
suffix:semicolon
macro_line|#endif /* __UDF_DECL_H */
eof
