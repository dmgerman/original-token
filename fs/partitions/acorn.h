multiline_comment|/*&n; * fs/partitions/acorn.h&n; *&n; * Copyright (C) 1996-1998 Russell King&n; */
macro_line|#include &lt;linux/adfs_fs.h&gt;
multiline_comment|/*&n; * Offset in bytes of the boot block on the disk.&n; */
DECL|macro|BOOT_SECTOR_ADDRESS
mdefine_line|#define BOOT_SECTOR_ADDRESS 0xc00
multiline_comment|/*&n; * Disc record size&n; */
DECL|macro|RECSIZE
mdefine_line|#define RECSIZE 60
multiline_comment|/*&n; * Disc record&n; */
DECL|struct|disc_record
r_struct
id|disc_record
(brace
DECL|member|log2secsize
r_int
r_char
id|log2secsize
suffix:semicolon
DECL|member|secspertrack
r_int
r_char
id|secspertrack
suffix:semicolon
DECL|member|heads
r_int
r_char
id|heads
suffix:semicolon
DECL|member|density
r_int
r_char
id|density
suffix:semicolon
DECL|member|idlen
r_int
r_char
id|idlen
suffix:semicolon
DECL|member|log2bpmb
r_int
r_char
id|log2bpmb
suffix:semicolon
DECL|member|skew
r_int
r_char
id|skew
suffix:semicolon
DECL|member|bootoption
r_int
r_char
id|bootoption
suffix:semicolon
DECL|member|lowsector
r_int
r_char
id|lowsector
suffix:semicolon
DECL|member|nzones
r_int
r_char
id|nzones
suffix:semicolon
DECL|member|zone_spare
r_int
r_int
id|zone_spare
suffix:semicolon
DECL|member|root
r_int
r_int
id|root
suffix:semicolon
DECL|member|disc_size
r_int
r_int
id|disc_size
suffix:semicolon
DECL|member|disc_id
r_int
r_int
id|disc_id
suffix:semicolon
DECL|member|disc_name
r_int
r_char
id|disc_name
(braket
l_int|10
)braket
suffix:semicolon
DECL|member|disc_type
r_int
r_int
id|disc_type
suffix:semicolon
DECL|member|disc_size_high
r_int
r_int
id|disc_size_high
suffix:semicolon
DECL|member|log2sharesize
r_int
r_char
id|log2sharesize
suffix:colon
l_int|4
suffix:semicolon
DECL|member|unused
r_int
r_char
id|unused
suffix:colon
l_int|4
suffix:semicolon
DECL|member|big_flag
r_int
r_char
id|big_flag
suffix:colon
l_int|1
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/*&n; * Partition types. (Oh for reusability)&n; */
DECL|macro|PARTITION_RISCIX_MFM
mdefine_line|#define PARTITION_RISCIX_MFM&t;1
DECL|macro|PARTITION_RISCIX_SCSI
mdefine_line|#define PARTITION_RISCIX_SCSI&t;2
DECL|macro|PARTITION_LINUX
mdefine_line|#define PARTITION_LINUX&t;&t;9
DECL|struct|riscix_part
r_struct
id|riscix_part
(brace
DECL|member|start
r_int
r_int
id|start
suffix:semicolon
DECL|member|length
r_int
r_int
id|length
suffix:semicolon
DECL|member|one
r_int
r_int
id|one
suffix:semicolon
DECL|member|name
r_char
id|name
(braket
l_int|16
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|riscix_record
r_struct
id|riscix_record
(brace
DECL|member|magic
r_int
r_int
id|magic
suffix:semicolon
DECL|macro|RISCIX_MAGIC
mdefine_line|#define RISCIX_MAGIC&t;(0x4a657320)
DECL|member|date
r_int
r_int
id|date
suffix:semicolon
DECL|member|part
r_struct
id|riscix_part
id|part
(braket
l_int|8
)braket
suffix:semicolon
)brace
suffix:semicolon
r_int
id|acorn_partition
c_func
(paren
r_struct
id|gendisk
op_star
id|hd
comma
id|kdev_t
id|dev
comma
r_int
r_int
id|first_sector
comma
r_int
id|first_part_minor
)paren
suffix:semicolon
eof
