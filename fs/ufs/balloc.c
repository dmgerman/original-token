multiline_comment|/*&n; *  linux/fs/ufs/balloc.c&n; *&n; * Copyright (C) 1998&n; * Daniel Pirkl &lt;daniel.pirkl@email.cz&gt;&n; * Charles University, Faculty of Mathematics and Physics&n; */
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &lt;linux/ufs_fs.h&gt;
macro_line|#include &lt;linux/stat.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/string.h&gt;
macro_line|#include &lt;linux/locks.h&gt;
macro_line|#include &lt;linux/quotaops.h&gt;
macro_line|#include &lt;asm/bitops.h&gt;
macro_line|#include &lt;asm/byteorder.h&gt;
macro_line|#include &quot;swab.h&quot;
macro_line|#include &quot;util.h&quot;
DECL|macro|UFS_BALLOC_DEBUG
macro_line|#undef UFS_BALLOC_DEBUG
macro_line|#ifdef UFS_BALLOC_DEBUG
DECL|macro|UFSD
mdefine_line|#define UFSD(x) printk(&quot;(%s, %d), %s:&quot;, __FILE__, __LINE__, __FUNCTION__); printk x;
macro_line|#else
DECL|macro|UFSD
mdefine_line|#define UFSD(x)
macro_line|#endif
r_int
id|ufs_add_fragments
(paren
r_struct
id|inode
op_star
comma
r_int
comma
r_int
comma
r_int
comma
r_int
op_star
)paren
suffix:semicolon
r_int
id|ufs_alloc_fragments
(paren
r_struct
id|inode
op_star
comma
r_int
comma
r_int
comma
r_int
comma
r_int
op_star
)paren
suffix:semicolon
r_int
id|ufs_alloccg_block
(paren
r_struct
id|inode
op_star
comma
r_struct
id|ufs_cg_private_info
op_star
comma
r_int
comma
r_int
op_star
)paren
suffix:semicolon
r_int
id|ufs_bitmap_search
(paren
r_struct
id|super_block
op_star
comma
r_struct
id|ufs_cg_private_info
op_star
comma
r_int
comma
r_int
)paren
suffix:semicolon
DECL|variable|ufs_fragtable_8fpb
DECL|variable|ufs_fragtable_other
r_static
r_int
r_char
id|ufs_fragtable_8fpb
(braket
)braket
comma
id|ufs_fragtable_other
(braket
)braket
suffix:semicolon
r_void
id|ufs_clusteracct
c_func
(paren
r_struct
id|super_block
op_star
comma
r_struct
id|ufs_cg_private_info
op_star
comma
r_int
comma
r_int
)paren
suffix:semicolon
multiline_comment|/*&n; * Free &squot;count&squot; fragments from fragment number &squot;fragment&squot;&n; */
DECL|function|ufs_free_fragments
r_void
id|ufs_free_fragments
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
id|fragment
comma
r_int
id|count
)paren
(brace
r_struct
id|super_block
op_star
id|sb
suffix:semicolon
r_struct
id|ufs_sb_private_info
op_star
id|uspi
suffix:semicolon
r_struct
id|ufs_super_block_first
op_star
id|usb1
suffix:semicolon
r_struct
id|ufs_cg_private_info
op_star
id|ucpi
suffix:semicolon
r_struct
id|ufs_cylinder_group
op_star
id|ucg
suffix:semicolon
r_int
id|cgno
comma
id|bit
comma
id|end_bit
comma
id|bbase
comma
id|blkmap
comma
id|i
comma
id|blkno
comma
id|cylno
suffix:semicolon
r_int
id|swab
suffix:semicolon
id|sb
op_assign
id|inode-&gt;i_sb
suffix:semicolon
id|uspi
op_assign
id|sb-&gt;u.ufs_sb.s_uspi
suffix:semicolon
id|swab
op_assign
id|sb-&gt;u.ufs_sb.s_swab
suffix:semicolon
id|usb1
op_assign
id|ubh_get_usb_first
c_func
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;ENTER, fragment %u, count %u&bslash;n&quot;
comma
id|fragment
comma
id|count
)paren
)paren
r_if
c_cond
(paren
id|ufs_fragnum
c_func
(paren
id|fragment
)paren
op_plus
id|count
OG
id|uspi-&gt;s_fpg
)paren
id|ufs_error
(paren
id|sb
comma
l_string|&quot;ufs_free_fragments&quot;
comma
l_string|&quot;internal error&quot;
)paren
suffix:semicolon
id|lock_super
c_func
(paren
id|sb
)paren
suffix:semicolon
id|cgno
op_assign
id|ufs_dtog
c_func
(paren
id|fragment
)paren
suffix:semicolon
id|bit
op_assign
id|ufs_dtogd
c_func
(paren
id|fragment
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cgno
op_ge
id|uspi-&gt;s_ncg
)paren
(brace
id|ufs_panic
(paren
id|sb
comma
l_string|&quot;ufs_free_fragments&quot;
comma
l_string|&quot;freeing blocks are outside device&quot;
)paren
suffix:semicolon
r_goto
id|failed
suffix:semicolon
)brace
id|ucpi
op_assign
id|ufs_load_cylinder
(paren
id|sb
comma
id|cgno
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ucpi
)paren
r_goto
id|failed
suffix:semicolon
id|ucg
op_assign
id|ubh_get_ucg
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ufs_cg_chkmagic
(paren
id|ucg
)paren
)paren
(brace
id|ufs_panic
(paren
id|sb
comma
l_string|&quot;ufs_free_fragments&quot;
comma
l_string|&quot;internal error, bad magic number on cg %u&quot;
comma
id|cgno
)paren
suffix:semicolon
r_goto
id|failed
suffix:semicolon
)brace
id|end_bit
op_assign
id|bit
op_plus
id|count
suffix:semicolon
id|bbase
op_assign
id|ufs_blknum
(paren
id|bit
)paren
suffix:semicolon
id|blkmap
op_assign
id|ubh_blkmap
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|bbase
)paren
suffix:semicolon
id|ufs_fragacct
(paren
id|sb
comma
id|blkmap
comma
id|ucg-&gt;cg_frsum
comma
op_minus
l_int|1
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|bit
suffix:semicolon
id|i
OL
id|end_bit
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|ubh_isclr
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|i
)paren
)paren
id|ubh_setbit
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|i
)paren
suffix:semicolon
r_else
id|ufs_error
(paren
id|sb
comma
l_string|&quot;ufs_free_fragments&quot;
comma
l_string|&quot;bit already cleared for fragment %u&quot;
comma
id|i
)paren
suffix:semicolon
)brace
id|DQUOT_FREE_BLOCK
(paren
id|sb
comma
id|inode
comma
id|count
)paren
suffix:semicolon
id|ADD_SWAB32
c_func
(paren
id|ucg-&gt;cg_cs.cs_nffree
comma
id|count
)paren
suffix:semicolon
id|ADD_SWAB32
c_func
(paren
id|usb1-&gt;fs_cstotal.cs_nffree
comma
id|count
)paren
suffix:semicolon
id|ADD_SWAB32
c_func
(paren
id|sb
op_member_access_from_pointer
id|fs_cs
c_func
(paren
id|cgno
)paren
dot
id|cs_nffree
comma
id|count
)paren
suffix:semicolon
id|blkmap
op_assign
id|ubh_blkmap
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|bbase
)paren
suffix:semicolon
id|ufs_fragacct
c_func
(paren
id|sb
comma
id|blkmap
comma
id|ucg-&gt;cg_frsum
comma
l_int|1
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * Trying to reassemble free fragments into block&n;&t; */
id|blkno
op_assign
id|ufs_fragstoblks
(paren
id|bbase
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ubh_isblockset
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|blkno
)paren
)paren
(brace
id|SUB_SWAB32
c_func
(paren
id|ucg-&gt;cg_cs.cs_nffree
comma
id|uspi-&gt;s_fpb
)paren
suffix:semicolon
id|SUB_SWAB32
c_func
(paren
id|usb1-&gt;fs_cstotal.cs_nffree
comma
id|uspi-&gt;s_fpb
)paren
suffix:semicolon
id|SUB_SWAB32
c_func
(paren
id|sb
op_member_access_from_pointer
id|fs_cs
c_func
(paren
id|cgno
)paren
dot
id|cs_nffree
comma
id|uspi-&gt;s_fpb
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|sb-&gt;u.ufs_sb.s_flags
op_amp
id|UFS_CG_MASK
)paren
op_eq
id|UFS_CG_44BSD
)paren
id|ufs_clusteracct
(paren
id|sb
comma
id|ucpi
comma
id|blkno
comma
l_int|1
)paren
suffix:semicolon
id|INC_SWAB32
c_func
(paren
id|ucg-&gt;cg_cs.cs_nbfree
)paren
suffix:semicolon
id|INC_SWAB32
c_func
(paren
id|usb1-&gt;fs_cstotal.cs_nbfree
)paren
suffix:semicolon
id|INC_SWAB32
c_func
(paren
id|sb
op_member_access_from_pointer
id|fs_cs
c_func
(paren
id|cgno
)paren
dot
id|cs_nbfree
)paren
suffix:semicolon
id|cylno
op_assign
id|ufs_cbtocylno
(paren
id|bbase
)paren
suffix:semicolon
id|INC_SWAB16
c_func
(paren
id|ubh_cg_blks
(paren
id|ucpi
comma
id|cylno
comma
id|ufs_cbtorpos
c_func
(paren
id|bbase
)paren
)paren
)paren
suffix:semicolon
id|INC_SWAB32
c_func
(paren
id|ubh_cg_blktot
(paren
id|ucpi
comma
id|cylno
)paren
)paren
suffix:semicolon
)brace
id|ubh_mark_buffer_dirty
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|ubh_mark_buffer_dirty
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sb-&gt;s_flags
op_amp
id|MS_SYNCHRONOUS
)paren
(brace
id|ubh_ll_rw_block
(paren
id|WRITE
comma
l_int|1
comma
(paren
r_struct
id|ufs_buffer_head
op_star
op_star
)paren
op_amp
id|ucpi
)paren
suffix:semicolon
id|ubh_wait_on_buffer
(paren
id|UCPI_UBH
)paren
suffix:semicolon
)brace
id|sb-&gt;s_dirt
op_assign
l_int|1
suffix:semicolon
id|unlock_super
(paren
id|sb
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT&bslash;n&quot;
)paren
)paren
r_return
suffix:semicolon
id|failed
suffix:colon
id|unlock_super
(paren
id|sb
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT (FAILED)&bslash;n&quot;
)paren
)paren
r_return
suffix:semicolon
)brace
multiline_comment|/*&n; * Free &squot;count&squot; fragments from fragment number &squot;fragment&squot; (free whole blocks)&n; */
DECL|function|ufs_free_blocks
r_void
id|ufs_free_blocks
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
id|fragment
comma
r_int
id|count
)paren
(brace
r_struct
id|super_block
op_star
id|sb
suffix:semicolon
r_struct
id|ufs_sb_private_info
op_star
id|uspi
suffix:semicolon
r_struct
id|ufs_super_block_first
op_star
id|usb1
suffix:semicolon
r_struct
id|ufs_cg_private_info
op_star
id|ucpi
suffix:semicolon
r_struct
id|ufs_cylinder_group
op_star
id|ucg
suffix:semicolon
r_int
id|overflow
comma
id|cgno
comma
id|bit
comma
id|end_bit
comma
id|blkno
comma
id|i
comma
id|cylno
suffix:semicolon
r_int
id|swab
suffix:semicolon
id|sb
op_assign
id|inode-&gt;i_sb
suffix:semicolon
id|uspi
op_assign
id|sb-&gt;u.ufs_sb.s_uspi
suffix:semicolon
id|swab
op_assign
id|sb-&gt;u.ufs_sb.s_swab
suffix:semicolon
id|usb1
op_assign
id|ubh_get_usb_first
c_func
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;ENTER, fragment %u, count %u&bslash;n&quot;
comma
id|fragment
comma
id|count
)paren
)paren
r_if
c_cond
(paren
(paren
id|fragment
op_amp
id|uspi-&gt;s_fpbmask
)paren
op_logical_or
(paren
id|count
op_amp
id|uspi-&gt;s_fpbmask
)paren
)paren
(brace
id|ufs_error
(paren
id|sb
comma
l_string|&quot;ufs_free_blocks&quot;
comma
l_string|&quot;internal error, &quot;
l_string|&quot;fragment %u, count %u&bslash;n&quot;
comma
id|fragment
comma
id|count
)paren
suffix:semicolon
r_goto
id|failed
suffix:semicolon
)brace
id|lock_super
c_func
(paren
id|sb
)paren
suffix:semicolon
id|do_more
suffix:colon
id|overflow
op_assign
l_int|0
suffix:semicolon
id|cgno
op_assign
id|ufs_dtog
(paren
id|fragment
)paren
suffix:semicolon
id|bit
op_assign
id|ufs_dtogd
(paren
id|fragment
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cgno
op_ge
id|uspi-&gt;s_ncg
)paren
(brace
id|ufs_panic
(paren
id|sb
comma
l_string|&quot;ufs_free_blocks&quot;
comma
l_string|&quot;freeing blocks are outside device&quot;
)paren
suffix:semicolon
r_goto
id|failed
suffix:semicolon
)brace
id|end_bit
op_assign
id|bit
op_plus
id|count
suffix:semicolon
r_if
c_cond
(paren
id|end_bit
OG
id|uspi-&gt;s_fpg
)paren
(brace
id|overflow
op_assign
id|bit
op_plus
id|count
op_minus
id|uspi-&gt;s_fpg
suffix:semicolon
id|count
op_sub_assign
id|overflow
suffix:semicolon
id|end_bit
op_sub_assign
id|overflow
suffix:semicolon
)brace
id|ucpi
op_assign
id|ufs_load_cylinder
(paren
id|sb
comma
id|cgno
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ucpi
)paren
r_goto
id|failed
suffix:semicolon
id|ucg
op_assign
id|ubh_get_ucg
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ufs_cg_chkmagic
(paren
id|ucg
)paren
)paren
(brace
id|ufs_panic
(paren
id|sb
comma
l_string|&quot;ufs_free_blocks&quot;
comma
l_string|&quot;internal error, bad magic number on cg %u&quot;
comma
id|cgno
)paren
suffix:semicolon
r_goto
id|failed
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
id|bit
suffix:semicolon
id|i
OL
id|end_bit
suffix:semicolon
id|i
op_add_assign
id|uspi-&gt;s_fpb
)paren
(brace
id|blkno
op_assign
id|ufs_fragstoblks
c_func
(paren
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ubh_isblockset
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|blkno
)paren
)paren
(brace
id|ufs_error
c_func
(paren
id|sb
comma
l_string|&quot;ufs_free_blocks&quot;
comma
l_string|&quot;freeing free fragment&quot;
)paren
suffix:semicolon
)brace
id|ubh_setblock
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|blkno
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|sb-&gt;u.ufs_sb.s_flags
op_amp
id|UFS_CG_MASK
)paren
op_eq
id|UFS_CG_44BSD
)paren
id|ufs_clusteracct
(paren
id|sb
comma
id|ucpi
comma
id|blkno
comma
l_int|1
)paren
suffix:semicolon
id|DQUOT_FREE_BLOCK
c_func
(paren
id|sb
comma
id|inode
comma
id|uspi-&gt;s_fpb
)paren
suffix:semicolon
id|INC_SWAB32
c_func
(paren
id|ucg-&gt;cg_cs.cs_nbfree
)paren
suffix:semicolon
id|INC_SWAB32
c_func
(paren
id|usb1-&gt;fs_cstotal.cs_nbfree
)paren
suffix:semicolon
id|INC_SWAB32
c_func
(paren
id|sb
op_member_access_from_pointer
id|fs_cs
c_func
(paren
id|cgno
)paren
dot
id|cs_nbfree
)paren
suffix:semicolon
id|cylno
op_assign
id|ufs_cbtocylno
c_func
(paren
id|i
)paren
suffix:semicolon
id|INC_SWAB16
c_func
(paren
id|ubh_cg_blks
c_func
(paren
id|ucpi
comma
id|cylno
comma
id|ufs_cbtorpos
c_func
(paren
id|i
)paren
)paren
)paren
suffix:semicolon
id|INC_SWAB32
c_func
(paren
id|ubh_cg_blktot
c_func
(paren
id|ucpi
comma
id|cylno
)paren
)paren
suffix:semicolon
)brace
id|ubh_mark_buffer_dirty
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|ubh_mark_buffer_dirty
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sb-&gt;s_flags
op_amp
id|MS_SYNCHRONOUS
)paren
(brace
id|ubh_ll_rw_block
(paren
id|WRITE
comma
l_int|1
comma
(paren
r_struct
id|ufs_buffer_head
op_star
op_star
)paren
op_amp
id|ucpi
)paren
suffix:semicolon
id|ubh_wait_on_buffer
(paren
id|UCPI_UBH
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|overflow
)paren
(brace
id|fragment
op_add_assign
id|count
suffix:semicolon
id|count
op_assign
id|overflow
suffix:semicolon
r_goto
id|do_more
suffix:semicolon
)brace
id|sb-&gt;s_dirt
op_assign
l_int|1
suffix:semicolon
id|unlock_super
(paren
id|sb
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT&bslash;n&quot;
)paren
)paren
r_return
suffix:semicolon
id|failed
suffix:colon
id|unlock_super
(paren
id|sb
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT (FAILED)&bslash;n&quot;
)paren
)paren
r_return
suffix:semicolon
)brace
DECL|macro|NULLIFY_FRAGMENTS
mdefine_line|#define NULLIFY_FRAGMENTS &bslash;&n;&t;for (i = oldcount; i &lt; newcount; i++) { &bslash;&n;&t;&t;bh = getblk (sb-&gt;s_dev, result + i, sb-&gt;s_blocksize); &bslash;&n;&t;&t;memset (bh-&gt;b_data, 0, sb-&gt;s_blocksize); &bslash;&n;&t;&t;mark_buffer_uptodate(bh, 1); &bslash;&n;&t;&t;mark_buffer_dirty (bh); &bslash;&n;&t;&t;if (IS_SYNC(inode)) { &bslash;&n;&t;&t;&t;ll_rw_block (WRITE, 1, &amp;bh); &bslash;&n;&t;&t;&t;wait_on_buffer (bh); &bslash;&n;&t;&t;} &bslash;&n;&t;&t;brelse (bh); &bslash;&n;&t;}
DECL|function|ufs_new_fragments
r_int
id|ufs_new_fragments
(paren
r_struct
id|inode
op_star
id|inode
comma
id|u32
op_star
id|p
comma
r_int
id|fragment
comma
r_int
id|goal
comma
r_int
id|count
comma
r_int
op_star
id|err
)paren
(brace
r_struct
id|super_block
op_star
id|sb
suffix:semicolon
r_struct
id|ufs_sb_private_info
op_star
id|uspi
suffix:semicolon
r_struct
id|ufs_super_block_first
op_star
id|usb1
suffix:semicolon
r_struct
id|buffer_head
op_star
id|bh
suffix:semicolon
r_int
id|cgno
comma
id|oldcount
comma
id|newcount
comma
id|tmp
comma
id|request
comma
id|i
comma
id|result
suffix:semicolon
r_int
id|swab
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;ENTER, ino %lu, fragment %u, goal %u, count %u&bslash;n&quot;
comma
id|inode-&gt;i_ino
comma
id|fragment
comma
id|goal
comma
id|count
)paren
)paren
id|sb
op_assign
id|inode-&gt;i_sb
suffix:semicolon
id|swab
op_assign
id|sb-&gt;u.ufs_sb.s_swab
suffix:semicolon
id|uspi
op_assign
id|sb-&gt;u.ufs_sb.s_uspi
suffix:semicolon
id|usb1
op_assign
id|ubh_get_usb_first
c_func
(paren
id|USPI_UBH
)paren
suffix:semicolon
op_star
id|err
op_assign
op_minus
id|ENOSPC
suffix:semicolon
id|lock_super
(paren
id|sb
)paren
suffix:semicolon
id|tmp
op_assign
id|SWAB32
c_func
(paren
op_star
id|p
)paren
suffix:semicolon
r_if
c_cond
(paren
id|count
op_plus
id|ufs_fragnum
c_func
(paren
id|fragment
)paren
OG
id|uspi-&gt;s_fpb
)paren
(brace
id|ufs_warning
(paren
id|sb
comma
l_string|&quot;ufs_new_fragments&quot;
comma
l_string|&quot;internal warning&quot;
l_string|&quot; fragment %u, count %u&quot;
comma
id|fragment
comma
id|count
)paren
suffix:semicolon
id|count
op_assign
id|uspi-&gt;s_fpb
op_minus
id|ufs_fragnum
c_func
(paren
id|fragment
)paren
suffix:semicolon
)brace
id|oldcount
op_assign
id|ufs_fragnum
(paren
id|fragment
)paren
suffix:semicolon
id|newcount
op_assign
id|oldcount
op_plus
id|count
suffix:semicolon
multiline_comment|/*&n;&t; * Somebody else has just allocated our fragments&n;&t; */
r_if
c_cond
(paren
id|oldcount
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|tmp
)paren
(brace
id|ufs_error
(paren
id|sb
comma
l_string|&quot;ufs_new_fragments&quot;
comma
l_string|&quot;internal error, &quot;
l_string|&quot;fragment %u, tmp %u&bslash;n&quot;
comma
id|fragment
comma
id|tmp
)paren
suffix:semicolon
r_return
(paren
r_int
)paren
op_minus
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|fragment
OL
id|inode-&gt;u.ufs_i.i_lastfrag
)paren
(brace
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT (ALREADY ALLOCATED)&bslash;n&quot;
)paren
)paren
id|unlock_super
(paren
id|sb
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|tmp
)paren
(brace
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT (ALREADY ALLOCATED)&bslash;n&quot;
)paren
)paren
id|unlock_super
c_func
(paren
id|sb
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t; * There is not enough space for user on the device&n;&t; */
r_if
c_cond
(paren
op_logical_neg
id|fsuser
c_func
(paren
)paren
op_logical_and
id|ufs_freespace
c_func
(paren
id|usb1
comma
id|UFS_MINFREE
)paren
op_le
l_int|0
)paren
(brace
id|unlock_super
(paren
id|sb
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT (FAILED)&bslash;n&quot;
)paren
)paren
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|goal
op_ge
id|uspi-&gt;s_size
)paren
id|goal
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|goal
op_eq
l_int|0
)paren
id|cgno
op_assign
id|ufs_inotocg
(paren
id|inode-&gt;i_ino
)paren
suffix:semicolon
r_else
id|cgno
op_assign
id|ufs_dtog
(paren
id|goal
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * allocate new fragment&n;&t; */
r_if
c_cond
(paren
id|oldcount
op_eq
l_int|0
)paren
(brace
id|result
op_assign
id|ufs_alloc_fragments
(paren
id|inode
comma
id|cgno
comma
id|goal
comma
id|count
comma
id|err
)paren
suffix:semicolon
r_if
c_cond
(paren
id|result
)paren
(brace
op_star
id|p
op_assign
id|SWAB32
c_func
(paren
id|result
)paren
suffix:semicolon
op_star
id|err
op_assign
l_int|0
suffix:semicolon
id|inode-&gt;i_blocks
op_add_assign
id|count
op_lshift
id|uspi-&gt;s_nspfshift
suffix:semicolon
id|inode-&gt;u.ufs_i.i_lastfrag
op_assign
id|max
(paren
id|inode-&gt;u.ufs_i.i_lastfrag
comma
id|fragment
op_plus
id|count
)paren
suffix:semicolon
id|NULLIFY_FRAGMENTS
)brace
id|unlock_super
c_func
(paren
id|sb
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT, result %u&bslash;n&quot;
comma
id|result
)paren
)paren
r_return
id|result
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * resize block&n;&t; */
id|result
op_assign
id|ufs_add_fragments
(paren
id|inode
comma
id|tmp
comma
id|oldcount
comma
id|newcount
comma
id|err
)paren
suffix:semicolon
r_if
c_cond
(paren
id|result
)paren
(brace
op_star
id|err
op_assign
l_int|0
suffix:semicolon
id|inode-&gt;i_blocks
op_add_assign
id|count
op_lshift
id|uspi-&gt;s_nspfshift
suffix:semicolon
id|inode-&gt;u.ufs_i.i_lastfrag
op_assign
id|max
(paren
id|inode-&gt;u.ufs_i.i_lastfrag
comma
id|fragment
op_plus
id|count
)paren
suffix:semicolon
id|NULLIFY_FRAGMENTS
id|unlock_super
c_func
(paren
id|sb
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT, result %u&bslash;n&quot;
comma
id|result
)paren
)paren
r_return
id|result
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * allocate new block and move data&n;&t; */
r_switch
c_cond
(paren
id|SWAB32
c_func
(paren
id|usb1-&gt;fs_optim
)paren
)paren
(brace
r_case
id|UFS_OPTSPACE
suffix:colon
id|request
op_assign
id|newcount
suffix:semicolon
r_if
c_cond
(paren
id|uspi-&gt;s_minfree
template_param
id|uspi-&gt;s_dsize
op_star
id|uspi-&gt;s_minfree
op_div
(paren
l_int|2
op_star
l_int|100
)paren
)paren
r_break
suffix:semicolon
id|usb1-&gt;fs_optim
op_assign
id|SWAB32
c_func
(paren
id|UFS_OPTTIME
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|usb1-&gt;fs_optim
op_assign
id|SWAB32
c_func
(paren
id|UFS_OPTTIME
)paren
suffix:semicolon
r_case
id|UFS_OPTTIME
suffix:colon
id|request
op_assign
id|uspi-&gt;s_fpb
suffix:semicolon
r_if
c_cond
(paren
id|SWAB32
c_func
(paren
id|usb1-&gt;fs_cstotal.cs_nffree
)paren
OL
id|uspi-&gt;s_dsize
op_star
(paren
id|uspi-&gt;s_minfree
op_minus
l_int|2
)paren
op_div
l_int|100
)paren
r_break
suffix:semicolon
id|usb1-&gt;fs_optim
op_assign
id|SWAB32
c_func
(paren
id|UFS_OPTSPACE
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
id|result
op_assign
id|ufs_alloc_fragments
(paren
id|inode
comma
id|cgno
comma
id|goal
comma
id|request
comma
id|err
)paren
suffix:semicolon
r_if
c_cond
(paren
id|result
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|oldcount
suffix:semicolon
id|i
op_increment
)paren
(brace
id|bh
op_assign
id|bread
(paren
id|sb-&gt;s_dev
comma
id|tmp
op_plus
id|i
comma
id|sb-&gt;s_blocksize
)paren
suffix:semicolon
r_if
c_cond
(paren
id|bh
)paren
(brace
id|mark_buffer_clean
(paren
id|bh
)paren
suffix:semicolon
id|bh-&gt;b_blocknr
op_assign
id|result
op_plus
id|i
suffix:semicolon
id|mark_buffer_dirty
(paren
id|bh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IS_SYNC
c_func
(paren
id|inode
)paren
)paren
(brace
id|ll_rw_block
(paren
id|WRITE
comma
l_int|1
comma
op_amp
id|bh
)paren
suffix:semicolon
id|wait_on_buffer
(paren
id|bh
)paren
suffix:semicolon
)brace
id|brelse
(paren
id|bh
)paren
suffix:semicolon
)brace
r_else
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot;ufs_new_fragments: bread fail&bslash;n&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)brace
op_star
id|p
op_assign
id|SWAB32
c_func
(paren
id|result
)paren
suffix:semicolon
op_star
id|err
op_assign
l_int|0
suffix:semicolon
id|inode-&gt;i_blocks
op_add_assign
id|count
op_lshift
id|uspi-&gt;s_nspfshift
suffix:semicolon
id|inode-&gt;u.ufs_i.i_lastfrag
op_assign
id|max
(paren
id|inode-&gt;u.ufs_i.i_lastfrag
comma
id|fragment
op_plus
id|count
)paren
suffix:semicolon
id|NULLIFY_FRAGMENTS
id|unlock_super
c_func
(paren
id|sb
)paren
suffix:semicolon
r_if
c_cond
(paren
id|newcount
OL
id|request
)paren
id|ufs_free_fragments
(paren
id|inode
comma
id|result
op_plus
id|newcount
comma
id|request
op_minus
id|newcount
)paren
suffix:semicolon
id|ufs_free_fragments
(paren
id|inode
comma
id|tmp
comma
id|oldcount
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT, result %u&bslash;n&quot;
comma
id|result
)paren
)paren
r_return
id|result
suffix:semicolon
)brace
id|unlock_super
c_func
(paren
id|sb
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT (FAILED)&bslash;n&quot;
)paren
)paren
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|ufs_add_fragments
r_int
id|ufs_add_fragments
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
id|fragment
comma
r_int
id|oldcount
comma
r_int
id|newcount
comma
r_int
op_star
id|err
)paren
(brace
r_struct
id|super_block
op_star
id|sb
suffix:semicolon
r_struct
id|ufs_sb_private_info
op_star
id|uspi
suffix:semicolon
r_struct
id|ufs_super_block_first
op_star
id|usb1
suffix:semicolon
r_struct
id|ufs_cg_private_info
op_star
id|ucpi
suffix:semicolon
r_struct
id|ufs_cylinder_group
op_star
id|ucg
suffix:semicolon
r_int
id|cgno
comma
id|fragno
comma
id|fragoff
comma
id|count
comma
id|fragsize
comma
id|i
suffix:semicolon
r_int
id|swab
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;ENTER, fragment %u, oldcount %u, newcount %u&bslash;n&quot;
comma
id|fragment
comma
id|oldcount
comma
id|newcount
)paren
)paren
id|sb
op_assign
id|inode-&gt;i_sb
suffix:semicolon
id|swab
op_assign
id|sb-&gt;u.ufs_sb.s_swab
suffix:semicolon
id|uspi
op_assign
id|sb-&gt;u.ufs_sb.s_uspi
suffix:semicolon
id|usb1
op_assign
id|ubh_get_usb_first
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|count
op_assign
id|newcount
op_minus
id|oldcount
suffix:semicolon
id|cgno
op_assign
id|ufs_dtog
c_func
(paren
id|fragment
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sb
op_member_access_from_pointer
id|fs_cs
c_func
(paren
id|cgno
)paren
dot
id|cs_nffree
OL
id|count
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
(paren
id|ufs_fragnum
(paren
id|fragment
)paren
op_plus
id|newcount
)paren
OG
id|uspi-&gt;s_fpb
)paren
r_return
l_int|0
suffix:semicolon
id|ucpi
op_assign
id|ufs_load_cylinder
(paren
id|sb
comma
id|cgno
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ucpi
)paren
r_return
l_int|0
suffix:semicolon
id|ucg
op_assign
id|ubh_get_ucg
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ufs_cg_chkmagic
c_func
(paren
id|ucg
)paren
)paren
(brace
id|ufs_panic
(paren
id|sb
comma
l_string|&quot;ufs_add_fragments&quot;
comma
l_string|&quot;internal error, bad magic number on cg %u&quot;
comma
id|cgno
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
id|fragno
op_assign
id|ufs_dtogd
(paren
id|fragment
)paren
suffix:semicolon
id|fragoff
op_assign
id|ufs_fragnum
(paren
id|fragno
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|oldcount
suffix:semicolon
id|i
OL
id|newcount
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|ubh_isclr
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|fragno
op_plus
id|i
)paren
)paren
r_return
l_int|0
suffix:semicolon
multiline_comment|/*&n;&t; * Block can be extended&n;&t; */
id|ucg-&gt;cg_time
op_assign
id|SWAB32
c_func
(paren
id|CURRENT_TIME
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|newcount
suffix:semicolon
id|i
OL
(paren
id|uspi-&gt;s_fpb
op_minus
id|fragoff
)paren
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|ubh_isclr
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|fragno
op_plus
id|i
)paren
)paren
r_break
suffix:semicolon
id|fragsize
op_assign
id|i
op_minus
id|oldcount
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|SWAB32
c_func
(paren
id|ucg-&gt;cg_frsum
(braket
id|fragsize
)braket
)paren
)paren
id|ufs_panic
(paren
id|sb
comma
l_string|&quot;ufs_add_fragments&quot;
comma
l_string|&quot;internal error or corrupted bitmap on cg %u&quot;
comma
id|cgno
)paren
suffix:semicolon
id|DEC_SWAB32
c_func
(paren
id|ucg-&gt;cg_frsum
(braket
id|fragsize
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|fragsize
op_ne
id|count
)paren
id|INC_SWAB32
c_func
(paren
id|ucg-&gt;cg_frsum
(braket
id|fragsize
op_minus
id|count
)braket
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|oldcount
suffix:semicolon
id|i
OL
id|newcount
suffix:semicolon
id|i
op_increment
)paren
id|ubh_clrbit
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|fragno
op_plus
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
id|DQUOT_ALLOC_BLOCK
c_func
(paren
id|sb
comma
id|inode
comma
id|count
)paren
)paren
(brace
op_star
id|err
op_assign
op_minus
id|EDQUOT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
id|SUB_SWAB32
c_func
(paren
id|ucg-&gt;cg_cs.cs_nffree
comma
id|count
)paren
suffix:semicolon
id|SUB_SWAB32
c_func
(paren
id|sb
op_member_access_from_pointer
id|fs_cs
c_func
(paren
id|cgno
)paren
dot
id|cs_nffree
comma
id|count
)paren
suffix:semicolon
id|SUB_SWAB32
c_func
(paren
id|usb1-&gt;fs_cstotal.cs_nffree
comma
id|count
)paren
suffix:semicolon
id|ubh_mark_buffer_dirty
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|ubh_mark_buffer_dirty
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sb-&gt;s_flags
op_amp
id|MS_SYNCHRONOUS
)paren
(brace
id|ubh_ll_rw_block
(paren
id|WRITE
comma
l_int|1
comma
(paren
r_struct
id|ufs_buffer_head
op_star
op_star
)paren
op_amp
id|ucpi
)paren
suffix:semicolon
id|ubh_wait_on_buffer
(paren
id|UCPI_UBH
)paren
suffix:semicolon
)brace
id|sb-&gt;s_dirt
op_assign
l_int|1
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT, fragment %u&bslash;n&quot;
comma
id|fragment
)paren
)paren
r_return
id|fragment
suffix:semicolon
)brace
DECL|macro|UFS_TEST_FREE_SPACE_CG
mdefine_line|#define UFS_TEST_FREE_SPACE_CG &bslash;&n;&t;ucg = (struct ufs_cylinder_group *) sb-&gt;u.ufs_sb.s_ucg[cgno]-&gt;b_data; &bslash;&n;&t;if (SWAB32(ucg-&gt;cg_cs.cs_nbfree)) &bslash;&n;&t;&t;goto cg_found; &bslash;&n;&t;for (k = count; k &lt; uspi-&gt;s_fpb; k++) &bslash;&n;&t;&t;if (SWAB32(ucg-&gt;cg_frsum[k])) &bslash;&n;&t;&t;&t;goto cg_found; 
DECL|function|ufs_alloc_fragments
r_int
id|ufs_alloc_fragments
(paren
r_struct
id|inode
op_star
id|inode
comma
r_int
id|cgno
comma
r_int
id|goal
comma
r_int
id|count
comma
r_int
op_star
id|err
)paren
(brace
r_struct
id|super_block
op_star
id|sb
suffix:semicolon
r_struct
id|ufs_sb_private_info
op_star
id|uspi
suffix:semicolon
r_struct
id|ufs_super_block_first
op_star
id|usb1
suffix:semicolon
r_struct
id|ufs_cg_private_info
op_star
id|ucpi
suffix:semicolon
r_struct
id|ufs_cylinder_group
op_star
id|ucg
suffix:semicolon
r_int
id|oldcg
comma
id|i
comma
id|j
comma
id|k
comma
id|result
comma
id|allocsize
suffix:semicolon
r_int
id|swab
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;ENTER, ino %lu, cgno %u, goal %u, count %u&bslash;n&quot;
comma
id|inode-&gt;i_ino
comma
id|cgno
comma
id|goal
comma
id|count
)paren
)paren
id|sb
op_assign
id|inode-&gt;i_sb
suffix:semicolon
id|swab
op_assign
id|sb-&gt;u.ufs_sb.s_swab
suffix:semicolon
id|uspi
op_assign
id|sb-&gt;u.ufs_sb.s_uspi
suffix:semicolon
id|usb1
op_assign
id|ubh_get_usb_first
c_func
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|oldcg
op_assign
id|cgno
suffix:semicolon
multiline_comment|/*&n;&t; * 1. searching on preferred cylinder group&n;&t; */
id|UFS_TEST_FREE_SPACE_CG
multiline_comment|/*&n;&t; * 2. quadratic rehash&n;&t; */
r_for
c_loop
(paren
id|j
op_assign
l_int|1
suffix:semicolon
id|j
OL
id|uspi-&gt;s_ncg
suffix:semicolon
id|j
op_mul_assign
l_int|2
)paren
(brace
id|cgno
op_add_assign
id|j
suffix:semicolon
r_if
c_cond
(paren
id|cgno
op_ge
id|uspi-&gt;s_ncg
)paren
id|cgno
op_sub_assign
id|uspi-&gt;s_ncg
suffix:semicolon
id|UFS_TEST_FREE_SPACE_CG
)brace
multiline_comment|/*&n;&t; * 3. brute force search&n;&t; * We start at i = 2 ( 0 is checked at 1.step, 1 at 2.step )&n;&t; */
id|cgno
op_assign
(paren
id|oldcg
op_plus
l_int|1
)paren
op_mod
id|uspi-&gt;s_ncg
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|2
suffix:semicolon
id|j
OL
id|uspi-&gt;s_ncg
suffix:semicolon
id|j
op_increment
)paren
(brace
id|cgno
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|cgno
op_ge
id|uspi-&gt;s_ncg
)paren
id|cgno
op_assign
l_int|0
suffix:semicolon
id|UFS_TEST_FREE_SPACE_CG
)brace
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT (FAILED)&bslash;n&quot;
)paren
)paren
r_return
l_int|0
suffix:semicolon
id|cg_found
suffix:colon
id|ucpi
op_assign
id|ufs_load_cylinder
(paren
id|sb
comma
id|cgno
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ucpi
)paren
r_return
l_int|0
suffix:semicolon
id|ucg
op_assign
id|ubh_get_ucg
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ufs_cg_chkmagic
c_func
(paren
id|ucg
)paren
)paren
id|ufs_panic
(paren
id|sb
comma
l_string|&quot;ufs_alloc_fragments&quot;
comma
l_string|&quot;internal error, bad magic number on cg %u&quot;
comma
id|cgno
)paren
suffix:semicolon
id|ucg-&gt;cg_time
op_assign
id|SWAB32
c_func
(paren
id|CURRENT_TIME
)paren
suffix:semicolon
r_if
c_cond
(paren
id|count
op_eq
id|uspi-&gt;s_fpb
)paren
(brace
id|result
op_assign
id|ufs_alloccg_block
(paren
id|inode
comma
id|ucpi
comma
id|goal
comma
id|err
)paren
suffix:semicolon
r_if
c_cond
(paren
id|result
op_eq
(paren
r_int
)paren
op_minus
l_int|1
)paren
r_return
l_int|0
suffix:semicolon
r_goto
id|succed
suffix:semicolon
)brace
r_for
c_loop
(paren
id|allocsize
op_assign
id|count
suffix:semicolon
id|allocsize
OL
id|uspi-&gt;s_fpb
suffix:semicolon
id|allocsize
op_increment
)paren
r_if
c_cond
(paren
id|SWAB32
c_func
(paren
id|ucg-&gt;cg_frsum
(braket
id|allocsize
)braket
)paren
op_ne
l_int|0
)paren
r_break
suffix:semicolon
r_if
c_cond
(paren
id|allocsize
op_eq
id|uspi-&gt;s_fpb
)paren
(brace
id|result
op_assign
id|ufs_alloccg_block
(paren
id|inode
comma
id|ucpi
comma
id|goal
comma
id|err
)paren
suffix:semicolon
r_if
c_cond
(paren
id|result
op_eq
(paren
r_int
)paren
op_minus
l_int|1
)paren
r_return
l_int|0
suffix:semicolon
id|goal
op_assign
id|ufs_dtogd
(paren
id|result
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|count
suffix:semicolon
id|i
OL
id|uspi-&gt;s_fpb
suffix:semicolon
id|i
op_increment
)paren
id|ubh_setbit
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|goal
op_plus
id|i
)paren
suffix:semicolon
id|i
op_assign
id|uspi-&gt;s_fpb
op_minus
id|count
suffix:semicolon
id|DQUOT_FREE_BLOCK
c_func
(paren
id|sb
comma
id|inode
comma
id|i
)paren
suffix:semicolon
id|ADD_SWAB32
c_func
(paren
id|ucg-&gt;cg_cs.cs_nffree
comma
id|i
)paren
suffix:semicolon
id|ADD_SWAB32
c_func
(paren
id|usb1-&gt;fs_cstotal.cs_nffree
comma
id|i
)paren
suffix:semicolon
id|ADD_SWAB32
c_func
(paren
id|sb
op_member_access_from_pointer
id|fs_cs
c_func
(paren
id|cgno
)paren
dot
id|cs_nffree
comma
id|i
)paren
suffix:semicolon
id|INC_SWAB32
c_func
(paren
id|ucg-&gt;cg_frsum
(braket
id|i
)braket
)paren
suffix:semicolon
r_goto
id|succed
suffix:semicolon
)brace
id|result
op_assign
id|ufs_bitmap_search
(paren
id|sb
comma
id|ucpi
comma
id|goal
comma
id|allocsize
)paren
suffix:semicolon
r_if
c_cond
(paren
id|result
op_eq
(paren
r_int
)paren
op_minus
l_int|1
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|DQUOT_ALLOC_BLOCK
c_func
(paren
id|sb
comma
id|inode
comma
id|count
)paren
)paren
(brace
op_star
id|err
op_assign
op_minus
id|EDQUOT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|count
suffix:semicolon
id|i
op_increment
)paren
id|ubh_clrbit
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|result
op_plus
id|i
)paren
suffix:semicolon
id|SUB_SWAB32
c_func
(paren
id|ucg-&gt;cg_cs.cs_nffree
comma
id|count
)paren
suffix:semicolon
id|SUB_SWAB32
c_func
(paren
id|usb1-&gt;fs_cstotal.cs_nffree
comma
id|count
)paren
suffix:semicolon
id|SUB_SWAB32
c_func
(paren
id|sb
op_member_access_from_pointer
id|fs_cs
c_func
(paren
id|cgno
)paren
dot
id|cs_nffree
comma
id|count
)paren
suffix:semicolon
id|DEC_SWAB32
c_func
(paren
id|ucg-&gt;cg_frsum
(braket
id|allocsize
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|count
op_ne
id|allocsize
)paren
id|INC_SWAB32
c_func
(paren
id|ucg-&gt;cg_frsum
(braket
id|allocsize
op_minus
id|count
)braket
)paren
suffix:semicolon
id|succed
suffix:colon
id|ubh_mark_buffer_dirty
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|ubh_mark_buffer_dirty
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sb-&gt;s_flags
op_amp
id|MS_SYNCHRONOUS
)paren
(brace
id|ubh_ll_rw_block
(paren
id|WRITE
comma
l_int|1
comma
(paren
r_struct
id|ufs_buffer_head
op_star
op_star
)paren
op_amp
id|ucpi
)paren
suffix:semicolon
id|ubh_wait_on_buffer
(paren
id|UCPI_UBH
)paren
suffix:semicolon
)brace
id|sb-&gt;s_dirt
op_assign
l_int|1
suffix:semicolon
id|result
op_add_assign
id|cgno
op_star
id|uspi-&gt;s_fpg
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT3, result %u&bslash;n&quot;
comma
id|result
)paren
)paren
r_return
id|result
suffix:semicolon
)brace
DECL|function|ufs_alloccg_block
r_int
id|ufs_alloccg_block
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|ufs_cg_private_info
op_star
id|ucpi
comma
r_int
id|goal
comma
r_int
op_star
id|err
)paren
(brace
r_struct
id|super_block
op_star
id|sb
suffix:semicolon
r_struct
id|ufs_sb_private_info
op_star
id|uspi
suffix:semicolon
r_struct
id|ufs_super_block_first
op_star
id|usb1
suffix:semicolon
r_struct
id|ufs_cylinder_group
op_star
id|ucg
suffix:semicolon
r_int
id|result
comma
id|cylno
comma
id|blkno
suffix:semicolon
r_int
id|swab
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;ENTER, goal %u&bslash;n&quot;
comma
id|goal
)paren
)paren
id|sb
op_assign
id|inode-&gt;i_sb
suffix:semicolon
id|swab
op_assign
id|sb-&gt;u.ufs_sb.s_swab
suffix:semicolon
id|uspi
op_assign
id|sb-&gt;u.ufs_sb.s_uspi
suffix:semicolon
id|usb1
op_assign
id|ubh_get_usb_first
c_func
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|ucg
op_assign
id|ubh_get_ucg
c_func
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
id|goal
op_eq
l_int|0
)paren
(brace
id|goal
op_assign
id|ucpi-&gt;c_rotor
suffix:semicolon
r_goto
id|norot
suffix:semicolon
)brace
id|goal
op_assign
id|ufs_blknum
(paren
id|goal
)paren
suffix:semicolon
id|goal
op_assign
id|ufs_dtogd
(paren
id|goal
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * If the requested block is available, use it.&n;&t; */
r_if
c_cond
(paren
id|ubh_isblockset
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|ufs_fragstoblks
c_func
(paren
id|goal
)paren
)paren
)paren
(brace
id|result
op_assign
id|goal
suffix:semicolon
r_goto
id|gotit
suffix:semicolon
)brace
id|norot
suffix:colon
id|result
op_assign
id|ufs_bitmap_search
(paren
id|sb
comma
id|ucpi
comma
id|goal
comma
id|uspi-&gt;s_fpb
)paren
suffix:semicolon
r_if
c_cond
(paren
id|result
op_eq
(paren
r_int
)paren
op_minus
l_int|1
)paren
r_return
(paren
r_int
)paren
op_minus
l_int|1
suffix:semicolon
id|ucpi-&gt;c_rotor
op_assign
id|result
suffix:semicolon
id|gotit
suffix:colon
id|blkno
op_assign
id|ufs_fragstoblks
c_func
(paren
id|result
)paren
suffix:semicolon
id|ubh_clrblock
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|blkno
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|sb-&gt;u.ufs_sb.s_flags
op_amp
id|UFS_CG_MASK
)paren
op_eq
id|UFS_CG_44BSD
)paren
id|ufs_clusteracct
(paren
id|sb
comma
id|ucpi
comma
id|blkno
comma
op_minus
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|DQUOT_ALLOC_BLOCK
c_func
(paren
id|sb
comma
id|inode
comma
id|uspi-&gt;s_fpb
)paren
)paren
(brace
op_star
id|err
op_assign
op_minus
id|EDQUOT
suffix:semicolon
r_return
(paren
r_int
)paren
op_minus
l_int|1
suffix:semicolon
)brace
id|DEC_SWAB32
c_func
(paren
id|ucg-&gt;cg_cs.cs_nbfree
)paren
suffix:semicolon
id|DEC_SWAB32
c_func
(paren
id|usb1-&gt;fs_cstotal.cs_nbfree
)paren
suffix:semicolon
id|DEC_SWAB32
c_func
(paren
id|sb
op_member_access_from_pointer
id|fs_cs
c_func
(paren
id|ucpi-&gt;c_cgx
)paren
dot
id|cs_nbfree
)paren
suffix:semicolon
id|cylno
op_assign
id|ufs_cbtocylno
c_func
(paren
id|result
)paren
suffix:semicolon
id|DEC_SWAB16
c_func
(paren
id|ubh_cg_blks
c_func
(paren
id|ucpi
comma
id|cylno
comma
id|ufs_cbtorpos
c_func
(paren
id|result
)paren
)paren
)paren
suffix:semicolon
id|DEC_SWAB32
c_func
(paren
id|ubh_cg_blktot
c_func
(paren
id|ucpi
comma
id|cylno
)paren
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT, result %u&bslash;n&quot;
comma
id|result
)paren
)paren
r_return
id|result
suffix:semicolon
)brace
DECL|function|ufs_bitmap_search
r_int
id|ufs_bitmap_search
(paren
r_struct
id|super_block
op_star
id|sb
comma
r_struct
id|ufs_cg_private_info
op_star
id|ucpi
comma
r_int
id|goal
comma
r_int
id|count
)paren
(brace
r_struct
id|ufs_sb_private_info
op_star
id|uspi
suffix:semicolon
r_struct
id|ufs_super_block_first
op_star
id|usb1
suffix:semicolon
r_struct
id|ufs_cylinder_group
op_star
id|ucg
suffix:semicolon
r_int
id|start
comma
id|length
comma
id|location
comma
id|result
suffix:semicolon
r_int
id|possition
comma
id|fragsize
comma
id|blockmap
comma
id|mask
suffix:semicolon
r_int
id|swab
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;ENTER, cg %u, goal %u, count %u&bslash;n&quot;
comma
id|ucpi-&gt;c_cgx
comma
id|goal
comma
id|count
)paren
)paren
id|swab
op_assign
id|sb-&gt;u.ufs_sb.s_swab
suffix:semicolon
id|uspi
op_assign
id|sb-&gt;u.ufs_sb.s_uspi
suffix:semicolon
id|usb1
op_assign
id|ubh_get_usb_first
(paren
id|USPI_UBH
)paren
suffix:semicolon
id|ucg
op_assign
id|ubh_get_ucg
c_func
(paren
id|UCPI_UBH
)paren
suffix:semicolon
r_if
c_cond
(paren
id|goal
)paren
id|start
op_assign
id|ufs_dtogd
c_func
(paren
id|goal
)paren
op_rshift
l_int|3
suffix:semicolon
r_else
id|start
op_assign
id|ucpi-&gt;c_frotor
op_rshift
l_int|3
suffix:semicolon
id|length
op_assign
(paren
(paren
id|uspi-&gt;s_fpg
op_plus
l_int|7
)paren
op_rshift
l_int|3
)paren
op_minus
id|start
suffix:semicolon
id|location
op_assign
id|ubh_scanc
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
op_plus
id|start
comma
id|length
comma
(paren
id|uspi-&gt;s_fpb
op_eq
l_int|8
)paren
ques
c_cond
id|ufs_fragtable_8fpb
suffix:colon
id|ufs_fragtable_other
comma
l_int|1
op_lshift
(paren
id|count
op_minus
l_int|1
op_plus
(paren
id|uspi-&gt;s_fpb
op_amp
l_int|7
)paren
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|location
op_eq
l_int|0
)paren
(brace
id|length
op_assign
id|start
op_plus
l_int|1
suffix:semicolon
id|location
op_assign
id|ubh_scanc
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|length
comma
(paren
id|uspi-&gt;s_fpb
op_eq
l_int|8
)paren
ques
c_cond
id|ufs_fragtable_8fpb
suffix:colon
id|ufs_fragtable_other
comma
l_int|1
op_lshift
(paren
id|count
op_minus
l_int|1
op_plus
(paren
id|uspi-&gt;s_fpb
op_amp
l_int|7
)paren
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|location
op_eq
l_int|0
)paren
(brace
id|ufs_error
(paren
id|sb
comma
l_string|&quot;ufs_bitmap_search&quot;
comma
l_string|&quot;bitmap corrupted on cg %u, start %u, length %u, count %u, freeoff %u&bslash;n&quot;
comma
id|ucpi-&gt;c_cgx
comma
id|start
comma
id|length
comma
id|count
comma
id|ucpi-&gt;c_freeoff
)paren
suffix:semicolon
r_return
(paren
r_int
)paren
op_minus
l_int|1
suffix:semicolon
)brace
id|start
op_assign
l_int|0
suffix:semicolon
)brace
id|result
op_assign
(paren
id|start
op_plus
id|length
op_minus
id|location
)paren
op_lshift
l_int|3
suffix:semicolon
id|ucpi-&gt;c_frotor
op_assign
id|result
suffix:semicolon
multiline_comment|/*&n;&t; * found the byte in the map&n;&t; */
id|blockmap
op_assign
id|ubh_blkmap
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_freeoff
comma
id|result
)paren
suffix:semicolon
id|fragsize
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|possition
op_assign
l_int|0
comma
id|mask
op_assign
l_int|1
suffix:semicolon
id|possition
OL
l_int|8
suffix:semicolon
id|possition
op_increment
comma
id|mask
op_lshift_assign
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|blockmap
op_amp
id|mask
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
(paren
id|possition
op_amp
id|uspi-&gt;s_fpbmask
)paren
)paren
id|fragsize
op_assign
l_int|1
suffix:semicolon
r_else
id|fragsize
op_increment
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|fragsize
op_eq
id|count
)paren
(brace
id|result
op_add_assign
id|possition
op_minus
id|count
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT, result %u&bslash;n&quot;
comma
id|result
)paren
)paren
r_return
id|result
suffix:semicolon
)brace
id|fragsize
op_assign
l_int|0
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|fragsize
op_eq
id|count
)paren
(brace
id|result
op_add_assign
id|possition
op_minus
id|count
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT, result %u&bslash;n&quot;
comma
id|result
)paren
)paren
r_return
id|result
suffix:semicolon
)brace
id|ufs_error
(paren
id|sb
comma
l_string|&quot;ufs_bitmap_search&quot;
comma
l_string|&quot;block not in map on cg %u&bslash;n&quot;
comma
id|ucpi-&gt;c_cgx
)paren
suffix:semicolon
id|UFSD
c_func
(paren
(paren
l_string|&quot;EXIT (FAILED)&bslash;n&quot;
)paren
)paren
r_return
(paren
r_int
)paren
op_minus
l_int|1
suffix:semicolon
)brace
DECL|function|ufs_clusteracct
r_void
id|ufs_clusteracct
c_func
(paren
r_struct
id|super_block
op_star
id|sb
comma
r_struct
id|ufs_cg_private_info
op_star
id|ucpi
comma
r_int
id|blkno
comma
r_int
id|cnt
)paren
(brace
r_struct
id|ufs_sb_private_info
op_star
id|uspi
suffix:semicolon
r_int
id|i
comma
id|start
comma
id|end
comma
id|forw
comma
id|back
suffix:semicolon
r_int
id|swab
suffix:semicolon
id|uspi
op_assign
id|sb-&gt;u.ufs_sb.s_uspi
suffix:semicolon
id|swab
op_assign
id|sb-&gt;u.ufs_sb.s_swab
suffix:semicolon
r_if
c_cond
(paren
id|uspi-&gt;s_contigsumsize
op_le
l_int|0
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|cnt
OG
l_int|0
)paren
id|ubh_setbit
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_clusteroff
comma
id|blkno
)paren
suffix:semicolon
r_else
id|ubh_clrbit
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_clusteroff
comma
id|blkno
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * Find the size of the cluster going forward.&n;&t; */
id|start
op_assign
id|blkno
op_plus
l_int|1
suffix:semicolon
id|end
op_assign
id|start
op_plus
id|uspi-&gt;s_contigsumsize
suffix:semicolon
r_if
c_cond
(paren
id|end
op_ge
id|ucpi-&gt;c_nclusterblks
)paren
id|end
op_assign
id|ucpi-&gt;c_nclusterblks
suffix:semicolon
id|i
op_assign
id|ubh_find_next_zero_bit
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_clusteroff
comma
id|end
comma
id|start
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
OG
id|end
)paren
id|i
op_assign
id|end
suffix:semicolon
id|forw
op_assign
id|i
op_minus
id|start
suffix:semicolon
multiline_comment|/*&n;&t; * Find the size of the cluster going backward.&n;&t; */
id|start
op_assign
id|blkno
op_minus
l_int|1
suffix:semicolon
id|end
op_assign
id|start
op_minus
id|uspi-&gt;s_contigsumsize
suffix:semicolon
r_if
c_cond
(paren
id|end
OL
l_int|0
)paren
id|end
op_assign
op_minus
l_int|1
suffix:semicolon
id|i
op_assign
id|ubh_find_last_zero_bit
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_clusteroff
comma
id|start
comma
id|end
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
OL
id|end
)paren
id|i
op_assign
id|end
suffix:semicolon
id|back
op_assign
id|start
op_minus
id|i
suffix:semicolon
multiline_comment|/*&n;&t; * Account for old cluster and the possibly new forward and&n;&t; * back clusters.&n;&t; */
id|i
op_assign
id|back
op_plus
id|forw
op_plus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|i
OG
id|uspi-&gt;s_contigsumsize
)paren
id|i
op_assign
id|uspi-&gt;s_contigsumsize
suffix:semicolon
id|ADD_SWAB32
c_func
(paren
op_star
(paren
(paren
id|u32
op_star
)paren
id|ubh_get_addr
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_clustersumoff
op_plus
(paren
id|i
op_lshift
l_int|2
)paren
)paren
)paren
comma
id|cnt
)paren
suffix:semicolon
r_if
c_cond
(paren
id|back
OG
l_int|0
)paren
id|SUB_SWAB32
c_func
(paren
op_star
(paren
(paren
id|u32
op_star
)paren
id|ubh_get_addr
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_clustersumoff
op_plus
(paren
id|back
op_lshift
l_int|2
)paren
)paren
)paren
comma
id|cnt
)paren
suffix:semicolon
r_if
c_cond
(paren
id|forw
OG
l_int|0
)paren
id|SUB_SWAB32
c_func
(paren
op_star
(paren
(paren
id|u32
op_star
)paren
id|ubh_get_addr
c_func
(paren
id|UCPI_UBH
comma
id|ucpi-&gt;c_clustersumoff
op_plus
(paren
id|forw
op_lshift
l_int|2
)paren
)paren
)paren
comma
id|cnt
)paren
suffix:semicolon
)brace
DECL|variable|ufs_fragtable_8fpb
r_static
r_int
r_char
id|ufs_fragtable_8fpb
(braket
)braket
op_assign
(brace
l_int|0x00
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x02
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x02
comma
l_int|0x04
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x04
comma
l_int|0x08
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x08
comma
l_int|0x10
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x09
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x06
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x06
comma
l_int|0x08
comma
l_int|0x09
comma
l_int|0x10
comma
l_int|0x20
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x09
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x09
comma
l_int|0x11
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x06
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x06
comma
l_int|0x0A
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x06
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x06
comma
l_int|0x04
comma
l_int|0x08
comma
l_int|0x09
comma
l_int|0x09
comma
l_int|0x0A
comma
l_int|0x10
comma
l_int|0x11
comma
l_int|0x20
comma
l_int|0x40
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x09
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x09
comma
l_int|0x11
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x05
comma
l_int|0x09
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x07
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x07
comma
l_int|0x09
comma
l_int|0x09
comma
l_int|0x11
comma
l_int|0x21
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x06
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x06
comma
l_int|0x0A
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x07
comma
l_int|0x02
comma
l_int|0x03
comma
l_int|0x03
comma
l_int|0x02
comma
l_int|0x06
comma
l_int|0x07
comma
l_int|0x0A
comma
l_int|0x12
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x06
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x06
comma
l_int|0x04
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x05
comma
l_int|0x07
comma
l_int|0x06
comma
l_int|0x07
comma
l_int|0x04
comma
l_int|0x0C
comma
l_int|0x08
comma
l_int|0x09
comma
l_int|0x09
comma
l_int|0x0A
comma
l_int|0x09
comma
l_int|0x09
comma
l_int|0x0A
comma
l_int|0x0C
comma
l_int|0x10
comma
l_int|0x11
comma
l_int|0x11
comma
l_int|0x12
comma
l_int|0x20
comma
l_int|0x21
comma
l_int|0x40
comma
l_int|0x80
comma
)brace
suffix:semicolon
DECL|variable|ufs_fragtable_other
r_static
r_int
r_char
id|ufs_fragtable_other
(braket
)braket
op_assign
(brace
l_int|0x00
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x2A
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x26
comma
l_int|0x4E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x2A
comma
l_int|0x3E
comma
l_int|0x4E
comma
l_int|0x8A
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x36
comma
l_int|0x5E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x5E
comma
l_int|0x9E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x36
comma
l_int|0x5E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x5E
comma
l_int|0x9E
comma
l_int|0x2A
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x2A
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x2E
comma
l_int|0x6E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x2A
comma
l_int|0x3E
comma
l_int|0x6E
comma
l_int|0xAA
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x36
comma
l_int|0x5E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x5E
comma
l_int|0x9E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x36
comma
l_int|0x5E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x5E
comma
l_int|0x9E
comma
l_int|0x26
comma
l_int|0x36
comma
l_int|0x36
comma
l_int|0x2E
comma
l_int|0x36
comma
l_int|0x36
comma
l_int|0x26
comma
l_int|0x6E
comma
l_int|0x36
comma
l_int|0x36
comma
l_int|0x36
comma
l_int|0x3E
comma
l_int|0x2E
comma
l_int|0x3E
comma
l_int|0x6E
comma
l_int|0xAE
comma
l_int|0x4E
comma
l_int|0x5E
comma
l_int|0x5E
comma
l_int|0x6E
comma
l_int|0x5E
comma
l_int|0x5E
comma
l_int|0x6E
comma
l_int|0x4E
comma
l_int|0x5E
comma
l_int|0x5E
comma
l_int|0x5E
comma
l_int|0x7E
comma
l_int|0x6E
comma
l_int|0x7E
comma
l_int|0x4E
comma
l_int|0xCE
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x36
comma
l_int|0x5E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x5E
comma
l_int|0x9E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x36
comma
l_int|0x5E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x5E
comma
l_int|0x9E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x36
comma
l_int|0x5E
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x16
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x5E
comma
l_int|0x9E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x7E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x7E
comma
l_int|0xBE
comma
l_int|0x2A
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x2A
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x2E
comma
l_int|0x6E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x2A
comma
l_int|0x3E
comma
l_int|0x6E
comma
l_int|0xAA
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x7E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x3E
comma
l_int|0x7E
comma
l_int|0xBE
comma
l_int|0x4E
comma
l_int|0x5E
comma
l_int|0x5E
comma
l_int|0x6E
comma
l_int|0x5E
comma
l_int|0x5E
comma
l_int|0x6E
comma
l_int|0x4E
comma
l_int|0x5E
comma
l_int|0x5E
comma
l_int|0x5E
comma
l_int|0x7E
comma
l_int|0x6E
comma
l_int|0x7E
comma
l_int|0x4E
comma
l_int|0xCE
comma
l_int|0x8A
comma
l_int|0x9E
comma
l_int|0x9E
comma
l_int|0xAA
comma
l_int|0x9E
comma
l_int|0x9E
comma
l_int|0xAE
comma
l_int|0xCE
comma
l_int|0x9E
comma
l_int|0x9E
comma
l_int|0x9E
comma
l_int|0xBE
comma
l_int|0xAA
comma
l_int|0xBE
comma
l_int|0xCE
comma
l_int|0x8A
comma
)brace
suffix:semicolon
eof
