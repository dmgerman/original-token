multiline_comment|/*&n; *  linux/fs/adfs/dir.c&n; *&n; * Copyright (C) 1997 Russell King&n; */
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &lt;linux/adfs_fs.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/stat.h&gt;
DECL|function|adfs_dirread
r_static
id|ssize_t
id|adfs_dirread
(paren
r_struct
id|file
op_star
id|filp
comma
r_char
op_star
id|buf
comma
r_int
id|siz
comma
id|loff_t
op_star
id|ppos
)paren
(brace
r_return
op_minus
id|EISDIR
suffix:semicolon
)brace
r_static
r_int
id|adfs_readdir
(paren
r_struct
id|file
op_star
comma
r_void
op_star
comma
id|filldir_t
)paren
suffix:semicolon
DECL|variable|adfs_dir_operations
r_static
r_struct
id|file_operations
id|adfs_dir_operations
op_assign
(brace
l_int|NULL
comma
multiline_comment|/* lseek - default */
id|adfs_dirread
comma
multiline_comment|/* read */
l_int|NULL
comma
multiline_comment|/* write - bad */
id|adfs_readdir
comma
multiline_comment|/* readdir */
l_int|NULL
comma
multiline_comment|/* select - default */
l_int|NULL
comma
multiline_comment|/* ioctl */
l_int|NULL
comma
multiline_comment|/* mmap */
l_int|NULL
comma
multiline_comment|/* no special open code */
l_int|NULL
comma
multiline_comment|/* flush */
l_int|NULL
comma
multiline_comment|/* no special release code */
id|file_fsync
comma
multiline_comment|/* fsync */
l_int|NULL
comma
multiline_comment|/* fasync */
)brace
suffix:semicolon
multiline_comment|/*&n; * directories can handle most operations...&n; */
DECL|variable|adfs_dir_inode_operations
r_struct
id|inode_operations
id|adfs_dir_inode_operations
op_assign
(brace
op_amp
id|adfs_dir_operations
comma
multiline_comment|/* default directory file-ops */
l_int|NULL
comma
multiline_comment|/* create */
id|adfs_lookup
comma
multiline_comment|/* lookup */
l_int|NULL
comma
multiline_comment|/* link */
l_int|NULL
comma
multiline_comment|/* unlink */
l_int|NULL
comma
multiline_comment|/* symlink */
l_int|NULL
comma
multiline_comment|/* mkdir */
l_int|NULL
comma
multiline_comment|/* rmdir */
l_int|NULL
comma
multiline_comment|/* mknod */
l_int|NULL
comma
multiline_comment|/* rename */
l_int|NULL
comma
multiline_comment|/* read link */
l_int|NULL
comma
multiline_comment|/* follow link */
l_int|NULL
comma
multiline_comment|/* get_block */
l_int|NULL
comma
multiline_comment|/* read page */
l_int|NULL
comma
multiline_comment|/* write page */
l_int|NULL
comma
multiline_comment|/* truncate */
l_int|NULL
comma
multiline_comment|/* permission */
l_int|NULL
multiline_comment|/* revalidate */
)brace
suffix:semicolon
DECL|function|adfs_val
r_int
r_int
id|adfs_val
(paren
r_int
r_char
op_star
id|p
comma
r_int
id|len
)paren
(brace
r_int
r_int
id|val
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|len
)paren
(brace
r_case
l_int|4
suffix:colon
id|val
op_or_assign
id|p
(braket
l_int|3
)braket
op_lshift
l_int|24
suffix:semicolon
r_case
l_int|3
suffix:colon
id|val
op_or_assign
id|p
(braket
l_int|2
)braket
op_lshift
l_int|16
suffix:semicolon
r_case
l_int|2
suffix:colon
id|val
op_or_assign
id|p
(braket
l_int|1
)braket
op_lshift
l_int|8
suffix:semicolon
r_default
suffix:colon
id|val
op_or_assign
id|p
(braket
l_int|0
)braket
suffix:semicolon
)brace
r_return
id|val
suffix:semicolon
)brace
DECL|function|adfs_filetype
r_static
r_int
r_int
id|adfs_filetype
(paren
r_int
r_int
id|load
)paren
(brace
r_if
c_cond
(paren
(paren
id|load
op_amp
l_int|0xfff00000
)paren
op_ne
l_int|0xfff00000
)paren
r_return
(paren
r_int
r_int
)paren
op_minus
l_int|1
suffix:semicolon
r_return
(paren
id|load
op_rshift
l_int|8
)paren
op_amp
l_int|0xfff
suffix:semicolon
)brace
DECL|function|adfs_time
r_static
r_int
r_int
id|adfs_time
(paren
r_int
r_int
id|load
comma
r_int
r_int
id|exec
)paren
(brace
r_int
r_int
id|high
comma
id|low
suffix:semicolon
multiline_comment|/* Check for unstamped files.  */
r_if
c_cond
(paren
(paren
id|load
op_amp
l_int|0xfff00000
)paren
op_ne
l_int|0xfff00000
)paren
r_return
l_int|0
suffix:semicolon
id|high
op_assign
(paren
(paren
id|load
op_lshift
l_int|24
)paren
op_or
(paren
id|exec
op_rshift
l_int|8
)paren
)paren
suffix:semicolon
id|low
op_assign
id|exec
op_amp
l_int|255
suffix:semicolon
multiline_comment|/* Files dated pre 1970.  */
r_if
c_cond
(paren
id|high
OL
l_int|0x336e996a
)paren
r_return
l_int|0
suffix:semicolon
id|high
op_sub_assign
l_int|0x336e996a
suffix:semicolon
multiline_comment|/* Files dated post 2038 ish.  */
r_if
c_cond
(paren
id|high
OG
l_int|0x31ffffff
)paren
r_return
l_int|0x7fffffff
suffix:semicolon
multiline_comment|/* 65537 = h256,l1&n;&t; * (h256 % 100) = 56         h256 / 100 = 2&n;&t; *    56 &lt;&lt; 8 = 14336           2 * 256 = 512&n;&t; *      + l1 = 14337&n;&t; *        / 100 = 143&n;&t; *          + 512 = 655&n;&t; */
r_return
(paren
(paren
(paren
id|high
op_mod
l_int|100
)paren
op_lshift
l_int|8
)paren
op_plus
id|low
)paren
op_div
l_int|100
op_plus
(paren
id|high
op_div
l_int|100
op_lshift
l_int|8
)paren
suffix:semicolon
)brace
DECL|function|adfs_readname
r_int
id|adfs_readname
(paren
r_char
op_star
id|buf
comma
r_char
op_star
id|ptr
comma
r_int
id|maxlen
)paren
(brace
r_int
id|size
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
op_star
id|ptr
op_ge
l_char|&squot; &squot;
op_logical_and
id|maxlen
op_decrement
)paren
(brace
r_switch
c_cond
(paren
op_star
id|ptr
)paren
(brace
r_case
l_char|&squot;/&squot;
suffix:colon
op_star
id|buf
op_increment
op_assign
l_char|&squot;.&squot;
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
op_star
id|buf
op_increment
op_assign
op_star
id|ptr
suffix:semicolon
r_break
suffix:semicolon
)brace
id|ptr
op_increment
suffix:semicolon
id|size
op_increment
suffix:semicolon
)brace
op_star
id|buf
op_assign
l_char|&squot;&bslash;0&squot;
suffix:semicolon
r_return
id|size
suffix:semicolon
)brace
DECL|function|adfs_dir_read_parent
r_int
id|adfs_dir_read_parent
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|buffer_head
op_star
op_star
id|bhp
)paren
(brace
r_struct
id|super_block
op_star
id|sb
suffix:semicolon
r_int
id|i
comma
id|size
suffix:semicolon
id|sb
op_assign
id|inode-&gt;i_sb
suffix:semicolon
id|size
op_assign
l_int|2048
op_rshift
id|sb-&gt;s_blocksize_bits
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|size
suffix:semicolon
id|i
op_increment
)paren
(brace
r_int
id|block
suffix:semicolon
id|block
op_assign
id|adfs_parent_bmap
(paren
id|inode
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
id|block
)paren
id|bhp
(braket
id|i
)braket
op_assign
id|bread
(paren
id|sb-&gt;s_dev
comma
id|block
comma
id|sb-&gt;s_blocksize
)paren
suffix:semicolon
r_else
id|adfs_error
(paren
id|sb
comma
l_string|&quot;adfs_dir_read_parent&quot;
comma
l_string|&quot;directory %lu with a hole at offset %d&quot;
comma
id|inode-&gt;i_ino
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|block
op_logical_or
op_logical_neg
id|bhp
(braket
id|i
)braket
)paren
(brace
r_int
id|j
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
id|i
op_minus
l_int|1
suffix:semicolon
id|j
op_ge
l_int|0
suffix:semicolon
id|j
op_decrement
)paren
id|brelse
(paren
id|bhp
(braket
id|j
)braket
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)brace
r_return
id|i
suffix:semicolon
)brace
DECL|function|adfs_dir_read
r_int
id|adfs_dir_read
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|buffer_head
op_star
op_star
id|bhp
)paren
(brace
r_struct
id|super_block
op_star
id|sb
suffix:semicolon
r_int
id|i
comma
id|size
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|inode
op_logical_or
op_logical_neg
id|S_ISDIR
c_func
(paren
id|inode-&gt;i_mode
)paren
)paren
r_return
l_int|0
suffix:semicolon
id|sb
op_assign
id|inode-&gt;i_sb
suffix:semicolon
id|size
op_assign
id|inode-&gt;i_size
op_rshift
id|sb-&gt;s_blocksize_bits
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|size
suffix:semicolon
id|i
op_increment
)paren
(brace
r_int
id|block
suffix:semicolon
id|block
op_assign
id|adfs_bmap
(paren
id|inode
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
id|block
)paren
id|bhp
(braket
id|i
)braket
op_assign
id|bread
(paren
id|sb-&gt;s_dev
comma
id|block
comma
id|sb-&gt;s_blocksize
)paren
suffix:semicolon
r_else
id|adfs_error
(paren
id|sb
comma
l_string|&quot;adfs_dir_read&quot;
comma
l_string|&quot;directory %lX,%lX with a hole at offset %d&quot;
comma
id|inode-&gt;i_ino
comma
id|inode-&gt;u.adfs_i.file_id
comma
id|i
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|block
op_logical_or
op_logical_neg
id|bhp
(braket
id|i
)braket
)paren
(brace
r_int
id|j
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
id|i
op_minus
l_int|1
suffix:semicolon
id|j
op_ge
l_int|0
suffix:semicolon
id|j
op_decrement
)paren
id|brelse
(paren
id|bhp
(braket
id|j
)braket
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)brace
r_return
id|i
suffix:semicolon
)brace
DECL|function|adfs_dir_check
r_int
id|adfs_dir_check
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|buffer_head
op_star
op_star
id|bhp
comma
r_int
id|buffers
comma
r_union
id|adfs_dirtail
op_star
id|dtp
)paren
(brace
r_struct
id|adfs_dirheader
id|dh
suffix:semicolon
r_union
id|adfs_dirtail
id|dt
suffix:semicolon
id|memcpy
(paren
op_amp
id|dh
comma
id|bhp
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
comma
r_sizeof
(paren
id|dh
)paren
)paren
suffix:semicolon
id|memcpy
(paren
op_amp
id|dt
comma
id|bhp
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
op_plus
l_int|471
comma
r_sizeof
(paren
id|dt
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|memcmp
(paren
op_amp
id|dh.startmasseq
comma
op_amp
id|dt
dot
r_new
dot
id|endmasseq
comma
l_int|5
)paren
op_logical_or
(paren
id|memcmp
(paren
op_amp
id|dh.startname
comma
l_string|&quot;Nick&quot;
comma
l_int|4
)paren
op_logical_and
id|memcmp
(paren
op_amp
id|dh.startname
comma
l_string|&quot;Hugo&quot;
comma
l_int|4
)paren
)paren
)paren
(brace
id|adfs_error
(paren
id|inode-&gt;i_sb
comma
l_string|&quot;adfs_check_dir&quot;
comma
l_string|&quot;corrupted directory inode %lX,%lX&quot;
comma
id|inode-&gt;i_ino
comma
id|inode-&gt;u.adfs_i.file_id
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
r_if
c_cond
(paren
id|dtp
)paren
op_star
id|dtp
op_assign
id|dt
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|adfs_dir_free
r_void
id|adfs_dir_free
(paren
r_struct
id|buffer_head
op_star
op_star
id|bhp
comma
r_int
id|buffers
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|buffers
op_minus
l_int|1
suffix:semicolon
id|i
op_ge
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
id|brelse
(paren
id|bhp
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
multiline_comment|/* convert a disk-based directory entry to a Linux ADFS directory entry */
r_static
r_inline
r_void
DECL|function|adfs_dirent_to_idirent
id|adfs_dirent_to_idirent
c_func
(paren
r_struct
id|adfs_idir_entry
op_star
id|ide
comma
r_struct
id|adfs_direntry
op_star
id|de
)paren
(brace
id|ide-&gt;name_len
op_assign
id|adfs_readname
c_func
(paren
id|ide-&gt;name
comma
id|de-&gt;dirobname
comma
id|ADFS_NAME_LEN
)paren
suffix:semicolon
id|ide-&gt;file_id
op_assign
id|adfs_val
c_func
(paren
id|de-&gt;dirinddiscadd
comma
l_int|3
)paren
suffix:semicolon
id|ide-&gt;size
op_assign
id|adfs_val
c_func
(paren
id|de-&gt;dirlen
comma
l_int|4
)paren
suffix:semicolon
id|ide-&gt;mode
op_assign
id|de-&gt;newdiratts
suffix:semicolon
id|ide-&gt;mtime
op_assign
id|adfs_time
c_func
(paren
id|adfs_val
c_func
(paren
id|de-&gt;dirload
comma
l_int|4
)paren
comma
id|adfs_val
c_func
(paren
id|de-&gt;direxec
comma
l_int|4
)paren
)paren
suffix:semicolon
id|ide-&gt;filetype
op_assign
id|adfs_filetype
c_func
(paren
id|adfs_val
c_func
(paren
id|de-&gt;dirload
comma
l_int|4
)paren
)paren
suffix:semicolon
)brace
DECL|function|adfs_dir_get
r_int
id|adfs_dir_get
(paren
r_struct
id|super_block
op_star
id|sb
comma
r_struct
id|buffer_head
op_star
op_star
id|bhp
comma
r_int
id|buffers
comma
r_int
id|pos
comma
r_int
r_int
id|parent_object_id
comma
r_struct
id|adfs_idir_entry
op_star
id|ide
)paren
(brace
r_struct
id|adfs_direntry
id|de
suffix:semicolon
r_int
id|thissize
comma
id|buffer
comma
id|offset
suffix:semicolon
id|offset
op_assign
id|pos
op_amp
(paren
id|sb-&gt;s_blocksize
op_minus
l_int|1
)paren
suffix:semicolon
id|buffer
op_assign
id|pos
op_rshift
id|sb-&gt;s_blocksize_bits
suffix:semicolon
r_if
c_cond
(paren
id|buffer
OG
id|buffers
)paren
r_return
l_int|0
suffix:semicolon
id|thissize
op_assign
id|sb-&gt;s_blocksize
op_minus
id|offset
suffix:semicolon
r_if
c_cond
(paren
id|thissize
OG
l_int|26
)paren
id|thissize
op_assign
l_int|26
suffix:semicolon
id|memcpy
(paren
op_amp
id|de
comma
id|bhp
(braket
id|buffer
)braket
op_member_access_from_pointer
id|b_data
op_plus
id|offset
comma
id|thissize
)paren
suffix:semicolon
r_if
c_cond
(paren
id|thissize
op_ne
l_int|26
)paren
id|memcpy
(paren
(paren
(paren
r_char
op_star
)paren
op_amp
id|de
)paren
op_plus
id|thissize
comma
id|bhp
(braket
id|buffer
op_plus
l_int|1
)braket
op_member_access_from_pointer
id|b_data
comma
l_int|26
op_minus
id|thissize
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|de.dirobname
(braket
l_int|0
)braket
)paren
r_return
l_int|0
suffix:semicolon
id|ide-&gt;inode_no
op_assign
id|adfs_inode_generate
(paren
id|parent_object_id
comma
id|pos
)paren
suffix:semicolon
id|adfs_dirent_to_idirent
c_func
(paren
id|ide
comma
op_amp
id|de
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
DECL|function|adfs_dir_find_entry
r_int
id|adfs_dir_find_entry
(paren
r_struct
id|super_block
op_star
id|sb
comma
r_struct
id|buffer_head
op_star
op_star
id|bhp
comma
r_int
id|buffers
comma
r_int
r_int
id|pos
comma
r_struct
id|adfs_idir_entry
op_star
id|ide
)paren
(brace
r_struct
id|adfs_direntry
id|de
suffix:semicolon
r_int
id|offset
comma
id|buffer
comma
id|thissize
suffix:semicolon
id|offset
op_assign
id|pos
op_amp
(paren
id|sb-&gt;s_blocksize
op_minus
l_int|1
)paren
suffix:semicolon
id|buffer
op_assign
id|pos
op_rshift
id|sb-&gt;s_blocksize_bits
suffix:semicolon
r_if
c_cond
(paren
id|buffer
OG
id|buffers
)paren
r_return
l_int|0
suffix:semicolon
id|thissize
op_assign
id|sb-&gt;s_blocksize
op_minus
id|offset
suffix:semicolon
r_if
c_cond
(paren
id|thissize
OG
l_int|26
)paren
id|thissize
op_assign
l_int|26
suffix:semicolon
id|memcpy
(paren
op_amp
id|de
comma
id|bhp
(braket
id|buffer
)braket
op_member_access_from_pointer
id|b_data
op_plus
id|offset
comma
id|thissize
)paren
suffix:semicolon
r_if
c_cond
(paren
id|thissize
op_ne
l_int|26
)paren
id|memcpy
(paren
(paren
(paren
r_char
op_star
)paren
op_amp
id|de
)paren
op_plus
id|thissize
comma
id|bhp
(braket
id|buffer
op_plus
l_int|1
)braket
op_member_access_from_pointer
id|b_data
comma
l_int|26
op_minus
id|thissize
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|de.dirobname
(braket
l_int|0
)braket
)paren
r_return
l_int|0
suffix:semicolon
id|adfs_dirent_to_idirent
c_func
(paren
id|ide
comma
op_amp
id|de
)paren
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
DECL|function|adfs_readdir
r_static
r_int
id|adfs_readdir
(paren
r_struct
id|file
op_star
id|filp
comma
r_void
op_star
id|dirent
comma
id|filldir_t
id|filldir
)paren
(brace
r_struct
id|inode
op_star
id|inode
op_assign
id|filp-&gt;f_dentry-&gt;d_inode
suffix:semicolon
r_struct
id|super_block
op_star
id|sb
suffix:semicolon
r_struct
id|buffer_head
op_star
id|bh
(braket
l_int|4
)braket
suffix:semicolon
r_union
id|adfs_dirtail
id|dt
suffix:semicolon
r_int
r_int
id|parent_object_id
comma
id|dir_object_id
suffix:semicolon
r_int
id|buffers
comma
id|pos
suffix:semicolon
id|sb
op_assign
id|inode-&gt;i_sb
suffix:semicolon
r_if
c_cond
(paren
id|filp-&gt;f_pos
OG
id|ADFS_NUM_DIR_ENTRIES
op_plus
l_int|2
)paren
r_return
op_minus
id|ENOENT
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|buffers
op_assign
id|adfs_dir_read
(paren
id|inode
comma
id|bh
)paren
)paren
)paren
(brace
id|adfs_error
(paren
id|sb
comma
l_string|&quot;adfs_readdir&quot;
comma
l_string|&quot;unable to read directory&quot;
)paren
suffix:semicolon
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|adfs_dir_check
(paren
id|inode
comma
id|bh
comma
id|buffers
comma
op_amp
id|dt
)paren
)paren
(brace
id|adfs_dir_free
(paren
id|bh
comma
id|buffers
)paren
suffix:semicolon
r_return
op_minus
id|ENOENT
suffix:semicolon
)brace
id|parent_object_id
op_assign
id|adfs_val
(paren
id|dt
dot
r_new
dot
id|dirparent
comma
l_int|3
)paren
suffix:semicolon
id|dir_object_id
op_assign
id|adfs_inode_objid
(paren
id|inode
)paren
suffix:semicolon
r_if
c_cond
(paren
id|filp-&gt;f_pos
OL
l_int|2
)paren
(brace
r_if
c_cond
(paren
id|filp-&gt;f_pos
OL
l_int|1
)paren
(brace
r_if
c_cond
(paren
id|filldir
(paren
id|dirent
comma
l_string|&quot;.&quot;
comma
l_int|1
comma
l_int|0
comma
id|inode-&gt;i_ino
)paren
OL
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
id|filp-&gt;f_pos
op_increment
suffix:semicolon
)brace
r_if
c_cond
(paren
id|filldir
(paren
id|dirent
comma
l_string|&quot;..&quot;
comma
l_int|2
comma
l_int|1
comma
id|adfs_inode_generate
(paren
id|parent_object_id
comma
l_int|0
)paren
)paren
OL
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
id|filp-&gt;f_pos
op_increment
suffix:semicolon
)brace
id|pos
op_assign
l_int|5
op_plus
(paren
id|filp-&gt;f_pos
op_minus
l_int|2
)paren
op_star
l_int|26
suffix:semicolon
r_while
c_loop
(paren
id|filp-&gt;f_pos
OL
l_int|79
)paren
(brace
r_struct
id|adfs_idir_entry
id|ide
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|adfs_dir_get
(paren
id|sb
comma
id|bh
comma
id|buffers
comma
id|pos
comma
id|dir_object_id
comma
op_amp
id|ide
)paren
)paren
r_break
suffix:semicolon
r_if
c_cond
(paren
id|filldir
(paren
id|dirent
comma
id|ide.name
comma
id|ide.name_len
comma
id|filp-&gt;f_pos
comma
id|ide.inode_no
)paren
OL
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
id|filp-&gt;f_pos
op_increment
suffix:semicolon
id|pos
op_add_assign
l_int|26
suffix:semicolon
)brace
id|adfs_dir_free
(paren
id|bh
comma
id|buffers
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
eof
