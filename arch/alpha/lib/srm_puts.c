multiline_comment|/*&n; *&t;arch/alpha/lib/srm_puts.c&n; */
macro_line|#include &lt;linux/string.h&gt;
macro_line|#include &lt;asm/console.h&gt;
r_int
DECL|function|srm_puts
id|srm_puts
c_func
(paren
r_const
r_char
op_star
id|str
comma
r_int
id|len
)paren
(brace
r_int
id|remaining
comma
id|written
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|callback_init_done
)paren
r_return
id|len
suffix:semicolon
r_for
c_loop
(paren
id|remaining
op_assign
id|len
suffix:semicolon
id|remaining
OG
l_int|0
suffix:semicolon
id|remaining
op_sub_assign
id|written
)paren
(brace
id|written
op_assign
id|callback_puts
c_func
(paren
l_int|0
comma
id|str
comma
id|remaining
)paren
suffix:semicolon
id|written
op_and_assign
l_int|0xffffffff
suffix:semicolon
id|str
op_add_assign
id|written
suffix:semicolon
)brace
r_return
id|len
suffix:semicolon
)brace
eof
