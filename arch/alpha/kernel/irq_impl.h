multiline_comment|/*&n; *&t;linux/arch/alpha/kernel/irq.h&n; *&n; *&t;Copyright (C) 1995 Linus Torvalds&n; *&t;Copyright (C) 1998 Richard Henderson&n; *&n; * This file contains declarations and inline functions for interfacing&n; * with the IRQ handling routines in irq.c.&n; */
macro_line|#include &lt;linux/config.h&gt;
DECL|macro|STANDARD_INIT_IRQ_PROLOG
mdefine_line|#define STANDARD_INIT_IRQ_PROLOG&t;&bslash;&n;&t;outb(0, DMA1_RESET_REG);&t;&bslash;&n;&t;outb(0, DMA2_RESET_REG);&t;&bslash;&n;&t;outb(0, DMA1_CLR_MASK_REG);&t;&bslash;&n;&t;outb(0, DMA2_CLR_MASK_REG)
r_extern
r_int
r_int
id|alpha_irq_mask
suffix:semicolon
r_extern
r_void
id|common_ack_irq
c_func
(paren
r_int
r_int
id|irq
)paren
suffix:semicolon
r_extern
r_void
id|isa_device_interrupt
c_func
(paren
r_int
r_int
id|vector
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
r_extern
r_void
id|srm_device_interrupt
c_func
(paren
r_int
r_int
id|vector
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
r_extern
r_void
id|handle_irq
c_func
(paren
r_int
id|irq
comma
r_int
id|ack
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
DECL|macro|RTC_IRQ
mdefine_line|#define RTC_IRQ    8
macro_line|#ifdef CONFIG_RTC
DECL|macro|TIMER_IRQ
mdefine_line|#define TIMER_IRQ  0&t;&t;&t; /* timer is the pit */
macro_line|#else
DECL|macro|TIMER_IRQ
mdefine_line|#define TIMER_IRQ  RTC_IRQ&t;&t; /* timer is the rtc */
macro_line|#endif
r_extern
r_char
id|_stext
suffix:semicolon
DECL|function|alpha_do_profile
r_static
r_inline
r_void
id|alpha_do_profile
(paren
r_int
r_int
id|pc
)paren
(brace
r_if
c_cond
(paren
id|prof_buffer
op_logical_and
id|current-&gt;pid
)paren
(brace
id|pc
op_sub_assign
(paren
r_int
r_int
)paren
op_amp
id|_stext
suffix:semicolon
id|pc
op_rshift_assign
id|prof_shift
suffix:semicolon
multiline_comment|/*&n;&t;&t; * Don&squot;t ignore out-of-bounds PC values silently,&n;&t;&t; * put them into the last histogram slot, so if&n;&t;&t; * present, they will show up as a sharp peak.&n;&t;&t; */
r_if
c_cond
(paren
id|pc
OG
id|prof_len
op_minus
l_int|1
)paren
id|pc
op_assign
id|prof_len
op_minus
l_int|1
suffix:semicolon
id|atomic_inc
c_func
(paren
(paren
id|atomic_t
op_star
)paren
op_amp
id|prof_buffer
(braket
id|pc
)braket
)paren
suffix:semicolon
)brace
)brace
eof
