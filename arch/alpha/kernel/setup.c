multiline_comment|/*&n; *  linux/arch/alpha/kernel/setup.c&n; *&n; *  Copyright (C) 1995  Linus Torvalds&n; */
multiline_comment|/*&n; * Bootup setup stuff.&n; */
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;linux/stddef.h&gt;
macro_line|#include &lt;linux/unistd.h&gt;
macro_line|#include &lt;linux/ptrace.h&gt;
macro_line|#include &lt;linux/malloc.h&gt;
macro_line|#include &lt;linux/user.h&gt;
macro_line|#include &lt;linux/a.out.h&gt;
macro_line|#include &lt;linux/tty.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;linux/config.h&gt;&t;/* CONFIG_ALPHA_LCA etc */
macro_line|#include &lt;linux/mc146818rtc.h&gt;
macro_line|#include &lt;linux/console.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/string.h&gt;
macro_line|#ifdef CONFIG_RTC
macro_line|#include &lt;linux/timex.h&gt;
macro_line|#endif
macro_line|#ifdef CONFIG_BLK_DEV_INITRD
macro_line|#include &lt;linux/blk.h&gt;
macro_line|#endif
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &lt;asm/pgtable.h&gt;
macro_line|#include &lt;asm/system.h&gt;
macro_line|#include &lt;asm/hwrpb.h&gt;
macro_line|#include &lt;asm/dma.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &quot;proto.h&quot;
DECL|variable|hwrpb
r_struct
id|hwrpb_struct
op_star
id|hwrpb
suffix:semicolon
DECL|variable|srm_hae
r_int
r_int
id|srm_hae
suffix:semicolon
macro_line|#ifdef CONFIG_ALPHA_GENERIC
DECL|variable|alpha_mv
r_struct
id|alpha_machine_vector
id|alpha_mv
suffix:semicolon
DECL|variable|alpha_using_srm
DECL|variable|alpha_use_srm_setup
r_int
id|alpha_using_srm
comma
id|alpha_use_srm_setup
suffix:semicolon
macro_line|#endif
DECL|variable|aux_device_present
r_int
r_char
id|aux_device_present
op_assign
l_int|0xaa
suffix:semicolon
DECL|macro|N
mdefine_line|#define N(a) (sizeof(a)/sizeof(a[0]))
r_static
r_int
r_int
id|find_end_memory
c_func
(paren
r_void
)paren
suffix:semicolon
r_static
r_struct
id|alpha_machine_vector
op_star
id|get_sysvec
c_func
(paren
r_int
comma
r_int
comma
r_int
)paren
suffix:semicolon
r_static
r_struct
id|alpha_machine_vector
op_star
id|get_sysvec_byname
c_func
(paren
r_const
r_char
op_star
)paren
suffix:semicolon
r_static
r_void
id|get_sysnames
c_func
(paren
r_int
comma
r_int
comma
r_char
op_star
op_star
comma
r_char
op_star
op_star
)paren
suffix:semicolon
multiline_comment|/*&n; * This is setup by the secondary bootstrap loader.  Because&n; * the zero page is zeroed out as soon as the vm system is&n; * initialized, we need to copy things out into a more permanent&n; * place.&n; */
DECL|macro|PARAM
mdefine_line|#define PARAM&t;&t;&t;ZERO_PAGE
DECL|macro|COMMAND_LINE
mdefine_line|#define COMMAND_LINE&t;&t;((char*)(PARAM + 0x0000))
DECL|macro|COMMAND_LINE_SIZE
mdefine_line|#define COMMAND_LINE_SIZE&t;256
DECL|macro|INITRD_START
mdefine_line|#define INITRD_START&t;&t;(*(unsigned long *) (PARAM+0x100))
DECL|macro|INITRD_SIZE
mdefine_line|#define INITRD_SIZE&t;&t;(*(unsigned long *) (PARAM+0x108))
DECL|variable|command_line
r_static
r_char
id|command_line
(braket
id|COMMAND_LINE_SIZE
)braket
suffix:semicolon
DECL|variable|saved_command_line
r_char
id|saved_command_line
(braket
id|COMMAND_LINE_SIZE
)braket
suffix:semicolon
multiline_comment|/*&n; * The format of &quot;screen_info&quot; is strange, and due to early&n; * i386-setup code. This is just enough to make the console&n; * code think we&squot;re on a VGA color display.&n; */
DECL|variable|screen_info
r_struct
id|screen_info
id|screen_info
op_assign
(brace
id|orig_x
suffix:colon
l_int|0
comma
id|orig_y
suffix:colon
l_int|25
comma
id|orig_video_cols
suffix:colon
l_int|80
comma
id|orig_video_lines
suffix:colon
l_int|25
comma
id|orig_video_isVGA
suffix:colon
l_int|1
comma
id|orig_video_points
suffix:colon
l_int|16
)brace
suffix:semicolon
multiline_comment|/*&n; * Declare all of the machine vectors.&n; */
multiline_comment|/* GCC 2.7.2 (on alpha at least) is lame.  It does not support either &n;   __attribute__((weak)) or #pragma weak.  Bypass it and talk directly&n;   to the assembler.  */
DECL|macro|WEAK
mdefine_line|#define WEAK(X) &bslash;&n;&t;extern struct alpha_machine_vector X; &bslash;&n;&t;asm(&quot;.weak &quot;#X)
DECL|variable|alcor_mv
id|WEAK
c_func
(paren
id|alcor_mv
)paren
suffix:semicolon
DECL|variable|alphabook1_mv
id|WEAK
c_func
(paren
id|alphabook1_mv
)paren
suffix:semicolon
DECL|variable|avanti_mv
id|WEAK
c_func
(paren
id|avanti_mv
)paren
suffix:semicolon
DECL|variable|cabriolet_mv
id|WEAK
c_func
(paren
id|cabriolet_mv
)paren
suffix:semicolon
DECL|variable|clipper_mv
id|WEAK
c_func
(paren
id|clipper_mv
)paren
suffix:semicolon
DECL|variable|dp264_mv
id|WEAK
c_func
(paren
id|dp264_mv
)paren
suffix:semicolon
DECL|variable|eb164_mv
id|WEAK
c_func
(paren
id|eb164_mv
)paren
suffix:semicolon
DECL|variable|eb64p_mv
id|WEAK
c_func
(paren
id|eb64p_mv
)paren
suffix:semicolon
DECL|variable|eb66_mv
id|WEAK
c_func
(paren
id|eb66_mv
)paren
suffix:semicolon
DECL|variable|eb66p_mv
id|WEAK
c_func
(paren
id|eb66p_mv
)paren
suffix:semicolon
DECL|variable|jensen_mv
id|WEAK
c_func
(paren
id|jensen_mv
)paren
suffix:semicolon
DECL|variable|lx164_mv
id|WEAK
c_func
(paren
id|lx164_mv
)paren
suffix:semicolon
DECL|variable|miata_mv
id|WEAK
c_func
(paren
id|miata_mv
)paren
suffix:semicolon
DECL|variable|mikasa_mv
id|WEAK
c_func
(paren
id|mikasa_mv
)paren
suffix:semicolon
DECL|variable|mikasa_primo_mv
id|WEAK
c_func
(paren
id|mikasa_primo_mv
)paren
suffix:semicolon
DECL|variable|monet_mv
id|WEAK
c_func
(paren
id|monet_mv
)paren
suffix:semicolon
DECL|variable|noname_mv
id|WEAK
c_func
(paren
id|noname_mv
)paren
suffix:semicolon
DECL|variable|noritake_mv
id|WEAK
c_func
(paren
id|noritake_mv
)paren
suffix:semicolon
DECL|variable|noritake_primo_mv
id|WEAK
c_func
(paren
id|noritake_primo_mv
)paren
suffix:semicolon
DECL|variable|p2k_mv
id|WEAK
c_func
(paren
id|p2k_mv
)paren
suffix:semicolon
DECL|variable|pc164_mv
id|WEAK
c_func
(paren
id|pc164_mv
)paren
suffix:semicolon
DECL|variable|rawhide_mv
id|WEAK
c_func
(paren
id|rawhide_mv
)paren
suffix:semicolon
DECL|variable|ruffian_mv
id|WEAK
c_func
(paren
id|ruffian_mv
)paren
suffix:semicolon
DECL|variable|rx164_mv
id|WEAK
c_func
(paren
id|rx164_mv
)paren
suffix:semicolon
DECL|variable|sable_mv
id|WEAK
c_func
(paren
id|sable_mv
)paren
suffix:semicolon
DECL|variable|sable_gamma_mv
id|WEAK
c_func
(paren
id|sable_gamma_mv
)paren
suffix:semicolon
DECL|variable|sx164_mv
id|WEAK
c_func
(paren
id|sx164_mv
)paren
suffix:semicolon
DECL|variable|takara_mv
id|WEAK
c_func
(paren
id|takara_mv
)paren
suffix:semicolon
DECL|variable|webbrick_mv
id|WEAK
c_func
(paren
id|webbrick_mv
)paren
suffix:semicolon
DECL|variable|xl_mv
id|WEAK
c_func
(paren
id|xl_mv
)paren
suffix:semicolon
DECL|variable|xlt_mv
id|WEAK
c_func
(paren
id|xlt_mv
)paren
suffix:semicolon
DECL|macro|WEAK
macro_line|#undef WEAK
r_void
id|__init
DECL|function|setup_arch
id|setup_arch
c_func
(paren
r_char
op_star
op_star
id|cmdline_p
comma
r_int
r_int
op_star
id|memory_start_p
comma
r_int
r_int
op_star
id|memory_end_p
)paren
(brace
r_extern
r_char
id|_end
(braket
)braket
suffix:semicolon
r_struct
id|alpha_machine_vector
op_star
id|vec
op_assign
l_int|NULL
suffix:semicolon
r_struct
id|percpu_struct
op_star
id|cpu
suffix:semicolon
r_char
op_star
id|type_name
comma
op_star
id|var_name
comma
op_star
id|p
suffix:semicolon
id|hwrpb
op_assign
(paren
r_struct
id|hwrpb_struct
op_star
)paren
(paren
id|IDENT_ADDR
op_plus
id|INIT_HWRPB-&gt;phys_addr
)paren
suffix:semicolon
multiline_comment|/* &n;&t; * Locate the command line.&n;&t; */
multiline_comment|/* Hack for Jensen... since we&squot;re restricted to 8 or 16 chars for&n;&t;   boot flags depending on the boot mode, we need some shorthand.&n;&t;   This should do for installation.  Later we&squot;ll add other&n;&t;   abbreviations as well... */
r_if
c_cond
(paren
id|strcmp
c_func
(paren
id|COMMAND_LINE
comma
l_string|&quot;INSTALL&quot;
)paren
op_eq
l_int|0
)paren
(brace
id|strcpy
c_func
(paren
id|command_line
comma
l_string|&quot;root=/dev/fd0 load_ramdisk=1&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
id|strncpy
c_func
(paren
id|command_line
comma
id|COMMAND_LINE
comma
r_sizeof
id|command_line
)paren
suffix:semicolon
id|command_line
(braket
r_sizeof
(paren
id|command_line
)paren
op_minus
l_int|1
)braket
op_assign
l_int|0
suffix:semicolon
)brace
id|strcpy
c_func
(paren
id|saved_command_line
comma
id|command_line
)paren
suffix:semicolon
op_star
id|cmdline_p
op_assign
id|command_line
suffix:semicolon
multiline_comment|/* &n;&t; * Process command-line arguments.&n;&t; */
r_for
c_loop
(paren
id|p
op_assign
id|strtok
c_func
(paren
id|command_line
comma
l_string|&quot; &bslash;t&quot;
)paren
suffix:semicolon
id|p
suffix:semicolon
id|p
op_assign
id|strtok
c_func
(paren
l_int|NULL
comma
l_string|&quot; &bslash;t&quot;
)paren
)paren
(brace
macro_line|#ifndef alpha_use_srm_setup
multiline_comment|/* Allow a command-line option to respect the&n;&t;&t;   SRM&squot;s configuration.  */
r_if
c_cond
(paren
id|strncmp
c_func
(paren
id|p
comma
l_string|&quot;srm_setup=&quot;
comma
l_int|10
)paren
op_eq
l_int|0
)paren
(brace
id|alpha_use_srm_setup
op_assign
(paren
id|p
(braket
l_int|10
)braket
op_ne
l_char|&squot;0&squot;
)paren
suffix:semicolon
r_continue
suffix:semicolon
)brace
macro_line|#endif
r_if
c_cond
(paren
id|strncmp
c_func
(paren
id|p
comma
l_string|&quot;alpha_mv=&quot;
comma
l_int|9
)paren
op_eq
l_int|0
)paren
(brace
id|vec
op_assign
id|get_sysvec_byname
c_func
(paren
id|p
op_plus
l_int|9
)paren
suffix:semicolon
r_continue
suffix:semicolon
)brace
r_if
c_cond
(paren
id|strncmp
c_func
(paren
id|p
comma
l_string|&quot;cycle=&quot;
comma
l_int|6
)paren
op_eq
l_int|0
)paren
(brace
id|est_cycle_freq
op_assign
id|simple_strtol
c_func
(paren
id|p
op_plus
l_int|6
comma
l_int|NULL
comma
l_int|0
)paren
suffix:semicolon
r_continue
suffix:semicolon
)brace
)brace
multiline_comment|/* Replace the command line, not that we&squot;ve killed it with strtok.  */
id|strcpy
c_func
(paren
id|command_line
comma
id|saved_command_line
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * Indentify and reconfigure for the current system.&n;&t; */
id|get_sysnames
c_func
(paren
id|hwrpb-&gt;sys_type
comma
id|hwrpb-&gt;sys_variation
comma
op_amp
id|type_name
comma
op_amp
id|var_name
)paren
suffix:semicolon
r_if
c_cond
(paren
op_star
id|var_name
op_eq
l_char|&squot;0&squot;
)paren
id|var_name
op_assign
l_string|&quot;&quot;
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|vec
)paren
(brace
id|cpu
op_assign
(paren
r_struct
id|percpu_struct
op_star
)paren
(paren
(paren
r_char
op_star
)paren
id|hwrpb
op_plus
id|hwrpb-&gt;processor_offset
)paren
suffix:semicolon
id|vec
op_assign
id|get_sysvec
c_func
(paren
id|hwrpb-&gt;sys_type
comma
id|hwrpb-&gt;sys_variation
comma
id|cpu-&gt;type
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|vec
)paren
(brace
id|panic
c_func
(paren
l_string|&quot;Unsupported system type: %s%s%s (%ld %ld)&bslash;n&quot;
comma
id|type_name
comma
(paren
op_star
id|var_name
ques
c_cond
l_string|&quot; variation &quot;
suffix:colon
l_string|&quot;&quot;
)paren
comma
id|var_name
comma
id|hwrpb-&gt;sys_type
comma
id|hwrpb-&gt;sys_variation
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|vec
op_ne
op_amp
id|alpha_mv
)paren
id|alpha_mv
op_assign
op_star
id|vec
suffix:semicolon
macro_line|#ifdef CONFIG_ALPHA_GENERIC
multiline_comment|/* Assume that we&squot;ve booted from SRM if we havn&squot;t booted from MILO.&n;&t;   Detect the later by looking for &quot;MILO&quot; in the system serial nr.  */
id|alpha_using_srm
op_assign
id|strncmp
c_func
(paren
(paren
r_const
r_char
op_star
)paren
id|hwrpb-&gt;ssn
comma
l_string|&quot;MILO&quot;
comma
l_int|4
)paren
op_ne
l_int|0
suffix:semicolon
macro_line|#endif
id|printk
c_func
(paren
l_string|&quot;Booting on %s%s%s using machine vector %s&bslash;n&quot;
comma
id|type_name
comma
(paren
op_star
id|var_name
ques
c_cond
l_string|&quot; variation &quot;
suffix:colon
l_string|&quot;&quot;
)paren
comma
id|var_name
comma
id|alpha_mv.vector_name
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;Command line: %s&bslash;n&quot;
comma
id|command_line
)paren
suffix:semicolon
multiline_comment|/* &n;&t; * Sync with the HAE&n;&t; */
multiline_comment|/* Save the SRM&squot;s current value for restoration.  */
id|srm_hae
op_assign
op_star
id|alpha_mv.hae_register
suffix:semicolon
id|__set_hae
c_func
(paren
id|alpha_mv.hae_cache
)paren
suffix:semicolon
multiline_comment|/* Reset enable correctable error reports.  */
id|wrmces
c_func
(paren
l_int|0x7
)paren
suffix:semicolon
multiline_comment|/* Find our memory.  */
op_star
id|memory_end_p
op_assign
id|find_end_memory
c_func
(paren
)paren
suffix:semicolon
op_star
id|memory_start_p
op_assign
(paren
r_int
r_int
)paren
id|_end
suffix:semicolon
macro_line|#ifdef CONFIG_BLK_DEV_INITRD
id|initrd_start
op_assign
id|INITRD_START
suffix:semicolon
r_if
c_cond
(paren
id|initrd_start
)paren
(brace
id|initrd_end
op_assign
id|initrd_start
op_plus
id|INITRD_SIZE
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;Initial ramdisk at: 0x%p (%lu bytes)&bslash;n&quot;
comma
(paren
r_void
op_star
)paren
id|initrd_start
comma
id|INITRD_SIZE
)paren
suffix:semicolon
r_if
c_cond
(paren
id|initrd_end
OG
op_star
id|memory_end_p
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;initrd extends beyond end of memory &quot;
l_string|&quot;(0x%08lx &gt; 0x%08lx)&bslash;ndisabling initrd&bslash;n&quot;
comma
id|initrd_end
comma
(paren
r_int
r_int
)paren
id|memory_end_p
)paren
suffix:semicolon
id|initrd_start
op_assign
id|initrd_end
op_assign
l_int|0
suffix:semicolon
)brace
)brace
macro_line|#endif
multiline_comment|/* Initialize the machine.  Usually has to do with setting up&n;&t;   DMA windows and the like.  */
r_if
c_cond
(paren
id|alpha_mv.init_arch
)paren
id|alpha_mv
dot
id|init_arch
c_func
(paren
id|memory_start_p
comma
id|memory_end_p
)paren
suffix:semicolon
multiline_comment|/* Initialize the timers.  */
multiline_comment|/* ??? There is some circumstantial evidence that this needs&n;&t;   to be done now rather than later in time_init, which would&n;&t;   be more natural.  Someone please explain or refute.  */
macro_line|#if defined(CONFIG_RTC)
id|rtc_init_pit
c_func
(paren
)paren
suffix:semicolon
macro_line|#else
id|alpha_mv
dot
id|init_pit
c_func
(paren
)paren
suffix:semicolon
macro_line|#endif
multiline_comment|/* &n;&t; * Give us a default console.  TGA users will see nothing until&n;&t; * chr_dev_init is called, rather late in the boot sequence.&n;&t; */
macro_line|#ifdef CONFIG_VT
macro_line|#if defined(CONFIG_VGA_CONSOLE)
id|conswitchp
op_assign
op_amp
id|vga_con
suffix:semicolon
macro_line|#elif defined(CONFIG_DUMMY_CONSOLE)
id|conswitchp
op_assign
op_amp
id|dummy_con
suffix:semicolon
macro_line|#endif
macro_line|#endif
multiline_comment|/* Default root filesystem to sda2.  */
id|ROOT_DEV
op_assign
id|to_kdev_t
c_func
(paren
l_int|0x0802
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * Check ASN in HWRPB for validity, report if bad.&n;&t; * FIXME: how was this failing?  Should we trust it instead,&n;&t; * and copy the value into alpha_mv.max_asn?&n; &t; */
r_if
c_cond
(paren
id|hwrpb-&gt;max_asn
op_ne
id|MAX_ASN
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;Max ASN from HWRPB is bad (0x%lx)&bslash;n&quot;
comma
id|hwrpb-&gt;max_asn
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * Identify the flock of penguins.&n;&t; */
macro_line|#ifdef __SMP__
id|setup_smp
c_func
(paren
)paren
suffix:semicolon
macro_line|#endif
)brace
r_static
r_int
r_int
id|__init
DECL|function|find_end_memory
id|find_end_memory
c_func
(paren
r_void
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_int
id|high
op_assign
l_int|0
suffix:semicolon
r_struct
id|memclust_struct
op_star
id|cluster
suffix:semicolon
r_struct
id|memdesc_struct
op_star
id|memdesc
suffix:semicolon
id|memdesc
op_assign
(paren
r_struct
id|memdesc_struct
op_star
)paren
(paren
id|INIT_HWRPB-&gt;mddt_offset
op_plus
(paren
r_int
r_int
)paren
id|INIT_HWRPB
)paren
suffix:semicolon
id|cluster
op_assign
id|memdesc-&gt;cluster
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|memdesc-&gt;numclusters
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
comma
id|cluster
op_increment
)paren
(brace
r_int
r_int
id|tmp
suffix:semicolon
id|tmp
op_assign
(paren
id|cluster-&gt;start_pfn
op_plus
id|cluster-&gt;numpages
)paren
op_lshift
id|PAGE_SHIFT
suffix:semicolon
r_if
c_cond
(paren
id|tmp
OG
id|high
)paren
id|high
op_assign
id|tmp
suffix:semicolon
)brace
multiline_comment|/* Round it up to an even number of pages. */
id|high
op_assign
(paren
id|high
op_plus
id|PAGE_SIZE
)paren
op_amp
(paren
id|PAGE_MASK
op_star
l_int|2
)paren
suffix:semicolon
multiline_comment|/* Enforce maximum of 2GB even if there is more.  Blah.  */
r_if
c_cond
(paren
id|high
OG
l_int|0x80000000UL
)paren
id|high
op_assign
l_int|0x80000000UL
suffix:semicolon
r_return
id|PAGE_OFFSET
op_plus
id|high
suffix:semicolon
)brace
DECL|variable|sys_unknown
r_static
r_char
id|sys_unknown
(braket
)braket
op_assign
l_string|&quot;Unknown&quot;
suffix:semicolon
DECL|variable|systype_names
r_static
r_char
id|systype_names
(braket
)braket
(braket
l_int|16
)braket
op_assign
(brace
l_string|&quot;0&quot;
comma
l_string|&quot;ADU&quot;
comma
l_string|&quot;Cobra&quot;
comma
l_string|&quot;Ruby&quot;
comma
l_string|&quot;Flamingo&quot;
comma
l_string|&quot;Mannequin&quot;
comma
l_string|&quot;Jensen&quot;
comma
l_string|&quot;Pelican&quot;
comma
l_string|&quot;Morgan&quot;
comma
l_string|&quot;Sable&quot;
comma
l_string|&quot;Medulla&quot;
comma
l_string|&quot;Noname&quot;
comma
l_string|&quot;Turbolaser&quot;
comma
l_string|&quot;Avanti&quot;
comma
l_string|&quot;Mustang&quot;
comma
l_string|&quot;Alcor&quot;
comma
l_string|&quot;Tradewind&quot;
comma
l_string|&quot;Mikasa&quot;
comma
l_string|&quot;EB64&quot;
comma
l_string|&quot;EB66&quot;
comma
l_string|&quot;EB64+&quot;
comma
l_string|&quot;AlphaBook1&quot;
comma
l_string|&quot;Rawhide&quot;
comma
l_string|&quot;K2&quot;
comma
l_string|&quot;Lynx&quot;
comma
l_string|&quot;XL&quot;
comma
l_string|&quot;EB164&quot;
comma
l_string|&quot;Noritake&quot;
comma
l_string|&quot;Cortex&quot;
comma
l_string|&quot;29&quot;
comma
l_string|&quot;Miata&quot;
comma
l_string|&quot;XXM&quot;
comma
l_string|&quot;Takara&quot;
comma
l_string|&quot;Yukon&quot;
comma
l_string|&quot;Tsunami&quot;
comma
l_string|&quot;Wildfire&quot;
comma
l_string|&quot;CUSCO&quot;
)brace
suffix:semicolon
DECL|variable|unofficial_names
r_static
r_char
id|unofficial_names
(braket
)braket
(braket
l_int|8
)braket
op_assign
(brace
l_string|&quot;100&quot;
comma
l_string|&quot;Ruffian&quot;
)brace
suffix:semicolon
DECL|variable|eb164_names
r_static
r_char
id|eb164_names
(braket
)braket
(braket
l_int|8
)braket
op_assign
(brace
l_string|&quot;EB164&quot;
comma
l_string|&quot;PC164&quot;
comma
l_string|&quot;LX164&quot;
comma
l_string|&quot;SX164&quot;
comma
l_string|&quot;RX164&quot;
)brace
suffix:semicolon
DECL|variable|eb164_indices
r_static
r_int
id|eb164_indices
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|4
)brace
suffix:semicolon
DECL|variable|alcor_names
r_static
r_char
id|alcor_names
(braket
)braket
(braket
l_int|16
)braket
op_assign
(brace
l_string|&quot;Alcor&quot;
comma
l_string|&quot;Maverick&quot;
comma
l_string|&quot;Bret&quot;
)brace
suffix:semicolon
DECL|variable|alcor_indices
r_static
r_int
id|alcor_indices
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|1
comma
l_int|1
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
)brace
suffix:semicolon
DECL|variable|eb64p_names
r_static
r_char
id|eb64p_names
(braket
)braket
(braket
l_int|16
)braket
op_assign
(brace
l_string|&quot;EB64+&quot;
comma
l_string|&quot;Cabriolet&quot;
comma
l_string|&quot;AlphaPCI64&quot;
)brace
suffix:semicolon
DECL|variable|eb64p_indices
r_static
r_int
id|eb64p_indices
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|2
)brace
suffix:semicolon
DECL|variable|eb66_names
r_static
r_char
id|eb66_names
(braket
)braket
(braket
l_int|8
)braket
op_assign
(brace
l_string|&quot;EB66&quot;
comma
l_string|&quot;EB66+&quot;
)brace
suffix:semicolon
DECL|variable|eb66_indices
r_static
r_int
id|eb66_indices
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|1
)brace
suffix:semicolon
DECL|variable|rawhide_names
r_static
r_char
id|rawhide_names
(braket
)braket
(braket
l_int|16
)braket
op_assign
(brace
l_string|&quot;Dodge&quot;
comma
l_string|&quot;Wrangler&quot;
comma
l_string|&quot;Durango&quot;
comma
l_string|&quot;Tincup&quot;
comma
l_string|&quot;DaVinci&quot;
)brace
suffix:semicolon
DECL|variable|rawhide_indices
r_static
r_int
id|rawhide_indices
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|1
comma
l_int|2
comma
l_int|2
comma
l_int|3
comma
l_int|3
comma
l_int|4
comma
l_int|4
)brace
suffix:semicolon
DECL|variable|tsunami_names
r_static
r_char
id|tsunami_names
(braket
)braket
(braket
l_int|16
)braket
op_assign
(brace
l_string|&quot;0&quot;
comma
l_string|&quot;DP264&quot;
comma
l_string|&quot;Warhol&quot;
comma
l_string|&quot;Windjammer&quot;
comma
l_string|&quot;Monet&quot;
comma
l_string|&quot;Clipper&quot;
comma
l_string|&quot;Goldrush&quot;
comma
l_string|&quot;Webbrick&quot;
comma
l_string|&quot;Catamaran&quot;
)brace
suffix:semicolon
DECL|variable|tsunami_indices
r_static
r_int
id|tsunami_indices
(braket
)braket
op_assign
(brace
l_int|0
comma
l_int|1
comma
l_int|2
comma
l_int|3
comma
l_int|4
comma
l_int|5
comma
l_int|6
comma
l_int|7
comma
l_int|8
)brace
suffix:semicolon
r_static
r_struct
id|alpha_machine_vector
op_star
id|__init
DECL|function|get_sysvec
id|get_sysvec
c_func
(paren
r_int
id|type
comma
r_int
id|variation
comma
r_int
id|cpu
)paren
(brace
r_static
r_struct
id|alpha_machine_vector
op_star
id|systype_vecs
(braket
)braket
id|__initlocaldata
op_assign
(brace
l_int|NULL
comma
multiline_comment|/* 0 */
l_int|NULL
comma
multiline_comment|/* ADU */
l_int|NULL
comma
multiline_comment|/* Cobra */
l_int|NULL
comma
multiline_comment|/* Ruby */
l_int|NULL
comma
multiline_comment|/* Flamingo */
l_int|NULL
comma
multiline_comment|/* Mannequin */
op_amp
id|jensen_mv
comma
l_int|NULL
comma
multiline_comment|/* Pelican */
l_int|NULL
comma
multiline_comment|/* Morgan */
l_int|NULL
comma
multiline_comment|/* Sable -- see below.  */
l_int|NULL
comma
multiline_comment|/* Medulla */
op_amp
id|noname_mv
comma
l_int|NULL
comma
multiline_comment|/* Turbolaser */
op_amp
id|avanti_mv
comma
l_int|NULL
comma
multiline_comment|/* Mustang */
op_amp
id|alcor_mv
comma
multiline_comment|/* Alcor, Bret, Maverick.  */
l_int|NULL
comma
multiline_comment|/* Tradewind */
l_int|NULL
comma
multiline_comment|/* Mikasa -- see below.  */
l_int|NULL
comma
multiline_comment|/* EB64 */
l_int|NULL
comma
multiline_comment|/* EB66 -- see variation.  */
l_int|NULL
comma
multiline_comment|/* EB64+ -- see variation.  */
op_amp
id|alphabook1_mv
comma
op_amp
id|rawhide_mv
comma
l_int|NULL
comma
multiline_comment|/* K2 */
l_int|NULL
comma
multiline_comment|/* Lynx */
op_amp
id|xl_mv
comma
l_int|NULL
comma
multiline_comment|/* EB164 -- see variation.  */
l_int|NULL
comma
multiline_comment|/* Noritake -- see below.  */
l_int|NULL
comma
multiline_comment|/* Cortex */
l_int|NULL
comma
multiline_comment|/* 29 */
op_amp
id|miata_mv
comma
l_int|NULL
comma
multiline_comment|/* XXM */
op_amp
id|takara_mv
comma
l_int|NULL
comma
multiline_comment|/* Yukon */
l_int|NULL
comma
multiline_comment|/* Tsunami -- see variation.  */
l_int|NULL
comma
multiline_comment|/* Wildfire */
l_int|NULL
comma
multiline_comment|/* CUSCO */
)brace
suffix:semicolon
r_static
r_struct
id|alpha_machine_vector
op_star
id|unofficial_vecs
(braket
)braket
id|__initlocaldata
op_assign
(brace
l_int|NULL
comma
multiline_comment|/* 100 */
op_amp
id|ruffian_mv
comma
)brace
suffix:semicolon
r_static
r_struct
id|alpha_machine_vector
op_star
id|alcor_vecs
(braket
)braket
id|__initlocaldata
op_assign
(brace
op_amp
id|alcor_mv
comma
op_amp
id|xlt_mv
comma
op_amp
id|xlt_mv
)brace
suffix:semicolon
r_static
r_struct
id|alpha_machine_vector
op_star
id|eb164_vecs
(braket
)braket
id|__initlocaldata
op_assign
(brace
op_amp
id|eb164_mv
comma
op_amp
id|pc164_mv
comma
op_amp
id|lx164_mv
comma
op_amp
id|sx164_mv
comma
op_amp
id|rx164_mv
)brace
suffix:semicolon
r_static
r_struct
id|alpha_machine_vector
op_star
id|eb64p_vecs
(braket
)braket
id|__initlocaldata
op_assign
(brace
op_amp
id|eb64p_mv
comma
op_amp
id|cabriolet_mv
comma
l_int|NULL
multiline_comment|/* AlphaPCI64 */
)brace
suffix:semicolon
r_static
r_struct
id|alpha_machine_vector
op_star
id|eb66_vecs
(braket
)braket
id|__initlocaldata
op_assign
(brace
op_amp
id|eb66_mv
comma
op_amp
id|eb66p_mv
)brace
suffix:semicolon
r_static
r_struct
id|alpha_machine_vector
op_star
id|tsunami_vecs
(braket
)braket
id|__initlocaldata
op_assign
(brace
l_int|NULL
comma
op_amp
id|dp264_mv
comma
multiline_comment|/* dp264 */
op_amp
id|dp264_mv
comma
multiline_comment|/* warhol */
op_amp
id|dp264_mv
comma
multiline_comment|/* windjammer */
op_amp
id|monet_mv
comma
multiline_comment|/* monet */
op_amp
id|clipper_mv
comma
multiline_comment|/* clipper */
op_amp
id|dp264_mv
comma
multiline_comment|/* goldrush */
op_amp
id|webbrick_mv
comma
multiline_comment|/* webbrick */
op_amp
id|dp264_mv
comma
multiline_comment|/* catamaran */
)brace
suffix:semicolon
multiline_comment|/* ??? Do we need to distinguish between Rawhides?  */
r_struct
id|alpha_machine_vector
op_star
id|vec
suffix:semicolon
multiline_comment|/* Restore real CABRIO and EB66+ family names, ie EB64+ and EB66 */
r_if
c_cond
(paren
id|type
OL
l_int|0
)paren
id|type
op_assign
op_minus
id|type
suffix:semicolon
multiline_comment|/* Search the system tables first... */
id|vec
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
id|type
OL
id|N
c_func
(paren
id|systype_vecs
)paren
)paren
(brace
id|vec
op_assign
id|systype_vecs
(braket
id|type
)braket
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
id|type
OG
id|ST_UNOFFICIAL_BIAS
)paren
op_logical_and
(paren
id|type
op_minus
id|ST_UNOFFICIAL_BIAS
)paren
OL
id|N
c_func
(paren
id|unofficial_vecs
)paren
)paren
(brace
id|vec
op_assign
id|unofficial_vecs
(braket
id|type
op_minus
id|ST_UNOFFICIAL_BIAS
)braket
suffix:semicolon
)brace
multiline_comment|/* If we&squot;ve not found one, try for a variation.  */
r_if
c_cond
(paren
op_logical_neg
id|vec
)paren
(brace
multiline_comment|/* Member ID is a bit-field. */
r_int
id|member
op_assign
(paren
id|variation
op_rshift
l_int|10
)paren
op_amp
l_int|0x3f
suffix:semicolon
r_switch
c_cond
(paren
id|type
)paren
(brace
r_case
id|ST_DEC_ALCOR
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|alcor_indices
)paren
)paren
id|vec
op_assign
id|alcor_vecs
(braket
id|alcor_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_EB164
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|eb164_indices
)paren
)paren
id|vec
op_assign
id|eb164_vecs
(braket
id|eb164_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_EB64P
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|eb64p_indices
)paren
)paren
id|vec
op_assign
id|eb64p_vecs
(braket
id|eb64p_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_EB66
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|eb66_indices
)paren
)paren
id|vec
op_assign
id|eb66_vecs
(braket
id|eb66_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_TSUNAMI
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|tsunami_indices
)paren
)paren
id|vec
op_assign
id|tsunami_vecs
(braket
id|tsunami_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_1000
suffix:colon
id|cpu
op_and_assign
l_int|0xffffffff
suffix:semicolon
r_if
c_cond
(paren
id|cpu
op_eq
id|EV5_CPU
op_logical_or
id|cpu
op_eq
id|EV56_CPU
)paren
id|vec
op_assign
op_amp
id|mikasa_primo_mv
suffix:semicolon
r_else
id|vec
op_assign
op_amp
id|mikasa_mv
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_NORITAKE
suffix:colon
id|cpu
op_and_assign
l_int|0xffffffff
suffix:semicolon
r_if
c_cond
(paren
id|cpu
op_eq
id|EV5_CPU
op_logical_or
id|cpu
op_eq
id|EV56_CPU
)paren
id|vec
op_assign
op_amp
id|noritake_primo_mv
suffix:semicolon
r_else
id|vec
op_assign
op_amp
id|noritake_mv
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_2100_A500
suffix:colon
id|cpu
op_and_assign
l_int|0xffffffff
suffix:semicolon
r_if
c_cond
(paren
id|cpu
op_eq
id|EV5_CPU
op_logical_or
id|cpu
op_eq
id|EV56_CPU
)paren
id|vec
op_assign
op_amp
id|sable_gamma_mv
suffix:semicolon
r_else
id|vec
op_assign
op_amp
id|sable_mv
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_return
id|vec
suffix:semicolon
)brace
r_static
r_struct
id|alpha_machine_vector
op_star
id|__init
DECL|function|get_sysvec_byname
id|get_sysvec_byname
c_func
(paren
r_const
r_char
op_star
id|name
)paren
(brace
r_static
r_struct
id|alpha_machine_vector
op_star
id|all_vecs
(braket
)braket
id|__initlocaldata
op_assign
(brace
op_amp
id|alcor_mv
comma
op_amp
id|alphabook1_mv
comma
op_amp
id|avanti_mv
comma
op_amp
id|cabriolet_mv
comma
op_amp
id|clipper_mv
comma
op_amp
id|dp264_mv
comma
op_amp
id|eb164_mv
comma
op_amp
id|eb64p_mv
comma
op_amp
id|eb66_mv
comma
op_amp
id|eb66p_mv
comma
op_amp
id|jensen_mv
comma
op_amp
id|lx164_mv
comma
op_amp
id|miata_mv
comma
op_amp
id|mikasa_mv
comma
op_amp
id|mikasa_primo_mv
comma
op_amp
id|monet_mv
comma
op_amp
id|noname_mv
comma
op_amp
id|noritake_mv
comma
op_amp
id|noritake_primo_mv
comma
op_amp
id|p2k_mv
comma
op_amp
id|pc164_mv
comma
op_amp
id|rawhide_mv
comma
op_amp
id|ruffian_mv
comma
op_amp
id|rx164_mv
comma
op_amp
id|sable_mv
comma
op_amp
id|sable_gamma_mv
comma
op_amp
id|sx164_mv
comma
op_amp
id|takara_mv
comma
op_amp
id|webbrick_mv
comma
op_amp
id|xl_mv
comma
op_amp
id|xlt_mv
)brace
suffix:semicolon
r_int
id|i
comma
id|n
op_assign
r_sizeof
(paren
id|all_vecs
)paren
op_div
r_sizeof
(paren
op_star
id|all_vecs
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|n
suffix:semicolon
op_increment
id|i
)paren
(brace
r_struct
id|alpha_machine_vector
op_star
id|mv
op_assign
id|all_vecs
(braket
id|i
)braket
suffix:semicolon
r_if
c_cond
(paren
id|strcasecmp
c_func
(paren
id|mv-&gt;vector_name
comma
id|name
)paren
op_eq
l_int|0
)paren
r_return
id|mv
suffix:semicolon
)brace
r_return
l_int|NULL
suffix:semicolon
)brace
r_static
r_void
DECL|function|get_sysnames
id|get_sysnames
c_func
(paren
r_int
id|type
comma
r_int
id|variation
comma
r_char
op_star
op_star
id|type_name
comma
r_char
op_star
op_star
id|variation_name
)paren
(brace
r_int
id|member
suffix:semicolon
multiline_comment|/* Restore real CABRIO and EB66+ family names, ie EB64+ and EB66 */
r_if
c_cond
(paren
id|type
OL
l_int|0
)paren
id|type
op_assign
op_minus
id|type
suffix:semicolon
multiline_comment|/* If not in the tables, make it UNKNOWN,&n;&t;   else set type name to family */
r_if
c_cond
(paren
id|type
OL
id|N
c_func
(paren
id|systype_names
)paren
)paren
(brace
op_star
id|type_name
op_assign
id|systype_names
(braket
id|type
)braket
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
(paren
id|type
OG
id|ST_UNOFFICIAL_BIAS
)paren
op_logical_and
(paren
id|type
op_minus
id|ST_UNOFFICIAL_BIAS
)paren
OL
id|N
c_func
(paren
id|unofficial_names
)paren
)paren
(brace
op_star
id|type_name
op_assign
id|unofficial_names
(braket
id|type
op_minus
id|ST_UNOFFICIAL_BIAS
)braket
suffix:semicolon
)brace
r_else
(brace
op_star
id|type_name
op_assign
id|sys_unknown
suffix:semicolon
op_star
id|variation_name
op_assign
id|sys_unknown
suffix:semicolon
r_return
suffix:semicolon
)brace
multiline_comment|/* Set variation to &quot;0&quot;; if variation is zero, done */
op_star
id|variation_name
op_assign
id|systype_names
(braket
l_int|0
)braket
suffix:semicolon
r_if
c_cond
(paren
id|variation
op_eq
l_int|0
)paren
(brace
r_return
suffix:semicolon
)brace
id|member
op_assign
(paren
id|variation
op_rshift
l_int|10
)paren
op_amp
l_int|0x3f
suffix:semicolon
multiline_comment|/* member ID is a bit-field */
r_switch
c_cond
(paren
id|type
)paren
(brace
multiline_comment|/* select by family */
r_default
suffix:colon
multiline_comment|/* default to variation &quot;0&quot; for now */
r_break
suffix:semicolon
r_case
id|ST_DEC_EB164
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|eb164_indices
)paren
)paren
op_star
id|variation_name
op_assign
id|eb164_names
(braket
id|eb164_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_ALCOR
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|alcor_indices
)paren
)paren
op_star
id|variation_name
op_assign
id|alcor_names
(braket
id|alcor_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_EB64P
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|eb64p_indices
)paren
)paren
op_star
id|variation_name
op_assign
id|eb64p_names
(braket
id|eb64p_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_EB66
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|eb66_indices
)paren
)paren
op_star
id|variation_name
op_assign
id|eb66_names
(braket
id|eb66_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_RAWHIDE
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|rawhide_indices
)paren
)paren
op_star
id|variation_name
op_assign
id|rawhide_names
(braket
id|rawhide_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ST_DEC_TSUNAMI
suffix:colon
r_if
c_cond
(paren
id|member
OL
id|N
c_func
(paren
id|tsunami_indices
)paren
)paren
op_star
id|variation_name
op_assign
id|tsunami_names
(braket
id|tsunami_indices
(braket
id|member
)braket
)braket
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * A change was made to the HWRPB via an ECO and the following code&n; * tracks a part of the ECO.  In HWRPB versions less than 5, the ECO&n; * was not implemented in the console firmware.  If it&squot;s revision 5 or&n; * greater we can get the name of the platform as an ASCII string from&n; * the HWRPB.  That&squot;s what this function does.  It checks the revision&n; * level and if the string is in the HWRPB it returns the address of&n; * the string--a pointer to the name of the platform.&n; *&n; * Returns:&n; *      - Pointer to a ASCII string if it&squot;s in the HWRPB&n; *      - Pointer to a blank string if the data is not in the HWRPB.&n; */
r_static
r_char
op_star
DECL|function|platform_string
id|platform_string
c_func
(paren
r_void
)paren
(brace
r_struct
id|dsr_struct
op_star
id|dsr
suffix:semicolon
r_static
r_char
id|unk_system_string
(braket
)braket
op_assign
l_string|&quot;N/A&quot;
suffix:semicolon
multiline_comment|/* Go to the console for the string pointer.&n;&t; * If the rpb_vers is not 5 or greater the rpb&n;&t; * is old and does not have this data in it.&n;&t; */
r_if
c_cond
(paren
id|hwrpb-&gt;revision
OL
l_int|5
)paren
r_return
(paren
id|unk_system_string
)paren
suffix:semicolon
r_else
(brace
multiline_comment|/* The Dynamic System Recognition struct&n;&t;&t; * has the system platform name starting&n;&t;&t; * after the character count of the string.&n;&t;&t; */
id|dsr
op_assign
(paren
(paren
r_struct
id|dsr_struct
op_star
)paren
(paren
(paren
r_char
op_star
)paren
id|hwrpb
op_plus
id|hwrpb-&gt;dsr_offset
)paren
)paren
suffix:semicolon
r_return
(paren
(paren
r_char
op_star
)paren
id|dsr
op_plus
(paren
id|dsr-&gt;sysname_off
op_plus
r_sizeof
(paren
r_int
)paren
)paren
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * BUFFER is PAGE_SIZE bytes long.&n; */
DECL|function|get_cpuinfo
r_int
id|get_cpuinfo
c_func
(paren
r_char
op_star
id|buffer
)paren
(brace
r_extern
r_struct
id|unaligned_stat
(brace
r_int
r_int
id|count
comma
id|va
comma
id|pc
suffix:semicolon
)brace
id|unaligned
(braket
l_int|2
)braket
suffix:semicolon
r_static
r_char
id|cpu_names
(braket
)braket
(braket
l_int|8
)braket
op_assign
(brace
l_string|&quot;EV3&quot;
comma
l_string|&quot;EV4&quot;
comma
l_string|&quot;Simulate&quot;
comma
l_string|&quot;LCA4&quot;
comma
l_string|&quot;EV5&quot;
comma
l_string|&quot;EV45&quot;
comma
l_string|&quot;EV56&quot;
comma
l_string|&quot;EV6&quot;
comma
l_string|&quot;PCA56&quot;
comma
l_string|&quot;PCA57&quot;
comma
l_string|&quot;EV67&quot;
)brace
suffix:semicolon
r_struct
id|percpu_struct
op_star
id|cpu
suffix:semicolon
r_int
r_int
id|cpu_index
suffix:semicolon
r_char
op_star
id|cpu_name
suffix:semicolon
r_char
op_star
id|systype_name
suffix:semicolon
r_char
op_star
id|sysvariation_name
suffix:semicolon
r_int
id|len
suffix:semicolon
id|cpu
op_assign
(paren
r_struct
id|percpu_struct
op_star
)paren
(paren
(paren
r_char
op_star
)paren
id|hwrpb
op_plus
id|hwrpb-&gt;processor_offset
)paren
suffix:semicolon
id|cpu_index
op_assign
(paren
r_int
)paren
(paren
id|cpu-&gt;type
op_minus
l_int|1
)paren
suffix:semicolon
id|cpu_name
op_assign
l_string|&quot;Unknown&quot;
suffix:semicolon
r_if
c_cond
(paren
id|cpu_index
OL
id|N
c_func
(paren
id|cpu_names
)paren
)paren
id|cpu_name
op_assign
id|cpu_names
(braket
id|cpu_index
)braket
suffix:semicolon
id|get_sysnames
c_func
(paren
id|hwrpb-&gt;sys_type
comma
id|hwrpb-&gt;sys_variation
comma
op_amp
id|systype_name
comma
op_amp
id|sysvariation_name
)paren
suffix:semicolon
id|len
op_assign
id|sprintf
c_func
(paren
id|buffer
comma
l_string|&quot;cpu&bslash;t&bslash;t&bslash;t: Alpha&bslash;n&quot;
l_string|&quot;cpu model&bslash;t&bslash;t: %s&bslash;n&quot;
l_string|&quot;cpu variation&bslash;t&bslash;t: %ld&bslash;n&quot;
l_string|&quot;cpu revision&bslash;t&bslash;t: %ld&bslash;n&quot;
l_string|&quot;cpu serial number&bslash;t: %s&bslash;n&quot;
l_string|&quot;system type&bslash;t&bslash;t: %s&bslash;n&quot;
l_string|&quot;system variation&bslash;t: %s&bslash;n&quot;
l_string|&quot;system revision&bslash;t&bslash;t: %ld&bslash;n&quot;
l_string|&quot;system serial number&bslash;t: %s&bslash;n&quot;
l_string|&quot;cycle frequency [Hz]&bslash;t: %lu %s&bslash;n&quot;
l_string|&quot;timer frequency [Hz]&bslash;t: %lu.%02lu&bslash;n&quot;
l_string|&quot;page size [bytes]&bslash;t: %ld&bslash;n&quot;
l_string|&quot;phys. address bits&bslash;t: %ld&bslash;n&quot;
l_string|&quot;max. addr. space #&bslash;t: %ld&bslash;n&quot;
l_string|&quot;BogoMIPS&bslash;t&bslash;t: %lu.%02lu&bslash;n&quot;
l_string|&quot;kernel unaligned acc&bslash;t: %ld (pc=%lx,va=%lx)&bslash;n&quot;
l_string|&quot;user unaligned acc&bslash;t: %ld (pc=%lx,va=%lx)&bslash;n&quot;
l_string|&quot;platform string&bslash;t&bslash;t: %s&bslash;n&quot;
comma
id|cpu_name
comma
id|cpu-&gt;variation
comma
id|cpu-&gt;revision
comma
(paren
r_char
op_star
)paren
id|cpu-&gt;serial_no
comma
id|systype_name
comma
id|sysvariation_name
comma
id|hwrpb-&gt;sys_revision
comma
(paren
r_char
op_star
)paren
id|hwrpb-&gt;ssn
comma
id|est_cycle_freq
ques
c_cond
suffix:colon
id|hwrpb-&gt;cycle_freq
comma
id|est_cycle_freq
ques
c_cond
l_string|&quot;est.&quot;
suffix:colon
l_string|&quot;&quot;
comma
id|hwrpb-&gt;intr_freq
op_div
l_int|4096
comma
(paren
l_int|100
op_star
id|hwrpb-&gt;intr_freq
op_div
l_int|4096
)paren
op_mod
l_int|100
comma
id|hwrpb-&gt;pagesize
comma
id|hwrpb-&gt;pa_bits
comma
id|hwrpb-&gt;max_asn
comma
id|loops_per_sec
op_div
l_int|500000
comma
(paren
id|loops_per_sec
op_div
l_int|5000
)paren
op_mod
l_int|100
comma
id|unaligned
(braket
l_int|0
)braket
dot
id|count
comma
id|unaligned
(braket
l_int|0
)braket
dot
id|pc
comma
id|unaligned
(braket
l_int|0
)braket
dot
id|va
comma
id|unaligned
(braket
l_int|1
)braket
dot
id|count
comma
id|unaligned
(braket
l_int|1
)braket
dot
id|pc
comma
id|unaligned
(braket
l_int|1
)braket
dot
id|va
comma
id|platform_string
c_func
(paren
)paren
)paren
suffix:semicolon
macro_line|#ifdef __SMP__
id|len
op_add_assign
id|smp_info
c_func
(paren
id|buffer
op_plus
id|len
)paren
suffix:semicolon
macro_line|#endif
r_return
id|len
suffix:semicolon
)brace
eof
