multiline_comment|/*---------------------------------------------------------------------------+&n; |  fpu_arith.c                                                              |&n; |                                                                           |&n; | Code to implement the FPU register/register arithmetic instructions       |&n; |                                                                           |&n; | Copyright (C) 1992,1993,1997                                              |&n; |                  W. Metzenthen, 22 Parker St, Ormond, Vic 3163, Australia |&n; |                  E-mail   billm@suburbia.net                              |&n; |                                                                           |&n; |                                                                           |&n; +---------------------------------------------------------------------------*/
macro_line|#include &quot;fpu_system.h&quot;
macro_line|#include &quot;fpu_emu.h&quot;
macro_line|#include &quot;control_w.h&quot;
macro_line|#include &quot;status_w.h&quot;
DECL|function|fadd__
r_void
id|fadd__
c_func
(paren
)paren
(brace
multiline_comment|/* fadd st,st(i) */
r_int
id|i
op_assign
id|FPU_rm
suffix:semicolon
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_add
c_func
(paren
op_amp
id|st
c_func
(paren
id|i
)paren
comma
id|FPU_gettagi
c_func
(paren
id|i
)paren
comma
l_int|0
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fmul__
r_void
id|fmul__
c_func
(paren
)paren
(brace
multiline_comment|/* fmul st,st(i) */
r_int
id|i
op_assign
id|FPU_rm
suffix:semicolon
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_mul
c_func
(paren
op_amp
id|st
c_func
(paren
id|i
)paren
comma
id|FPU_gettagi
c_func
(paren
id|i
)paren
comma
l_int|0
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fsub__
r_void
id|fsub__
c_func
(paren
)paren
(brace
multiline_comment|/* fsub st,st(i) */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_sub
c_func
(paren
l_int|0
comma
id|FPU_rm
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fsubr_
r_void
id|fsubr_
c_func
(paren
)paren
(brace
multiline_comment|/* fsubr st,st(i) */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_sub
c_func
(paren
id|REV
comma
id|FPU_rm
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fdiv__
r_void
id|fdiv__
c_func
(paren
)paren
(brace
multiline_comment|/* fdiv st,st(i) */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_div
c_func
(paren
l_int|0
comma
id|FPU_rm
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fdivr_
r_void
id|fdivr_
c_func
(paren
)paren
(brace
multiline_comment|/* fdivr st,st(i) */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_div
c_func
(paren
id|REV
comma
id|FPU_rm
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fadd_i
r_void
id|fadd_i
c_func
(paren
)paren
(brace
multiline_comment|/* fadd st(i),st */
r_int
id|i
op_assign
id|FPU_rm
suffix:semicolon
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_add
c_func
(paren
op_amp
id|st
c_func
(paren
id|i
)paren
comma
id|FPU_gettagi
c_func
(paren
id|i
)paren
comma
id|i
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fmul_i
r_void
id|fmul_i
c_func
(paren
)paren
(brace
multiline_comment|/* fmul st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_mul
c_func
(paren
op_amp
id|st
c_func
(paren
l_int|0
)paren
comma
id|FPU_gettag0
c_func
(paren
)paren
comma
id|FPU_rm
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fsubri
r_void
id|fsubri
c_func
(paren
)paren
(brace
multiline_comment|/* fsubr st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_sub
c_func
(paren
id|DEST_RM
comma
id|FPU_rm
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fsub_i
r_void
id|fsub_i
c_func
(paren
)paren
(brace
multiline_comment|/* fsub st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_sub
c_func
(paren
id|REV
op_or
id|DEST_RM
comma
id|FPU_rm
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fdivri
r_void
id|fdivri
c_func
(paren
)paren
(brace
multiline_comment|/* fdivr st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_div
c_func
(paren
id|DEST_RM
comma
id|FPU_rm
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|fdiv_i
r_void
id|fdiv_i
c_func
(paren
)paren
(brace
multiline_comment|/* fdiv st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
id|FPU_div
c_func
(paren
id|REV
op_or
id|DEST_RM
comma
id|FPU_rm
comma
id|control_word
)paren
suffix:semicolon
)brace
DECL|function|faddp_
r_void
id|faddp_
c_func
(paren
)paren
(brace
multiline_comment|/* faddp st(i),st */
r_int
id|i
op_assign
id|FPU_rm
suffix:semicolon
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FPU_add
c_func
(paren
op_amp
id|st
c_func
(paren
id|i
)paren
comma
id|FPU_gettagi
c_func
(paren
id|i
)paren
comma
id|i
comma
id|control_word
)paren
op_ge
l_int|0
)paren
id|FPU_pop
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|fmulp_
r_void
id|fmulp_
c_func
(paren
)paren
(brace
multiline_comment|/* fmulp st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FPU_mul
c_func
(paren
op_amp
id|st
c_func
(paren
l_int|0
)paren
comma
id|FPU_gettag0
c_func
(paren
)paren
comma
id|FPU_rm
comma
id|control_word
)paren
op_ge
l_int|0
)paren
id|FPU_pop
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|fsubrp
r_void
id|fsubrp
c_func
(paren
)paren
(brace
multiline_comment|/* fsubrp st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FPU_sub
c_func
(paren
id|DEST_RM
comma
id|FPU_rm
comma
id|control_word
)paren
op_ge
l_int|0
)paren
id|FPU_pop
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|fsubp_
r_void
id|fsubp_
c_func
(paren
)paren
(brace
multiline_comment|/* fsubp st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FPU_sub
c_func
(paren
id|REV
op_or
id|DEST_RM
comma
id|FPU_rm
comma
id|control_word
)paren
op_ge
l_int|0
)paren
id|FPU_pop
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|fdivrp
r_void
id|fdivrp
c_func
(paren
)paren
(brace
multiline_comment|/* fdivrp st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FPU_div
c_func
(paren
id|DEST_RM
comma
id|FPU_rm
comma
id|control_word
)paren
op_ge
l_int|0
)paren
id|FPU_pop
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|fdivp_
r_void
id|fdivp_
c_func
(paren
)paren
(brace
multiline_comment|/* fdivp st(i),st */
id|clear_C1
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FPU_div
c_func
(paren
id|REV
op_or
id|DEST_RM
comma
id|FPU_rm
comma
id|control_word
)paren
op_ge
l_int|0
)paren
id|FPU_pop
c_func
(paren
)paren
suffix:semicolon
)brace
eof
