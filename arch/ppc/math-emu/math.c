multiline_comment|/* $Id: math.c,v 1.1 1999/08/23 19:00:11 cort Exp $&n; * arch/ppc/math-emu/math.c&n; *&n; * Copyright (C) 1999  Eddie C. Dost  (ecd@atecom.com)&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &lt;asm/processor.h&gt;
macro_line|#include &quot;sfp-machine.h&quot;
macro_line|#include &quot;double.h&quot;
DECL|macro|FLOATFUNC
mdefine_line|#define FLOATFUNC(x)&t;extern int x(void *, void *, void *, void *)
DECL|variable|fadd
id|FLOATFUNC
c_func
(paren
id|fadd
)paren
suffix:semicolon
DECL|variable|fadds
id|FLOATFUNC
c_func
(paren
id|fadds
)paren
suffix:semicolon
DECL|variable|fdiv
id|FLOATFUNC
c_func
(paren
id|fdiv
)paren
suffix:semicolon
DECL|variable|fdivs
id|FLOATFUNC
c_func
(paren
id|fdivs
)paren
suffix:semicolon
DECL|variable|fmul
id|FLOATFUNC
c_func
(paren
id|fmul
)paren
suffix:semicolon
DECL|variable|fmuls
id|FLOATFUNC
c_func
(paren
id|fmuls
)paren
suffix:semicolon
DECL|variable|fsub
id|FLOATFUNC
c_func
(paren
id|fsub
)paren
suffix:semicolon
DECL|variable|fsubs
id|FLOATFUNC
c_func
(paren
id|fsubs
)paren
suffix:semicolon
DECL|variable|fmadd
id|FLOATFUNC
c_func
(paren
id|fmadd
)paren
suffix:semicolon
DECL|variable|fmadds
id|FLOATFUNC
c_func
(paren
id|fmadds
)paren
suffix:semicolon
DECL|variable|fmsub
id|FLOATFUNC
c_func
(paren
id|fmsub
)paren
suffix:semicolon
DECL|variable|fmsubs
id|FLOATFUNC
c_func
(paren
id|fmsubs
)paren
suffix:semicolon
DECL|variable|fnmadd
id|FLOATFUNC
c_func
(paren
id|fnmadd
)paren
suffix:semicolon
DECL|variable|fnmadds
id|FLOATFUNC
c_func
(paren
id|fnmadds
)paren
suffix:semicolon
DECL|variable|fnmsub
id|FLOATFUNC
c_func
(paren
id|fnmsub
)paren
suffix:semicolon
DECL|variable|fnmsubs
id|FLOATFUNC
c_func
(paren
id|fnmsubs
)paren
suffix:semicolon
DECL|variable|fctiw
id|FLOATFUNC
c_func
(paren
id|fctiw
)paren
suffix:semicolon
DECL|variable|fctiwz
id|FLOATFUNC
c_func
(paren
id|fctiwz
)paren
suffix:semicolon
DECL|variable|frsp
id|FLOATFUNC
c_func
(paren
id|frsp
)paren
suffix:semicolon
DECL|variable|fcmpo
id|FLOATFUNC
c_func
(paren
id|fcmpo
)paren
suffix:semicolon
DECL|variable|fcmpu
id|FLOATFUNC
c_func
(paren
id|fcmpu
)paren
suffix:semicolon
DECL|variable|mcrfs
id|FLOATFUNC
c_func
(paren
id|mcrfs
)paren
suffix:semicolon
DECL|variable|mffs
id|FLOATFUNC
c_func
(paren
id|mffs
)paren
suffix:semicolon
DECL|variable|mtfsb0
id|FLOATFUNC
c_func
(paren
id|mtfsb0
)paren
suffix:semicolon
DECL|variable|mtfsb1
id|FLOATFUNC
c_func
(paren
id|mtfsb1
)paren
suffix:semicolon
DECL|variable|mtfsf
id|FLOATFUNC
c_func
(paren
id|mtfsf
)paren
suffix:semicolon
DECL|variable|mtfsfi
id|FLOATFUNC
c_func
(paren
id|mtfsfi
)paren
suffix:semicolon
DECL|variable|lfd
id|FLOATFUNC
c_func
(paren
id|lfd
)paren
suffix:semicolon
DECL|variable|lfs
id|FLOATFUNC
c_func
(paren
id|lfs
)paren
suffix:semicolon
DECL|variable|stfd
id|FLOATFUNC
c_func
(paren
id|stfd
)paren
suffix:semicolon
DECL|variable|stfs
id|FLOATFUNC
c_func
(paren
id|stfs
)paren
suffix:semicolon
DECL|variable|stfiwx
id|FLOATFUNC
c_func
(paren
id|stfiwx
)paren
suffix:semicolon
DECL|variable|fabs
id|FLOATFUNC
c_func
(paren
id|fabs
)paren
suffix:semicolon
DECL|variable|fmr
id|FLOATFUNC
c_func
(paren
id|fmr
)paren
suffix:semicolon
DECL|variable|fnabs
id|FLOATFUNC
c_func
(paren
id|fnabs
)paren
suffix:semicolon
DECL|variable|fneg
id|FLOATFUNC
c_func
(paren
id|fneg
)paren
suffix:semicolon
multiline_comment|/* Optional */
DECL|variable|fres
id|FLOATFUNC
c_func
(paren
id|fres
)paren
suffix:semicolon
DECL|variable|frsqrte
id|FLOATFUNC
c_func
(paren
id|frsqrte
)paren
suffix:semicolon
DECL|variable|fsel
id|FLOATFUNC
c_func
(paren
id|fsel
)paren
suffix:semicolon
DECL|variable|fsqrt
id|FLOATFUNC
c_func
(paren
id|fsqrt
)paren
suffix:semicolon
DECL|variable|fsqrts
id|FLOATFUNC
c_func
(paren
id|fsqrts
)paren
suffix:semicolon
DECL|macro|OP31
mdefine_line|#define OP31&t;&t;0x1f&t;&t;/*   31 */
DECL|macro|LFS
mdefine_line|#define LFS&t;&t;0x30&t;&t;/*   48 */
DECL|macro|LFSU
mdefine_line|#define LFSU&t;&t;0x31&t;&t;/*   49 */
DECL|macro|LFD
mdefine_line|#define LFD&t;&t;0x32&t;&t;/*   50 */
DECL|macro|LFDU
mdefine_line|#define LFDU&t;&t;0x33&t;&t;/*   51 */
DECL|macro|STFS
mdefine_line|#define STFS&t;&t;0x34&t;&t;/*   52 */
DECL|macro|STFSU
mdefine_line|#define STFSU&t;&t;0x35&t;&t;/*   53 */
DECL|macro|STFD
mdefine_line|#define STFD&t;&t;0x36&t;&t;/*   54 */
DECL|macro|STFDU
mdefine_line|#define STFDU&t;&t;0x37&t;&t;/*   55 */
DECL|macro|OP59
mdefine_line|#define OP59&t;&t;0x3b&t;&t;/*   59 */
DECL|macro|OP63
mdefine_line|#define OP63&t;&t;0x3f&t;&t;/*   63 */
multiline_comment|/* Opcode 31: */
multiline_comment|/* X-Form: */
DECL|macro|LFSX
mdefine_line|#define LFSX&t;&t;0x217&t;&t;/*  535 */
DECL|macro|LFSUX
mdefine_line|#define LFSUX&t;&t;0x237&t;&t;/*  567 */
DECL|macro|LFDX
mdefine_line|#define LFDX&t;&t;0x257&t;&t;/*  599 */
DECL|macro|LFDUX
mdefine_line|#define LFDUX&t;&t;0x277&t;&t;/*  631 */
DECL|macro|STFSX
mdefine_line|#define STFSX&t;&t;0x297&t;&t;/*  663 */
DECL|macro|STFSUX
mdefine_line|#define STFSUX&t;&t;0x2b7&t;&t;/*  695 */
DECL|macro|STFDX
mdefine_line|#define STFDX&t;&t;0x2d7&t;&t;/*  727 */
DECL|macro|STFDUX
mdefine_line|#define STFDUX&t;&t;0x2f7&t;&t;/*  759 */
DECL|macro|STFIWX
mdefine_line|#define STFIWX&t;&t;0x3d7&t;&t;/*  983 */
multiline_comment|/* Opcode 59: */
multiline_comment|/* A-Form: */
DECL|macro|FDIVS
mdefine_line|#define FDIVS&t;&t;0x012&t;&t;/*   18 */
DECL|macro|FSUBS
mdefine_line|#define FSUBS&t;&t;0x014&t;&t;/*   20 */
DECL|macro|FADDS
mdefine_line|#define FADDS&t;&t;0x015&t;&t;/*   21 */
DECL|macro|FSQRTS
mdefine_line|#define FSQRTS&t;&t;0x016&t;&t;/*   22 */
DECL|macro|FRES
mdefine_line|#define FRES&t;&t;0x018&t;&t;/*   24 */
DECL|macro|FMULS
mdefine_line|#define FMULS&t;&t;0x019&t;&t;/*   25 */
DECL|macro|FMSUBS
mdefine_line|#define FMSUBS&t;&t;0x01c&t;&t;/*   28 */
DECL|macro|FMADDS
mdefine_line|#define FMADDS&t;&t;0x01d&t;&t;/*   29 */
DECL|macro|FNMSUBS
mdefine_line|#define FNMSUBS&t;&t;0x01e&t;&t;/*   30 */
DECL|macro|FNMADDS
mdefine_line|#define FNMADDS&t;&t;0x01f&t;&t;/*   31 */
multiline_comment|/* Opcode 63: */
multiline_comment|/* A-Form: */
DECL|macro|FDIV
mdefine_line|#define FDIV&t;&t;0x012&t;&t;/*   18 */
DECL|macro|FSUB
mdefine_line|#define FSUB&t;&t;0x014&t;&t;/*   20 */
DECL|macro|FADD
mdefine_line|#define FADD&t;&t;0x015&t;&t;/*   21 */
DECL|macro|FSQRT
mdefine_line|#define FSQRT&t;&t;0x016&t;&t;/*   22 */
DECL|macro|FSEL
mdefine_line|#define FSEL&t;&t;0x017&t;&t;/*   23 */
DECL|macro|FMUL
mdefine_line|#define FMUL&t;&t;0x019&t;&t;/*   25 */
DECL|macro|FRSQRTE
mdefine_line|#define FRSQRTE&t;&t;0x01a&t;&t;/*   26 */
DECL|macro|FMSUB
mdefine_line|#define FMSUB&t;&t;0x01c&t;&t;/*   28 */
DECL|macro|FMADD
mdefine_line|#define FMADD&t;&t;0x01d&t;&t;/*   29 */
DECL|macro|FNMSUB
mdefine_line|#define FNMSUB&t;&t;0x01e&t;&t;/*   30 */
DECL|macro|FNMADD
mdefine_line|#define FNMADD&t;&t;0x01f&t;&t;/*   31 */
multiline_comment|/* X-Form: */
DECL|macro|FCMPU
mdefine_line|#define FCMPU&t;&t;0x000&t;&t;/*    0&t;*/
DECL|macro|FRSP
mdefine_line|#define FRSP&t;&t;0x00c&t;&t;/*   12 */
DECL|macro|FCTIW
mdefine_line|#define FCTIW&t;&t;0x00e&t;&t;/*   14 */
DECL|macro|FCTIWZ
mdefine_line|#define FCTIWZ&t;&t;0x00f&t;&t;/*   15 */
DECL|macro|FCMPO
mdefine_line|#define FCMPO&t;&t;0x020&t;&t;/*   32 */
DECL|macro|MTFSB1
mdefine_line|#define MTFSB1&t;&t;0x026&t;&t;/*   38 */
DECL|macro|FNEG
mdefine_line|#define FNEG&t;&t;0x028&t;&t;/*   40 */
DECL|macro|MCRFS
mdefine_line|#define MCRFS&t;&t;0x040&t;&t;/*   64 */
DECL|macro|MTFSB0
mdefine_line|#define MTFSB0&t;&t;0x046&t;&t;/*   70 */
DECL|macro|FMR
mdefine_line|#define FMR&t;&t;0x048&t;&t;/*   72 */
DECL|macro|MTFSFI
mdefine_line|#define MTFSFI&t;&t;0x086&t;&t;/*  134 */
DECL|macro|FNABS
mdefine_line|#define FNABS&t;&t;0x088&t;&t;/*  136 */
DECL|macro|FABS
mdefine_line|#define FABS&t;&t;0x108&t;&t;/*  264 */
DECL|macro|MFFS
mdefine_line|#define MFFS&t;&t;0x247&t;&t;/*  583 */
DECL|macro|MTFSF
mdefine_line|#define MTFSF&t;&t;0x2c7&t;&t;/*  711 */
DECL|macro|AB
mdefine_line|#define AB&t;2
DECL|macro|AC
mdefine_line|#define AC&t;3
DECL|macro|ABC
mdefine_line|#define ABC&t;4
DECL|macro|D
mdefine_line|#define D&t;5
DECL|macro|DU
mdefine_line|#define DU&t;6
DECL|macro|X
mdefine_line|#define X&t;7
DECL|macro|XA
mdefine_line|#define XA&t;8
DECL|macro|XB
mdefine_line|#define XB&t;9
DECL|macro|XCR
mdefine_line|#define XCR&t;11
DECL|macro|XCRB
mdefine_line|#define XCRB&t;12
DECL|macro|XCRI
mdefine_line|#define XCRI&t;13
DECL|macro|XCRL
mdefine_line|#define XCRL&t;16
DECL|macro|XE
mdefine_line|#define XE&t;14
DECL|macro|XEU
mdefine_line|#define XEU&t;15
DECL|macro|XFLB
mdefine_line|#define XFLB&t;10
macro_line|#ifdef CONFIG_MATH_EMULATION
r_static
r_int
DECL|function|record_exception
id|record_exception
c_func
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|eflag
)paren
(brace
id|u32
id|fpscr
suffix:semicolon
id|fpscr
op_assign
id|__FPU_FPSCR
suffix:semicolon
r_if
c_cond
(paren
id|eflag
)paren
(brace
id|fpscr
op_or_assign
id|FPSCR_FX
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_OVERFLOW
)paren
id|fpscr
op_or_assign
id|FPSCR_OX
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_UNDERFLOW
)paren
id|fpscr
op_or_assign
id|FPSCR_UX
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_DIVZERO
)paren
id|fpscr
op_or_assign
id|FPSCR_ZX
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_INEXACT
)paren
id|fpscr
op_or_assign
id|FPSCR_XX
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_VXSNAN
)paren
id|fpscr
op_or_assign
id|FPSCR_VXSNAN
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_VXISI
)paren
id|fpscr
op_or_assign
id|FPSCR_VXISI
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_VXIDI
)paren
id|fpscr
op_or_assign
id|FPSCR_VXIDI
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_VXZDZ
)paren
id|fpscr
op_or_assign
id|FPSCR_VXZDZ
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_VXIMZ
)paren
id|fpscr
op_or_assign
id|FPSCR_VXIMZ
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_VXVC
)paren
id|fpscr
op_or_assign
id|FPSCR_VXVC
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_VXSOFT
)paren
id|fpscr
op_or_assign
id|FPSCR_VXSOFT
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_VXSQRT
)paren
id|fpscr
op_or_assign
id|FPSCR_VXSQRT
suffix:semicolon
r_if
c_cond
(paren
id|eflag
op_amp
id|EFLAG_VXCVI
)paren
id|fpscr
op_or_assign
id|FPSCR_VXCVI
suffix:semicolon
)brace
id|fpscr
op_and_assign
op_complement
(paren
id|FPSCR_VX
)paren
suffix:semicolon
r_if
c_cond
(paren
id|fpscr
op_amp
(paren
id|FPSCR_VXSNAN
op_or
id|FPSCR_VXISI
op_or
id|FPSCR_VXIDI
op_or
id|FPSCR_VXZDZ
op_or
id|FPSCR_VXIMZ
op_or
id|FPSCR_VXVC
op_or
id|FPSCR_VXSOFT
op_or
id|FPSCR_VXSQRT
op_or
id|FPSCR_VXCVI
)paren
)paren
id|fpscr
op_or_assign
id|FPSCR_VX
suffix:semicolon
id|fpscr
op_and_assign
op_complement
(paren
id|FPSCR_FEX
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
(paren
id|fpscr
op_amp
id|FPSCR_VX
)paren
op_logical_and
(paren
id|fpscr
op_amp
id|FPSCR_VE
)paren
)paren
op_logical_or
(paren
(paren
id|fpscr
op_amp
id|FPSCR_OX
)paren
op_logical_and
(paren
id|fpscr
op_amp
id|FPSCR_OE
)paren
)paren
op_logical_or
(paren
(paren
id|fpscr
op_amp
id|FPSCR_UX
)paren
op_logical_and
(paren
id|fpscr
op_amp
id|FPSCR_UE
)paren
)paren
op_logical_or
(paren
(paren
id|fpscr
op_amp
id|FPSCR_ZX
)paren
op_logical_and
(paren
id|fpscr
op_amp
id|FPSCR_ZE
)paren
)paren
op_logical_or
(paren
(paren
id|fpscr
op_amp
id|FPSCR_XX
)paren
op_logical_and
(paren
id|fpscr
op_amp
id|FPSCR_XE
)paren
)paren
)paren
id|fpscr
op_or_assign
id|FPSCR_FEX
suffix:semicolon
id|__FPU_FPSCR
op_assign
id|fpscr
suffix:semicolon
r_return
(paren
id|fpscr
op_amp
id|FPSCR_FEX
)paren
ques
c_cond
l_int|1
suffix:colon
l_int|0
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_MATH_EMULATION */
r_int
DECL|function|do_mathemu
id|do_mathemu
c_func
(paren
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
r_void
op_star
id|op0
op_assign
l_int|0
comma
op_star
id|op1
op_assign
l_int|0
comma
op_star
id|op2
op_assign
l_int|0
comma
op_star
id|op3
op_assign
l_int|0
suffix:semicolon
r_int
r_int
id|pc
op_assign
id|regs-&gt;nip
suffix:semicolon
r_int
r_int
id|sdisp
suffix:semicolon
id|u32
id|insn
op_assign
l_int|0
suffix:semicolon
r_int
id|idx
op_assign
l_int|0
suffix:semicolon
macro_line|#ifdef CONFIG_MATH_EMULATION
r_int
(paren
op_star
id|func
)paren
(paren
r_void
op_star
comma
r_void
op_star
comma
r_void
op_star
comma
r_void
op_star
)paren
suffix:semicolon
r_int
id|type
op_assign
l_int|0
suffix:semicolon
r_int
id|eflag
comma
id|trap
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|insn
comma
(paren
id|u32
op_star
)paren
id|pc
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
macro_line|#ifndef CONFIG_MATH_EMULATION
r_switch
c_cond
(paren
id|insn
op_rshift
l_int|26
)paren
(brace
r_case
id|LFD
suffix:colon
id|idx
op_assign
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
suffix:semicolon
id|sdisp
op_assign
(paren
id|insn
op_amp
l_int|0xffff
)paren
suffix:semicolon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|idx
ques
c_cond
id|regs-&gt;gpr
(braket
id|idx
)braket
suffix:colon
l_int|0
)paren
op_plus
id|sdisp
)paren
suffix:semicolon
id|lfd
c_func
(paren
id|op0
comma
id|op1
comma
id|op2
comma
id|op3
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LFDU
suffix:colon
id|idx
op_assign
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
suffix:semicolon
id|sdisp
op_assign
(paren
id|insn
op_amp
l_int|0xffff
)paren
suffix:semicolon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|idx
ques
c_cond
id|regs-&gt;gpr
(braket
id|idx
)braket
suffix:colon
l_int|0
)paren
op_plus
id|sdisp
)paren
suffix:semicolon
id|lfd
c_func
(paren
id|op0
comma
id|op1
comma
id|op2
comma
id|op3
)paren
suffix:semicolon
id|regs-&gt;gpr
(braket
id|idx
)braket
op_assign
(paren
r_int
r_int
)paren
id|op1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFD
suffix:colon
id|idx
op_assign
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
suffix:semicolon
id|sdisp
op_assign
(paren
id|insn
op_amp
l_int|0xffff
)paren
suffix:semicolon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|idx
ques
c_cond
id|regs-&gt;gpr
(braket
id|idx
)braket
suffix:colon
l_int|0
)paren
op_plus
id|sdisp
)paren
suffix:semicolon
id|stfd
c_func
(paren
id|op0
comma
id|op1
comma
id|op2
comma
id|op3
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFDU
suffix:colon
id|idx
op_assign
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
suffix:semicolon
id|sdisp
op_assign
(paren
id|insn
op_amp
l_int|0xffff
)paren
suffix:semicolon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|idx
ques
c_cond
id|regs-&gt;gpr
(braket
id|idx
)braket
suffix:colon
l_int|0
)paren
op_plus
id|sdisp
)paren
suffix:semicolon
id|stfd
c_func
(paren
id|op0
comma
id|op1
comma
id|op2
comma
id|op3
)paren
suffix:semicolon
id|regs-&gt;gpr
(braket
id|idx
)braket
op_assign
(paren
r_int
r_int
)paren
id|op1
suffix:semicolon
r_break
suffix:semicolon
r_case
id|OP63
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|11
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|fmr
c_func
(paren
id|op0
comma
id|op1
comma
id|op2
comma
id|op3
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_goto
id|illegal
suffix:semicolon
)brace
macro_line|#else /* CONFIG_MATH_EMULATION */
r_switch
c_cond
(paren
id|insn
op_rshift
l_int|26
)paren
(brace
r_case
id|LFS
suffix:colon
id|func
op_assign
id|lfs
suffix:semicolon
id|type
op_assign
id|D
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LFSU
suffix:colon
id|func
op_assign
id|lfs
suffix:semicolon
id|type
op_assign
id|DU
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LFD
suffix:colon
id|func
op_assign
id|lfd
suffix:semicolon
id|type
op_assign
id|D
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LFDU
suffix:colon
id|func
op_assign
id|lfd
suffix:semicolon
id|type
op_assign
id|DU
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFS
suffix:colon
id|func
op_assign
id|stfs
suffix:semicolon
id|type
op_assign
id|D
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFSU
suffix:colon
id|func
op_assign
id|stfs
suffix:semicolon
id|type
op_assign
id|DU
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFD
suffix:colon
id|func
op_assign
id|stfd
suffix:semicolon
id|type
op_assign
id|D
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFDU
suffix:colon
id|func
op_assign
id|stfd
suffix:semicolon
id|type
op_assign
id|DU
suffix:semicolon
r_break
suffix:semicolon
r_case
id|OP31
suffix:colon
r_switch
c_cond
(paren
(paren
id|insn
op_rshift
l_int|1
)paren
op_amp
l_int|0x3ff
)paren
(brace
r_case
id|LFSX
suffix:colon
id|func
op_assign
id|lfs
suffix:semicolon
id|type
op_assign
id|XE
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LFSUX
suffix:colon
id|func
op_assign
id|lfs
suffix:semicolon
id|type
op_assign
id|XEU
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LFDX
suffix:colon
id|func
op_assign
id|lfd
suffix:semicolon
id|type
op_assign
id|XE
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LFDUX
suffix:colon
id|func
op_assign
id|lfd
suffix:semicolon
id|type
op_assign
id|XEU
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFSX
suffix:colon
id|func
op_assign
id|stfs
suffix:semicolon
id|type
op_assign
id|XE
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFSUX
suffix:colon
id|func
op_assign
id|stfs
suffix:semicolon
id|type
op_assign
id|XEU
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFDX
suffix:colon
id|func
op_assign
id|stfd
suffix:semicolon
id|type
op_assign
id|XE
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFDUX
suffix:colon
id|func
op_assign
id|stfd
suffix:semicolon
id|type
op_assign
id|XEU
suffix:semicolon
r_break
suffix:semicolon
r_case
id|STFIWX
suffix:colon
id|func
op_assign
id|stfiwx
suffix:semicolon
id|type
op_assign
id|XE
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_goto
id|illegal
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|OP59
suffix:colon
r_switch
c_cond
(paren
(paren
id|insn
op_rshift
l_int|1
)paren
op_amp
l_int|0x1f
)paren
(brace
r_case
id|FDIVS
suffix:colon
id|func
op_assign
id|fdivs
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FSUBS
suffix:colon
id|func
op_assign
id|fsubs
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FADDS
suffix:colon
id|func
op_assign
id|fadds
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FSQRTS
suffix:colon
id|func
op_assign
id|fsqrts
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FRES
suffix:colon
id|func
op_assign
id|fres
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FMULS
suffix:colon
id|func
op_assign
id|fmuls
suffix:semicolon
id|type
op_assign
id|AC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FMSUBS
suffix:colon
id|func
op_assign
id|fmsubs
suffix:semicolon
id|type
op_assign
id|ABC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FMADDS
suffix:colon
id|func
op_assign
id|fmadds
suffix:semicolon
id|type
op_assign
id|ABC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FNMSUBS
suffix:colon
id|func
op_assign
id|fnmsubs
suffix:semicolon
id|type
op_assign
id|ABC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FNMADDS
suffix:colon
id|func
op_assign
id|fnmadds
suffix:semicolon
id|type
op_assign
id|ABC
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_goto
id|illegal
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|OP63
suffix:colon
r_if
c_cond
(paren
id|insn
op_amp
l_int|0x20
)paren
(brace
r_switch
c_cond
(paren
(paren
id|insn
op_rshift
l_int|1
)paren
op_amp
l_int|0x1f
)paren
(brace
r_case
id|FDIV
suffix:colon
id|func
op_assign
id|fdiv
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FSUB
suffix:colon
id|func
op_assign
id|fsub
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FADD
suffix:colon
id|func
op_assign
id|fadd
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FSQRT
suffix:colon
id|func
op_assign
id|fsqrt
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FSEL
suffix:colon
id|func
op_assign
id|fsel
suffix:semicolon
id|type
op_assign
id|ABC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FMUL
suffix:colon
id|func
op_assign
id|fmul
suffix:semicolon
id|type
op_assign
id|AC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FRSQRTE
suffix:colon
id|func
op_assign
id|frsqrte
suffix:semicolon
id|type
op_assign
id|AB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FMSUB
suffix:colon
id|func
op_assign
id|fmsub
suffix:semicolon
id|type
op_assign
id|ABC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FMADD
suffix:colon
id|func
op_assign
id|fmadd
suffix:semicolon
id|type
op_assign
id|ABC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FNMSUB
suffix:colon
id|func
op_assign
id|fnmsub
suffix:semicolon
id|type
op_assign
id|ABC
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FNMADD
suffix:colon
id|func
op_assign
id|fnmadd
suffix:semicolon
id|type
op_assign
id|ABC
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_goto
id|illegal
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
r_switch
c_cond
(paren
(paren
id|insn
op_rshift
l_int|1
)paren
op_amp
l_int|0x3ff
)paren
(brace
r_case
id|FCMPU
suffix:colon
id|func
op_assign
id|fcmpu
suffix:semicolon
id|type
op_assign
id|XCR
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FRSP
suffix:colon
id|func
op_assign
id|frsp
suffix:semicolon
id|type
op_assign
id|XB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FCTIW
suffix:colon
id|func
op_assign
id|fctiw
suffix:semicolon
id|type
op_assign
id|XB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FCTIWZ
suffix:colon
id|func
op_assign
id|fctiwz
suffix:semicolon
id|type
op_assign
id|XB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FCMPO
suffix:colon
id|func
op_assign
id|fcmpo
suffix:semicolon
id|type
op_assign
id|XCR
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTFSB1
suffix:colon
id|func
op_assign
id|mtfsb1
suffix:semicolon
id|type
op_assign
id|XCRB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FNEG
suffix:colon
id|func
op_assign
id|fneg
suffix:semicolon
id|type
op_assign
id|XB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MCRFS
suffix:colon
id|func
op_assign
id|mcrfs
suffix:semicolon
id|type
op_assign
id|XCRL
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTFSB0
suffix:colon
id|func
op_assign
id|mtfsb0
suffix:semicolon
id|type
op_assign
id|XCRB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FMR
suffix:colon
id|func
op_assign
id|fmr
suffix:semicolon
id|type
op_assign
id|XB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTFSFI
suffix:colon
id|func
op_assign
id|mtfsfi
suffix:semicolon
id|type
op_assign
id|XCRI
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FNABS
suffix:colon
id|func
op_assign
id|fnabs
suffix:semicolon
id|type
op_assign
id|XB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FABS
suffix:colon
id|func
op_assign
id|fabs
suffix:semicolon
id|type
op_assign
id|XB
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MFFS
suffix:colon
id|func
op_assign
id|mffs
suffix:semicolon
id|type
op_assign
id|X
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTFSF
suffix:colon
id|func
op_assign
id|mtfsf
suffix:semicolon
id|type
op_assign
id|XFLB
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_goto
id|illegal
suffix:semicolon
)brace
r_break
suffix:semicolon
r_default
suffix:colon
r_goto
id|illegal
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|type
)paren
(brace
r_case
id|AB
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op2
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|11
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|AC
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op2
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|6
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|ABC
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op2
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|11
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op3
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|6
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|D
suffix:colon
id|idx
op_assign
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
suffix:semicolon
id|sdisp
op_assign
(paren
id|insn
op_amp
l_int|0xffff
)paren
suffix:semicolon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|idx
ques
c_cond
id|regs-&gt;gpr
(braket
id|idx
)braket
suffix:colon
l_int|0
)paren
op_plus
id|sdisp
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|DU
suffix:colon
id|idx
op_assign
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|idx
)paren
r_goto
id|illegal
suffix:semicolon
id|sdisp
op_assign
(paren
id|insn
op_amp
l_int|0xffff
)paren
suffix:semicolon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
id|regs-&gt;gpr
(braket
id|idx
)braket
op_plus
id|sdisp
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|X
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|XA
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|XB
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|11
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|XE
suffix:colon
id|idx
op_assign
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|idx
)paren
r_goto
id|illegal
suffix:semicolon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
id|regs-&gt;gpr
(braket
id|idx
)braket
op_plus
id|regs-&gt;gpr
(braket
(paren
id|insn
op_rshift
l_int|11
)paren
op_amp
l_int|0x1f
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|XEU
suffix:colon
id|idx
op_assign
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
suffix:semicolon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|idx
ques
c_cond
id|regs-&gt;gpr
(braket
id|idx
)braket
suffix:colon
l_int|0
)paren
op_plus
id|regs-&gt;gpr
(braket
(paren
id|insn
op_rshift
l_int|11
)paren
op_amp
l_int|0x1f
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|XCR
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|regs-&gt;ccr
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|insn
op_rshift
l_int|23
)paren
op_amp
l_int|0x7
)paren
suffix:semicolon
id|op2
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|16
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
id|op3
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|11
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
r_break
suffix:semicolon
r_case
id|XCRL
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
op_amp
id|regs-&gt;ccr
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|insn
op_rshift
l_int|23
)paren
op_amp
l_int|0x7
)paren
suffix:semicolon
id|op2
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|insn
op_rshift
l_int|18
)paren
op_amp
l_int|0x7
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|XCRB
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|insn
op_rshift
l_int|21
)paren
op_amp
l_int|0x1f
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|XCRI
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|insn
op_rshift
l_int|23
)paren
op_amp
l_int|0x7
)paren
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|insn
op_rshift
l_int|12
)paren
op_amp
l_int|0xf
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|XFLB
suffix:colon
id|op0
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
id|insn
op_rshift
l_int|17
)paren
op_amp
l_int|0xff
)paren
suffix:semicolon
id|op1
op_assign
(paren
r_void
op_star
)paren
op_amp
id|current-&gt;thread.fpr
(braket
(paren
id|insn
op_rshift
l_int|11
)paren
op_amp
l_int|0x1f
)braket
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_goto
id|illegal
suffix:semicolon
)brace
id|eflag
op_assign
id|func
c_func
(paren
id|op0
comma
id|op1
comma
id|op2
comma
id|op3
)paren
suffix:semicolon
r_if
c_cond
(paren
id|insn
op_amp
l_int|1
)paren
(brace
id|regs-&gt;ccr
op_and_assign
op_complement
(paren
l_int|0x0f000000
)paren
suffix:semicolon
id|regs-&gt;ccr
op_or_assign
(paren
id|__FPU_FPSCR
op_rshift
l_int|4
)paren
op_amp
l_int|0x0f000000
suffix:semicolon
)brace
id|trap
op_assign
id|record_exception
c_func
(paren
id|regs
comma
id|eflag
)paren
suffix:semicolon
r_if
c_cond
(paren
id|trap
)paren
r_return
l_int|1
suffix:semicolon
r_switch
c_cond
(paren
id|type
)paren
(brace
r_case
id|DU
suffix:colon
r_case
id|XEU
suffix:colon
id|regs-&gt;gpr
(braket
id|idx
)braket
op_assign
(paren
r_int
r_int
)paren
id|op1
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_break
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_MATH_EMULATION */
id|regs-&gt;nip
op_add_assign
l_int|4
suffix:semicolon
r_return
l_int|0
suffix:semicolon
id|illegal
suffix:colon
r_return
op_minus
id|ENOSYS
suffix:semicolon
)brace
eof
