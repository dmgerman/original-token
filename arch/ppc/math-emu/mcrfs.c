multiline_comment|/* $Id: mcrfs.c,v 1.1 1999/08/23 19:00:13 cort Exp $&n; */
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &quot;soft-fp.h&quot;
r_int
DECL|function|mcrfs
id|mcrfs
c_func
(paren
id|u32
op_star
id|ccr
comma
id|u32
id|crfD
comma
id|u32
id|crfS
)paren
(brace
id|u32
id|value
comma
id|clear
suffix:semicolon
macro_line|#ifdef DEBUG
id|printk
c_func
(paren
l_string|&quot;%s: %p (%08x) %d %d&bslash;n&quot;
comma
id|__FUNCTION__
comma
id|ccr
comma
op_star
id|ccr
comma
id|crfD
comma
id|crfS
)paren
suffix:semicolon
macro_line|#endif
id|clear
op_assign
l_int|15
op_lshift
(paren
(paren
l_int|7
op_minus
id|crfS
)paren
op_lshift
l_int|2
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|crfS
)paren
id|clear
op_assign
l_int|0x90000000
suffix:semicolon
id|value
op_assign
(paren
id|__FPU_FPSCR
op_rshift
(paren
(paren
l_int|7
op_minus
id|crfS
)paren
op_lshift
l_int|2
)paren
)paren
op_amp
l_int|15
suffix:semicolon
id|__FPU_FPSCR
op_and_assign
op_complement
(paren
id|clear
)paren
suffix:semicolon
op_star
id|ccr
op_and_assign
op_complement
(paren
l_int|15
op_lshift
(paren
(paren
l_int|7
op_minus
id|crfD
)paren
op_lshift
l_int|2
)paren
)paren
suffix:semicolon
op_star
id|ccr
op_or_assign
(paren
id|value
op_lshift
(paren
(paren
l_int|7
op_minus
id|crfD
)paren
op_lshift
l_int|2
)paren
)paren
suffix:semicolon
macro_line|#ifdef DEBUG
id|printk
c_func
(paren
l_string|&quot;CR: %08x&bslash;n&quot;
comma
id|__FUNCTION__
comma
op_star
id|ccr
)paren
suffix:semicolon
macro_line|#endif
r_return
l_int|0
suffix:semicolon
)brace
eof
