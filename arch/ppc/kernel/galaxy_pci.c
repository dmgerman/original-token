multiline_comment|/*&n; *&n; *    Copyright (c) 2000 Grant Erickson &lt;grant@borg.umn.edu&gt;&n; *    All rights reserved.&n; *&n; *    Module name: galaxy_pci.c&n; *&n; *    Description:&n; *      PCI interface code for the IBM PowerPC 405GP on-chip PCI bus&n; *      interface.&n; *&n; *      Why is this file called &quot;galaxy_pci&quot;? Because on the original&n; *      IBM &quot;Walnut&quot; evaluation board schematic I have, the 405GP is&n; *      is labeled &quot;GALAXY&quot;.&n; *&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/string.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;asm/processor.h&gt;
macro_line|#include &lt;asm/system.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/machdep.h&gt;
macro_line|#include &quot;pci.h&quot;
multiline_comment|/* Preprocessor Defines */
DECL|macro|PCICFGADDR
mdefine_line|#define&t;PCICFGADDR&t;(volatile unsigned int *)(0xEEC00000)
DECL|macro|PCICFGDATA
mdefine_line|#define&t;PCICFGDATA&t;(volatile unsigned int *)(0xEEC00004)
multiline_comment|/* Function Prototypes */
DECL|variable|galaxy
id|decl_config_access_method
c_func
(paren
id|galaxy
)paren
suffix:semicolon
r_void
id|__init
DECL|function|galaxy_pcibios_fixup
id|galaxy_pcibios_fixup
c_func
(paren
r_void
)paren
(brace
)brace
r_void
id|__init
DECL|function|galaxy_setup_pci_ptrs
id|galaxy_setup_pci_ptrs
c_func
(paren
r_void
)paren
(brace
id|set_config_access_method
c_func
(paren
id|galaxy
)paren
suffix:semicolon
id|ppc_md.pcibios_fixup
op_assign
id|galaxy_pcibios_fixup
suffix:semicolon
)brace
r_int
DECL|function|galaxy_pcibios_read_config_byte
id|galaxy_pcibios_read_config_byte
c_func
(paren
r_int
r_char
id|bus
comma
r_int
r_char
id|dev_fn
comma
r_int
r_char
id|offset
comma
r_int
r_char
op_star
id|val
)paren
(brace
r_return
(paren
id|PCIBIOS_SUCCESSFUL
)paren
suffix:semicolon
)brace
r_int
DECL|function|galaxy_pcibios_read_config_word
id|galaxy_pcibios_read_config_word
c_func
(paren
r_int
r_char
id|bus
comma
r_int
r_char
id|dev_fn
comma
r_int
r_char
id|offset
comma
r_int
r_int
op_star
id|val
)paren
(brace
r_return
(paren
id|PCIBIOS_SUCCESSFUL
)paren
suffix:semicolon
)brace
r_int
DECL|function|galaxy_pcibios_read_config_dword
id|galaxy_pcibios_read_config_dword
c_func
(paren
r_int
r_char
id|bus
comma
r_int
r_char
id|dev_fn
comma
r_int
r_char
id|offset
comma
r_int
r_int
op_star
id|val
)paren
(brace
r_return
(paren
id|PCIBIOS_SUCCESSFUL
)paren
suffix:semicolon
)brace
r_int
DECL|function|galaxy_pcibios_write_config_byte
id|galaxy_pcibios_write_config_byte
c_func
(paren
r_int
r_char
id|bus
comma
r_int
r_char
id|dev_fn
comma
r_int
r_char
id|offset
comma
r_int
r_char
id|val
)paren
(brace
r_return
(paren
id|PCIBIOS_SUCCESSFUL
)paren
suffix:semicolon
)brace
r_int
DECL|function|galaxy_pcibios_write_config_word
id|galaxy_pcibios_write_config_word
c_func
(paren
r_int
r_char
id|bus
comma
r_int
r_char
id|dev_fn
comma
r_int
r_char
id|offset
comma
r_int
r_int
id|val
)paren
(brace
r_return
(paren
id|PCIBIOS_SUCCESSFUL
)paren
suffix:semicolon
)brace
r_int
DECL|function|galaxy_pcibios_write_config_dword
id|galaxy_pcibios_write_config_dword
c_func
(paren
r_int
r_char
id|bus
comma
r_int
r_char
id|dev_fn
comma
r_int
r_char
id|offset
comma
r_int
r_int
id|val
)paren
(brace
r_return
(paren
id|PCIBIOS_SUCCESSFUL
)paren
suffix:semicolon
)brace
eof
