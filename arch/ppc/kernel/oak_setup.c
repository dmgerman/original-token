multiline_comment|/*&n; *&n; *    Copyright (c) 1999 Grant Erickson &lt;grant@lcse.umn.edu&gt;&n; *&n; *    Module name: oak_setup.c&n; *&n; *    Description:&n; *      Architecture- / platform-specific boot-time initialization code for&n; *      the IBM PowerPC 403GCX &quot;Oak&quot; evaluation board. Adapted from original&n; *      code by Gary Thomas, Cort Dougan &lt;cort@cs.nmt.edu&gt;, and Dan Malek&n; *      &lt;dmalek@jlc.net&gt;.&n; *&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/string.h&gt;
macro_line|#include &lt;asm/machdep.h&gt;
macro_line|#include &lt;asm/page.h&gt;
macro_line|#include &quot;oak_setup.h&quot;
r_void
id|__init
DECL|function|oak_init
id|oak_init
c_func
(paren
r_int
r_int
id|r3
comma
r_int
r_int
id|r4
comma
r_int
r_int
id|r5
comma
r_int
r_int
id|r6
comma
r_int
r_int
id|r7
)paren
(brace
macro_line|#if 0
macro_line|#if defined(CONFIG_BLK_DEV_INITRD)
multiline_comment|/*&n;&t; * If the init RAM disk has been configured in, and there&squot;s a valid&n;&t; * starting address for it, set it up.&n;&t; */
r_if
c_cond
(paren
id|r4
)paren
(brace
id|initrd_start
op_assign
id|r4
op_plus
id|KERNELBASE
suffix:semicolon
id|initrd_end
op_assign
id|r5
op_plus
id|KERNELBASE
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_BLK_DEV_INITRD */
multiline_comment|/* Copy the kernel command line arguments to a safe place. */
r_if
c_cond
(paren
id|r6
)paren
(brace
op_star
(paren
r_char
op_star
)paren
(paren
id|r7
op_plus
id|KERNELBASE
)paren
op_assign
l_int|0
suffix:semicolon
id|strcpy
c_func
(paren
id|cmd_line
comma
(paren
r_char
op_star
)paren
(paren
id|r6
op_plus
id|KERNELBASE
)paren
)paren
suffix:semicolon
)brace
macro_line|#endif /* 0 */
id|ppc_md.setup_arch
op_assign
id|oak_setup_arch
suffix:semicolon
id|ppc_md.setup_residual
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.get_cpuinfo
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.irq_cannonicalize
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.init_IRQ
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.get_irq
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.init
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.restart
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.power_off
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.halt
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.time_init
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.set_rtc_time
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.get_rtc_time
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.calibrate_decr
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.kbd_setkeycode
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.kbd_getkeycode
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.kbd_translate
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.kbd_unexpected_up
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.kbd_leds
op_assign
l_int|NULL
suffix:semicolon
id|ppc_md.kbd_init_hw
op_assign
l_int|NULL
suffix:semicolon
macro_line|#if defined(CONFIG_MAGIC_SYSRQ)
id|ppc_md.kbd_sysrq_xlate
op_assign
l_int|NULL
suffix:semicolon
macro_line|#endif
r_return
suffix:semicolon
)brace
r_void
id|__init
DECL|function|oak_setup_arch
id|oak_setup_arch
c_func
(paren
r_void
)paren
(brace
)brace
eof
