macro_line|#ifndef _PPC_KERNEL_LOCAL_IRQ_H
DECL|macro|_PPC_KERNEL_LOCAL_IRQ_H
mdefine_line|#define _PPC_KERNEL_LOCAL_IRQ_H
macro_line|#include &lt;linux/kernel_stat.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
r_void
id|ppc_irq_dispatch_handler
c_func
(paren
r_struct
id|pt_regs
op_star
id|regs
comma
r_int
id|irq
)paren
suffix:semicolon
multiline_comment|/* Structure describing interrupts */
DECL|struct|hw_interrupt_type
r_struct
id|hw_interrupt_type
(brace
DECL|member|typename
r_const
r_char
op_star
r_typename
suffix:semicolon
DECL|member|startup
r_void
(paren
op_star
id|startup
)paren
(paren
r_int
r_int
id|irq
)paren
suffix:semicolon
DECL|member|shutdown
r_void
(paren
op_star
id|shutdown
)paren
(paren
r_int
r_int
id|irq
)paren
suffix:semicolon
DECL|member|handle
r_void
(paren
op_star
id|handle
)paren
(paren
r_int
r_int
id|irq
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
DECL|member|enable
r_void
(paren
op_star
id|enable
)paren
(paren
r_int
r_int
id|irq
)paren
suffix:semicolon
DECL|member|disable
r_void
(paren
op_star
id|disable
)paren
(paren
r_int
r_int
id|irq
)paren
suffix:semicolon
DECL|member|mask_and_ack
r_void
(paren
op_star
id|mask_and_ack
)paren
(paren
r_int
r_int
id|irq
)paren
suffix:semicolon
DECL|member|irq_offset
r_int
id|irq_offset
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|mask_irq
mdefine_line|#define mask_irq(irq) ({if (irq_desc[irq].ctl &amp;&amp; irq_desc[irq].ctl-&gt;disable) irq_desc[irq].ctl-&gt;disable(irq);})
DECL|macro|unmask_irq
mdefine_line|#define unmask_irq(irq) ({if (irq_desc[irq].ctl &amp;&amp; irq_desc[irq].ctl-&gt;enable) irq_desc[irq].ctl-&gt;enable(irq);})
DECL|macro|mask_and_ack_irq
mdefine_line|#define mask_and_ack_irq(irq) ({if (irq_desc[irq].ctl &amp;&amp; irq_desc[irq].ctl-&gt;mask_and_ack) irq_desc[irq].ctl-&gt;mask_and_ack(irq);})
DECL|struct|irqdesc
r_struct
id|irqdesc
(brace
DECL|member|action
r_struct
id|irqaction
op_star
id|action
suffix:semicolon
DECL|member|ctl
r_struct
id|hw_interrupt_type
op_star
id|ctl
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_struct
id|irqdesc
id|irq_desc
(braket
id|NR_IRQS
)braket
suffix:semicolon
DECL|macro|NR_MASK_WORDS
mdefine_line|#define NR_MASK_WORDS&t;((NR_IRQS + 31) / 32)
r_extern
r_int
id|ppc_spurious_interrupts
suffix:semicolon
r_extern
r_int
id|ppc_second_irq
suffix:semicolon
r_extern
r_struct
id|irqaction
op_star
id|ppc_irq_action
(braket
id|NR_IRQS
)braket
suffix:semicolon
r_extern
r_int
r_int
id|ppc_local_bh_count
(braket
id|NR_CPUS
)braket
suffix:semicolon
r_extern
r_int
r_int
id|ppc_local_irq_count
(braket
id|NR_CPUS
)braket
suffix:semicolon
r_extern
r_int
r_int
id|ppc_cached_irq_mask
(braket
id|NR_MASK_WORDS
)braket
suffix:semicolon
r_extern
r_int
r_int
id|ppc_lost_interrupts
(braket
id|NR_MASK_WORDS
)braket
suffix:semicolon
r_extern
id|atomic_t
id|ppc_n_lost_interrupts
suffix:semicolon
macro_line|#endif /* _PPC_KERNEL_LOCAL_IRQ_H */
eof
