multiline_comment|/*&n; * I/O &squot;port&squot; access routines&n; */
multiline_comment|/* This is really only correct for the MVME16xx (PreP)? */
DECL|macro|_IO_BASE
mdefine_line|#define _IO_BASE ((unsigned long)0x80000000)
r_int
r_char
DECL|function|inb
id|inb
c_func
(paren
r_int
id|port
)paren
(brace
r_return
(paren
op_star
(paren
(paren
r_int
r_char
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
)paren
)paren
suffix:semicolon
)brace
r_int
r_int
DECL|function|inw
id|inw
c_func
(paren
r_int
id|port
)paren
(brace
r_return
(paren
id|_LE_to_BE_short
c_func
(paren
op_star
(paren
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
)paren
)paren
)paren
suffix:semicolon
)brace
r_int
r_int
DECL|function|inl
id|inl
c_func
(paren
r_int
id|port
)paren
(brace
r_return
(paren
id|_LE_to_BE_long
c_func
(paren
op_star
(paren
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
)paren
)paren
)paren
suffix:semicolon
)brace
DECL|function|insb
r_void
id|insb
c_func
(paren
r_int
id|port
comma
r_char
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_char
op_star
id|io_ptr
op_assign
(paren
r_int
r_char
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
OG
l_int|0
)paren
(brace
op_star
id|ptr
op_increment
op_assign
op_star
id|io_ptr
suffix:semicolon
)brace
)brace
macro_line|#if 0
r_void
id|insw
c_func
(paren
r_int
id|port
comma
r_int
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_int
op_star
id|io_ptr
op_assign
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
OG
l_int|0
)paren
(brace
op_star
id|ptr
op_increment
op_assign
id|_LE_to_BE_short
c_func
(paren
op_star
id|io_ptr
)paren
suffix:semicolon
)brace
)brace
macro_line|#else
DECL|function|insw
r_void
id|insw
c_func
(paren
r_int
id|port
comma
r_int
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_int
op_star
id|io_ptr
op_assign
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
id|_insw
c_func
(paren
id|io_ptr
comma
id|ptr
comma
id|len
)paren
suffix:semicolon
)brace
macro_line|#endif
DECL|function|insw_unswapped
r_void
id|insw_unswapped
c_func
(paren
r_int
id|port
comma
r_int
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_int
op_star
id|io_ptr
op_assign
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
OG
l_int|0
)paren
(brace
op_star
id|ptr
op_increment
op_assign
op_star
id|io_ptr
suffix:semicolon
)brace
)brace
DECL|function|insl
r_void
id|insl
c_func
(paren
r_int
id|port
comma
r_int
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_int
op_star
id|io_ptr
op_assign
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
OG
l_int|0
)paren
(brace
op_star
id|ptr
op_increment
op_assign
id|_LE_to_BE_long
c_func
(paren
op_star
id|io_ptr
)paren
suffix:semicolon
)brace
)brace
DECL|function|inb_p
r_int
r_char
id|inb_p
c_func
(paren
r_int
id|port
)paren
(brace
r_return
(paren
id|inb
c_func
(paren
id|port
)paren
)paren
suffix:semicolon
)brace
DECL|function|inw_p
r_int
r_int
id|inw_p
c_func
(paren
r_int
id|port
)paren
(brace
r_return
(paren
id|inw
c_func
(paren
id|port
)paren
)paren
suffix:semicolon
)brace
DECL|function|inl_p
r_int
r_int
id|inl_p
c_func
(paren
r_int
id|port
)paren
(brace
r_return
(paren
id|inl
c_func
(paren
id|port
)paren
)paren
suffix:semicolon
)brace
r_int
r_char
DECL|function|outb
id|outb
c_func
(paren
r_int
r_char
id|val
comma
r_int
id|port
)paren
(brace
op_star
(paren
(paren
r_int
r_char
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
)paren
op_assign
(paren
id|val
)paren
suffix:semicolon
r_return
(paren
id|val
)paren
suffix:semicolon
)brace
r_int
r_int
DECL|function|outw
id|outw
c_func
(paren
r_int
r_int
id|val
comma
r_int
id|port
)paren
(brace
op_star
(paren
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
)paren
op_assign
id|_LE_to_BE_short
c_func
(paren
id|val
)paren
suffix:semicolon
r_return
(paren
id|val
)paren
suffix:semicolon
)brace
r_int
r_int
DECL|function|outl
id|outl
c_func
(paren
r_int
r_int
id|val
comma
r_int
id|port
)paren
(brace
op_star
(paren
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
)paren
op_assign
id|_LE_to_BE_long
c_func
(paren
id|val
)paren
suffix:semicolon
r_return
(paren
id|val
)paren
suffix:semicolon
)brace
DECL|function|outsb
r_void
id|outsb
c_func
(paren
r_int
id|port
comma
r_char
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_char
op_star
id|io_ptr
op_assign
(paren
r_int
r_char
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
OG
l_int|0
)paren
(brace
op_star
id|io_ptr
op_assign
op_star
id|ptr
op_increment
suffix:semicolon
)brace
)brace
macro_line|#if 0
r_void
id|outsw
c_func
(paren
r_int
id|port
comma
r_int
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_int
op_star
id|io_ptr
op_assign
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
OG
l_int|0
)paren
(brace
op_star
id|io_ptr
op_assign
id|_LE_to_BE_short
c_func
(paren
op_star
id|ptr
op_increment
)paren
suffix:semicolon
)brace
)brace
macro_line|#else
DECL|function|outsw
r_void
id|outsw
c_func
(paren
r_int
id|port
comma
r_int
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_int
op_star
id|io_ptr
op_assign
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
id|_outsw
c_func
(paren
id|io_ptr
comma
id|ptr
comma
id|len
)paren
suffix:semicolon
)brace
macro_line|#endif
DECL|function|outsw_unswapped
r_void
id|outsw_unswapped
c_func
(paren
r_int
id|port
comma
r_int
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_int
op_star
id|io_ptr
op_assign
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
OG
l_int|0
)paren
(brace
op_star
id|io_ptr
op_assign
op_star
id|ptr
op_increment
suffix:semicolon
)brace
)brace
DECL|function|outsl
r_void
id|outsl
c_func
(paren
r_int
id|port
comma
r_int
op_star
id|ptr
comma
r_int
id|len
)paren
(brace
r_int
r_int
op_star
id|io_ptr
op_assign
(paren
r_int
r_int
op_star
)paren
(paren
id|_IO_BASE
op_plus
id|port
)paren
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
OG
l_int|0
)paren
(brace
op_star
id|io_ptr
op_assign
id|_LE_to_BE_long
c_func
(paren
op_star
id|ptr
op_increment
)paren
suffix:semicolon
)brace
)brace
DECL|function|outb_p
r_int
r_char
id|outb_p
c_func
(paren
r_int
r_char
id|val
comma
r_int
id|port
)paren
(brace
r_return
(paren
id|outb
c_func
(paren
id|val
comma
id|port
)paren
)paren
suffix:semicolon
)brace
DECL|function|outw_p
r_int
r_int
id|outw_p
c_func
(paren
r_int
r_int
id|val
comma
r_int
id|port
)paren
(brace
r_return
(paren
id|outw
c_func
(paren
id|val
comma
id|port
)paren
)paren
suffix:semicolon
)brace
DECL|function|outl_p
r_int
r_int
id|outl_p
c_func
(paren
r_int
r_int
id|val
comma
r_int
id|port
)paren
(brace
r_return
(paren
id|outl
c_func
(paren
id|val
comma
id|port
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/* makes writing to the ibm acorn power management stuff easier -- Cort */
multiline_comment|/* args in forn of PA.B as in tech spec for ibm carolina */
DECL|function|ibm_write
r_void
id|ibm_write
c_func
(paren
r_int
r_char
id|val
comma
r_int
r_int
id|port
)paren
(brace
)brace
eof
