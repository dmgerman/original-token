multiline_comment|/* $Id: ioctl32.c,v 1.104 2001/01/03 09:28:19 anton Exp $&n; * ioctl32.c: Conversion between 32bit and 64bit native ioctls.&n; *&n; * Copyright (C) 1997-2000  Jakub Jelinek  (jakub@redhat.com)&n; * Copyright (C) 1998  Eddie C. Dost  (ecd@skynet.be)&n; *&n; * These routines maintain argument size conversion between 32bit and 64bit&n; * ioctls.&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/smp.h&gt;
macro_line|#include &lt;linux/smp_lock.h&gt;
macro_line|#include &lt;linux/ioctl.h&gt;
macro_line|#include &lt;linux/if.h&gt;
macro_line|#include &lt;linux/malloc.h&gt;
macro_line|#include &lt;linux/hdreg.h&gt;
macro_line|#include &lt;linux/raid/md.h&gt;
macro_line|#include &lt;linux/kd.h&gt;
macro_line|#include &lt;linux/route.h&gt;
macro_line|#include &lt;linux/in6.h&gt;
macro_line|#include &lt;linux/ipv6_route.h&gt;
macro_line|#include &lt;linux/skbuff.h&gt;
macro_line|#include &lt;linux/netlink.h&gt;
macro_line|#include &lt;linux/vt.h&gt;
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &lt;linux/file.h&gt;
macro_line|#include &lt;linux/fd.h&gt;
macro_line|#include &lt;linux/ppp_defs.h&gt;
macro_line|#include &lt;linux/if_ppp.h&gt;
macro_line|#include &lt;linux/if_pppox.h&gt;
macro_line|#include &lt;linux/mtio.h&gt;
macro_line|#include &lt;linux/cdrom.h&gt;
macro_line|#include &lt;linux/loop.h&gt;
macro_line|#include &lt;linux/auto_fs.h&gt;
macro_line|#include &lt;linux/devfs_fs.h&gt;
macro_line|#include &lt;linux/tty.h&gt;
macro_line|#include &lt;linux/vt_kern.h&gt;
macro_line|#include &lt;linux/fb.h&gt;
macro_line|#include &lt;linux/ext2_fs.h&gt;
macro_line|#include &lt;linux/videodev.h&gt;
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/raw.h&gt;
macro_line|#include &lt;linux/smb_fs.h&gt;
macro_line|#include &lt;linux/blkpg.h&gt;
macro_line|#include &lt;linux/blk.h&gt;
macro_line|#include &lt;linux/elevator.h&gt;
macro_line|#if defined(CONFIG_BLK_DEV_LVM) || defined(CONFIG_BLK_DEV_LVM_MODULE)
multiline_comment|/* Ugh. This header really is not clean */
DECL|macro|min
mdefine_line|#define min min
DECL|macro|max
mdefine_line|#define max max
macro_line|#include &lt;linux/lvm.h&gt;
macro_line|#endif /* LVM */
macro_line|#include &lt;scsi/scsi.h&gt;
multiline_comment|/* Ugly hack. */
DECL|macro|__KERNEL__
macro_line|#undef __KERNEL__
macro_line|#include &lt;scsi/scsi_ioctl.h&gt;
DECL|macro|__KERNEL__
mdefine_line|#define __KERNEL__
macro_line|#include &lt;scsi/sg.h&gt;
macro_line|#include &lt;asm/types.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &lt;asm/fbio.h&gt;
macro_line|#include &lt;asm/kbio.h&gt;
macro_line|#include &lt;asm/vuid_event.h&gt;
macro_line|#include &lt;asm/rtc.h&gt;
macro_line|#include &lt;asm/openpromio.h&gt;
macro_line|#include &lt;asm/envctrl.h&gt;
macro_line|#include &lt;asm/audioio.h&gt;
macro_line|#include &lt;linux/ethtool.h&gt;
macro_line|#include &lt;asm/display7seg.h&gt;
macro_line|#include &lt;asm/module.h&gt;
macro_line|#include &lt;linux/soundcard.h&gt;
macro_line|#include &lt;linux/atm.h&gt;
macro_line|#include &lt;linux/atmarp.h&gt;
macro_line|#include &lt;linux/atmclip.h&gt;
macro_line|#include &lt;linux/atmdev.h&gt;
macro_line|#include &lt;linux/atmioc.h&gt;
macro_line|#include &lt;linux/atmlec.h&gt;
macro_line|#include &lt;linux/atmmpc.h&gt;
macro_line|#include &lt;linux/atmsvc.h&gt;
macro_line|#include &lt;linux/atm_tcp.h&gt;
macro_line|#include &lt;linux/sonet.h&gt;
macro_line|#include &lt;linux/atm_suni.h&gt;
multiline_comment|/* Use this to get at 32-bit user passed pointers. &n;   See sys_sparc32.c for description about these. */
DECL|macro|A
mdefine_line|#define A(__x) ((unsigned long)(__x))
DECL|macro|AA
mdefine_line|#define AA(__x)&t;&t;&t;&t;&bslash;&n;({&t;unsigned long __ret;&t;&t;&bslash;&n;&t;__asm__ (&quot;srl&t;%0, 0, %0&quot;&t;&bslash;&n;&t;&t; : &quot;=r&quot; (__ret)&t;&t;&bslash;&n;&t;&t; : &quot;0&quot; (__x));&t;&t;&bslash;&n;&t;__ret;&t;&t;&t;&t;&bslash;&n;})
multiline_comment|/* Aiee. Someone does not find a difference between int and long */
DECL|macro|EXT2_IOC32_GETFLAGS
mdefine_line|#define EXT2_IOC32_GETFLAGS               _IOR(&squot;f&squot;, 1, int)
DECL|macro|EXT2_IOC32_SETFLAGS
mdefine_line|#define EXT2_IOC32_SETFLAGS               _IOW(&squot;f&squot;, 2, int)
DECL|macro|EXT2_IOC32_GETVERSION
mdefine_line|#define EXT2_IOC32_GETVERSION             _IOR(&squot;v&squot;, 1, int)
DECL|macro|EXT2_IOC32_SETVERSION
mdefine_line|#define EXT2_IOC32_SETVERSION             _IOW(&squot;v&squot;, 2, int)
r_extern
id|asmlinkage
r_int
id|sys_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
DECL|function|w_long
r_static
r_int
id|w_long
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
r_int
r_int
id|val
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|val
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
op_logical_and
id|put_user
c_func
(paren
id|val
comma
(paren
id|u32
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|rw_long
r_static
r_int
id|rw_long
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
r_int
r_int
id|val
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|val
comma
(paren
id|u32
op_star
)paren
id|arg
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|val
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
op_logical_and
id|put_user
c_func
(paren
id|val
comma
(paren
id|u32
op_star
)paren
id|arg
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|do_ext2_ioctl
r_static
r_int
id|do_ext2_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
multiline_comment|/* These are just misnamed, they actually get/put from/to user an int */
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|EXT2_IOC32_GETFLAGS
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_GETFLAGS
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EXT2_IOC32_SETFLAGS
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_SETFLAGS
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EXT2_IOC32_GETVERSION
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_GETVERSION
suffix:semicolon
r_break
suffix:semicolon
r_case
id|EXT2_IOC32_SETVERSION
suffix:colon
id|cmd
op_assign
id|EXT2_IOC_SETVERSION
suffix:semicolon
r_break
suffix:semicolon
)brace
r_return
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
)brace
DECL|struct|video_tuner32
r_struct
id|video_tuner32
(brace
DECL|member|tuner
id|s32
id|tuner
suffix:semicolon
DECL|member|name
id|u8
id|name
(braket
l_int|32
)braket
suffix:semicolon
DECL|member|rangelow
DECL|member|rangehigh
id|u32
id|rangelow
comma
id|rangehigh
suffix:semicolon
DECL|member|flags
id|u32
id|flags
suffix:semicolon
DECL|member|mode
DECL|member|signal
id|u16
id|mode
comma
id|signal
suffix:semicolon
)brace
suffix:semicolon
DECL|function|get_video_tuner32
r_static
r_int
id|get_video_tuner32
c_func
(paren
r_struct
id|video_tuner
op_star
id|kp
comma
r_struct
id|video_tuner32
op_star
id|up
)paren
(brace
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|kp-&gt;tuner
comma
op_amp
id|up-&gt;tuner
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|32
suffix:semicolon
id|i
op_increment
)paren
(brace
id|__get_user
c_func
(paren
id|kp-&gt;name
(braket
id|i
)braket
comma
op_amp
id|up-&gt;name
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
id|__get_user
c_func
(paren
id|kp-&gt;rangelow
comma
op_amp
id|up-&gt;rangelow
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;rangehigh
comma
op_amp
id|up-&gt;rangehigh
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;flags
comma
op_amp
id|up-&gt;flags
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;mode
comma
op_amp
id|up-&gt;mode
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;signal
comma
op_amp
id|up-&gt;signal
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|put_video_tuner32
r_static
r_int
id|put_video_tuner32
c_func
(paren
r_struct
id|video_tuner
op_star
id|kp
comma
r_struct
id|video_tuner32
op_star
id|up
)paren
(brace
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|kp-&gt;tuner
comma
op_amp
id|up-&gt;tuner
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|32
suffix:semicolon
id|i
op_increment
)paren
(brace
id|__put_user
c_func
(paren
id|kp-&gt;name
(braket
id|i
)braket
comma
op_amp
id|up-&gt;name
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
id|__put_user
c_func
(paren
id|kp-&gt;rangelow
comma
op_amp
id|up-&gt;rangelow
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;rangehigh
comma
op_amp
id|up-&gt;rangehigh
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;flags
comma
op_amp
id|up-&gt;flags
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;mode
comma
op_amp
id|up-&gt;mode
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;signal
comma
op_amp
id|up-&gt;signal
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|struct|video_buffer32
r_struct
id|video_buffer32
(brace
DECL|member|base
multiline_comment|/* void * */
id|u32
id|base
suffix:semicolon
DECL|member|height
DECL|member|width
DECL|member|depth
DECL|member|bytesperline
id|s32
id|height
comma
id|width
comma
id|depth
comma
id|bytesperline
suffix:semicolon
)brace
suffix:semicolon
DECL|function|get_video_buffer32
r_static
r_int
id|get_video_buffer32
c_func
(paren
r_struct
id|video_buffer
op_star
id|kp
comma
r_struct
id|video_buffer32
op_star
id|up
)paren
(brace
id|u32
id|tmp
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|tmp
comma
op_amp
id|up-&gt;base
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|kp-&gt;base
op_assign
(paren
r_void
op_star
)paren
(paren
(paren
r_int
r_int
)paren
id|tmp
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;height
comma
op_amp
id|up-&gt;height
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;width
comma
op_amp
id|up-&gt;width
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;depth
comma
op_amp
id|up-&gt;depth
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;bytesperline
comma
op_amp
id|up-&gt;bytesperline
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|put_video_buffer32
r_static
r_int
id|put_video_buffer32
c_func
(paren
r_struct
id|video_buffer
op_star
id|kp
comma
r_struct
id|video_buffer32
op_star
id|up
)paren
(brace
id|u32
id|tmp
op_assign
(paren
id|u32
)paren
(paren
(paren
r_int
r_int
)paren
id|kp-&gt;base
)paren
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|tmp
comma
op_amp
id|up-&gt;base
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|__put_user
c_func
(paren
id|kp-&gt;height
comma
op_amp
id|up-&gt;height
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;width
comma
op_amp
id|up-&gt;width
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;depth
comma
op_amp
id|up-&gt;depth
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;bytesperline
comma
op_amp
id|up-&gt;bytesperline
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|struct|video_clip32
r_struct
id|video_clip32
(brace
DECL|member|x
DECL|member|y
DECL|member|width
DECL|member|height
id|s32
id|x
comma
id|y
comma
id|width
comma
id|height
suffix:semicolon
DECL|member|next
multiline_comment|/* struct video_clip32 * */
id|u32
id|next
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|video_window32
r_struct
id|video_window32
(brace
DECL|member|x
DECL|member|y
DECL|member|width
DECL|member|height
DECL|member|chromakey
DECL|member|flags
id|u32
id|x
comma
id|y
comma
id|width
comma
id|height
comma
id|chromakey
comma
id|flags
suffix:semicolon
DECL|member|clips
multiline_comment|/* struct video_clip32 * */
id|u32
id|clips
suffix:semicolon
DECL|member|clipcount
id|s32
id|clipcount
suffix:semicolon
)brace
suffix:semicolon
DECL|function|free_kvideo_clips
r_static
r_void
id|free_kvideo_clips
c_func
(paren
r_struct
id|video_window
op_star
id|kp
)paren
(brace
r_struct
id|video_clip
op_star
id|cp
suffix:semicolon
id|cp
op_assign
id|kp-&gt;clips
suffix:semicolon
r_if
c_cond
(paren
id|cp
op_ne
l_int|NULL
)paren
(brace
id|kfree
c_func
(paren
id|cp
)paren
suffix:semicolon
)brace
)brace
DECL|function|get_video_window32
r_static
r_int
id|get_video_window32
c_func
(paren
r_struct
id|video_window
op_star
id|kp
comma
r_struct
id|video_window32
op_star
id|up
)paren
(brace
r_struct
id|video_clip32
op_star
id|ucp
suffix:semicolon
r_struct
id|video_clip
op_star
id|kcp
suffix:semicolon
r_int
id|nclips
comma
id|err
comma
id|i
suffix:semicolon
id|u32
id|tmp
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|kp-&gt;x
comma
op_amp
id|up-&gt;x
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|__get_user
c_func
(paren
id|kp-&gt;y
comma
op_amp
id|up-&gt;y
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;width
comma
op_amp
id|up-&gt;width
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;height
comma
op_amp
id|up-&gt;height
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;chromakey
comma
op_amp
id|up-&gt;chromakey
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;flags
comma
op_amp
id|up-&gt;flags
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kp-&gt;clipcount
comma
op_amp
id|up-&gt;clipcount
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|tmp
comma
op_amp
id|up-&gt;clips
)paren
suffix:semicolon
id|ucp
op_assign
(paren
r_struct
id|video_clip32
op_star
)paren
id|A
c_func
(paren
id|tmp
)paren
suffix:semicolon
id|kp-&gt;clips
op_assign
l_int|NULL
suffix:semicolon
id|nclips
op_assign
id|kp-&gt;clipcount
suffix:semicolon
r_if
c_cond
(paren
id|nclips
op_eq
l_int|0
)paren
(brace
r_return
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ucp
op_eq
l_int|0
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
multiline_comment|/* Peculiar interface... */
r_if
c_cond
(paren
id|nclips
OL
l_int|0
)paren
(brace
id|nclips
op_assign
id|VIDEO_CLIPMAP_SIZE
suffix:semicolon
)brace
id|kcp
op_assign
id|kmalloc
c_func
(paren
id|nclips
op_star
r_sizeof
(paren
r_struct
id|video_clip
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
id|err
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|kcp
op_eq
l_int|NULL
)paren
(brace
r_goto
id|cleanup_and_err
suffix:semicolon
)brace
id|kp-&gt;clips
op_assign
id|kcp
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|nclips
suffix:semicolon
id|i
op_increment
)paren
(brace
id|__get_user
c_func
(paren
id|kcp
(braket
id|i
)braket
dot
id|x
comma
op_amp
id|ucp
(braket
id|i
)braket
dot
id|x
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kcp
(braket
id|i
)braket
dot
id|y
comma
op_amp
id|ucp
(braket
id|i
)braket
dot
id|y
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kcp
(braket
id|i
)braket
dot
id|width
comma
op_amp
id|ucp
(braket
id|i
)braket
dot
id|width
)paren
suffix:semicolon
id|__get_user
c_func
(paren
id|kcp
(braket
id|i
)braket
dot
id|height
comma
op_amp
id|ucp
(braket
id|i
)braket
dot
id|height
)paren
suffix:semicolon
id|kcp
(braket
id|nclips
)braket
dot
id|next
op_assign
l_int|NULL
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
id|cleanup_and_err
suffix:colon
id|free_kvideo_clips
c_func
(paren
id|kp
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
multiline_comment|/* You get back everything except the clips... */
DECL|function|put_video_window32
r_static
r_int
id|put_video_window32
c_func
(paren
r_struct
id|video_window
op_star
id|kp
comma
r_struct
id|video_window32
op_star
id|up
)paren
(brace
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|kp-&gt;x
comma
op_amp
id|up-&gt;x
)paren
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|__put_user
c_func
(paren
id|kp-&gt;y
comma
op_amp
id|up-&gt;y
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;width
comma
op_amp
id|up-&gt;width
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;height
comma
op_amp
id|up-&gt;height
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;chromakey
comma
op_amp
id|up-&gt;chromakey
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;flags
comma
op_amp
id|up-&gt;flags
)paren
suffix:semicolon
id|__put_user
c_func
(paren
id|kp-&gt;clipcount
comma
op_amp
id|up-&gt;clipcount
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|macro|VIDIOCGTUNER32
mdefine_line|#define VIDIOCGTUNER32&t;&t;_IOWR(&squot;v&squot;,4, struct video_tuner32)
DECL|macro|VIDIOCSTUNER32
mdefine_line|#define VIDIOCSTUNER32&t;&t;_IOW(&squot;v&squot;,5, struct video_tuner32)
DECL|macro|VIDIOCGWIN32
mdefine_line|#define VIDIOCGWIN32&t;&t;_IOR(&squot;v&squot;,9, struct video_window32)
DECL|macro|VIDIOCSWIN32
mdefine_line|#define VIDIOCSWIN32&t;&t;_IOW(&squot;v&squot;,10, struct video_window32)
DECL|macro|VIDIOCGFBUF32
mdefine_line|#define VIDIOCGFBUF32&t;&t;_IOR(&squot;v&squot;,11, struct video_buffer32)
DECL|macro|VIDIOCSFBUF32
mdefine_line|#define VIDIOCSFBUF32&t;&t;_IOW(&squot;v&squot;,12, struct video_buffer32)
DECL|macro|VIDIOCGFREQ32
mdefine_line|#define VIDIOCGFREQ32&t;&t;_IOR(&squot;v&squot;,14, u32)
DECL|macro|VIDIOCSFREQ32
mdefine_line|#define VIDIOCSFREQ32&t;&t;_IOW(&squot;v&squot;,15, u32)
DECL|function|do_video_ioctl
r_static
r_int
id|do_video_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_union
(brace
r_struct
id|video_tuner
id|vt
suffix:semicolon
r_struct
id|video_buffer
id|vb
suffix:semicolon
r_struct
id|video_window
id|vw
suffix:semicolon
r_int
r_int
id|vx
suffix:semicolon
)brace
id|karg
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_void
op_star
id|up
op_assign
(paren
r_void
op_star
)paren
id|arg
suffix:semicolon
r_int
id|err
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* First, convert the command. */
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|VIDIOCGTUNER32
suffix:colon
id|cmd
op_assign
id|VIDIOCGTUNER
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSTUNER32
suffix:colon
id|cmd
op_assign
id|VIDIOCSTUNER
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGWIN32
suffix:colon
id|cmd
op_assign
id|VIDIOCGWIN
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSWIN32
suffix:colon
id|cmd
op_assign
id|VIDIOCSWIN
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGFBUF32
suffix:colon
id|cmd
op_assign
id|VIDIOCGFBUF
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSFBUF32
suffix:colon
id|cmd
op_assign
id|VIDIOCSFBUF
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGFREQ32
suffix:colon
id|cmd
op_assign
id|VIDIOCGFREQ
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSFREQ32
suffix:colon
id|cmd
op_assign
id|VIDIOCSFREQ
suffix:semicolon
r_break
suffix:semicolon
)brace
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|VIDIOCSTUNER
suffix:colon
r_case
id|VIDIOCGTUNER
suffix:colon
id|err
op_assign
id|get_video_tuner32
c_func
(paren
op_amp
id|karg.vt
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSWIN
suffix:colon
id|err
op_assign
id|get_video_window32
c_func
(paren
op_amp
id|karg.vw
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSFBUF
suffix:colon
id|err
op_assign
id|get_video_buffer32
c_func
(paren
op_amp
id|karg.vb
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCSFREQ
suffix:colon
id|err
op_assign
id|get_user
c_func
(paren
id|karg.vx
comma
(paren
id|u32
op_star
)paren
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
r_goto
id|out
suffix:semicolon
)brace
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|VIDIOCSWIN
)paren
(brace
id|free_kvideo_clips
c_func
(paren
op_amp
id|karg.vw
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|err
op_eq
l_int|0
)paren
(brace
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|VIDIOCGTUNER
suffix:colon
id|err
op_assign
id|put_video_tuner32
c_func
(paren
op_amp
id|karg.vt
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGWIN
suffix:colon
id|err
op_assign
id|put_video_window32
c_func
(paren
op_amp
id|karg.vw
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGFBUF
suffix:colon
id|err
op_assign
id|put_video_buffer32
c_func
(paren
op_amp
id|karg.vb
comma
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VIDIOCGFREQ
suffix:colon
id|err
op_assign
id|put_user
c_func
(paren
(paren
(paren
id|u32
)paren
id|karg.vx
)paren
comma
(paren
id|u32
op_star
)paren
id|up
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
suffix:semicolon
)brace
id|out
suffix:colon
r_return
id|err
suffix:semicolon
)brace
DECL|struct|timeval32
r_struct
id|timeval32
(brace
DECL|member|tv_sec
r_int
id|tv_sec
suffix:semicolon
DECL|member|tv_usec
r_int
id|tv_usec
suffix:semicolon
)brace
suffix:semicolon
DECL|function|do_siocgstamp
r_static
r_int
id|do_siocgstamp
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|timeval32
op_star
id|up
op_assign
(paren
r_struct
id|timeval32
op_star
)paren
id|arg
suffix:semicolon
r_struct
id|timeval
id|ktv
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
id|err
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|ktv
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|err
op_assign
id|put_user
c_func
(paren
id|ktv.tv_sec
comma
op_amp
id|up-&gt;tv_sec
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ktv.tv_usec
comma
op_amp
id|up-&gt;tv_usec
)paren
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|ifmap32
r_struct
id|ifmap32
(brace
DECL|member|mem_start
id|u32
id|mem_start
suffix:semicolon
DECL|member|mem_end
id|u32
id|mem_end
suffix:semicolon
DECL|member|base_addr
r_int
r_int
id|base_addr
suffix:semicolon
DECL|member|irq
r_int
r_char
id|irq
suffix:semicolon
DECL|member|dma
r_int
r_char
id|dma
suffix:semicolon
DECL|member|port
r_int
r_char
id|port
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ifreq32
r_struct
id|ifreq32
(brace
DECL|macro|IFHWADDRLEN
mdefine_line|#define IFHWADDRLEN     6
DECL|macro|IFNAMSIZ
mdefine_line|#define IFNAMSIZ        16
r_union
(brace
DECL|member|ifrn_name
r_char
id|ifrn_name
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
multiline_comment|/* if name, e.g. &quot;en0&quot; */
DECL|member|ifr_ifrn
)brace
id|ifr_ifrn
suffix:semicolon
r_union
(brace
DECL|member|ifru_addr
r_struct
id|sockaddr
id|ifru_addr
suffix:semicolon
DECL|member|ifru_dstaddr
r_struct
id|sockaddr
id|ifru_dstaddr
suffix:semicolon
DECL|member|ifru_broadaddr
r_struct
id|sockaddr
id|ifru_broadaddr
suffix:semicolon
DECL|member|ifru_netmask
r_struct
id|sockaddr
id|ifru_netmask
suffix:semicolon
DECL|member|ifru_hwaddr
r_struct
id|sockaddr
id|ifru_hwaddr
suffix:semicolon
DECL|member|ifru_flags
r_int
id|ifru_flags
suffix:semicolon
DECL|member|ifru_ivalue
r_int
id|ifru_ivalue
suffix:semicolon
DECL|member|ifru_mtu
r_int
id|ifru_mtu
suffix:semicolon
DECL|member|ifru_map
r_struct
id|ifmap32
id|ifru_map
suffix:semicolon
DECL|member|ifru_slave
r_char
id|ifru_slave
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
multiline_comment|/* Just fits the size */
DECL|member|ifru_newname
r_char
id|ifru_newname
(braket
id|IFNAMSIZ
)braket
suffix:semicolon
DECL|member|ifru_data
id|__kernel_caddr_t32
id|ifru_data
suffix:semicolon
DECL|member|ifr_ifru
)brace
id|ifr_ifru
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ifconf32
r_struct
id|ifconf32
(brace
DECL|member|ifc_len
r_int
id|ifc_len
suffix:semicolon
multiline_comment|/* size of buffer       */
DECL|member|ifcbuf
id|__kernel_caddr_t32
id|ifcbuf
suffix:semicolon
)brace
suffix:semicolon
DECL|function|dev_ifname32
r_static
r_int
id|dev_ifname32
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|net_device
op_star
id|dev
suffix:semicolon
r_struct
id|ifreq32
id|ifr32
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifr32
comma
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|dev
op_assign
id|dev_get_by_index
c_func
(paren
id|ifr32.ifr_ifindex
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|dev
)paren
r_return
op_minus
id|ENODEV
suffix:semicolon
id|strcpy
c_func
(paren
id|ifr32.ifr_name
comma
id|dev-&gt;name
)paren
suffix:semicolon
id|err
op_assign
id|copy_to_user
c_func
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
op_amp
id|ifr32
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
suffix:semicolon
r_return
(paren
id|err
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|dev_ifconf
r_static
r_inline
r_int
id|dev_ifconf
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ifconf32
id|ifc32
suffix:semicolon
r_struct
id|ifconf
id|ifc
suffix:semicolon
r_struct
id|ifreq32
op_star
id|ifr32
suffix:semicolon
r_struct
id|ifreq
op_star
id|ifr
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
r_int
id|i
comma
id|j
suffix:semicolon
r_int
id|err
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifc32
comma
(paren
r_struct
id|ifconf32
op_star
)paren
id|arg
comma
r_sizeof
(paren
r_struct
id|ifconf32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|ifc32.ifcbuf
op_eq
l_int|0
)paren
(brace
id|ifc32.ifc_len
op_assign
l_int|0
suffix:semicolon
id|ifc.ifc_len
op_assign
l_int|0
suffix:semicolon
id|ifc.ifc_buf
op_assign
l_int|NULL
suffix:semicolon
)brace
r_else
(brace
id|ifc.ifc_len
op_assign
(paren
(paren
id|ifc32.ifc_len
op_div
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
op_plus
l_int|1
)paren
op_star
r_sizeof
(paren
r_struct
id|ifreq
)paren
suffix:semicolon
id|ifc.ifc_buf
op_assign
id|kmalloc
(paren
id|ifc.ifc_len
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ifc.ifc_buf
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
)brace
id|ifr
op_assign
id|ifc.ifc_req
suffix:semicolon
id|ifr32
op_assign
(paren
r_struct
id|ifreq32
op_star
)paren
id|A
c_func
(paren
id|ifc32.ifcbuf
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ifc32.ifc_len
suffix:semicolon
id|i
op_add_assign
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
(brace
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|ifr
op_increment
comma
id|ifr32
op_increment
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
(brace
id|kfree
(paren
id|ifc.ifc_buf
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|SIOCGIFCONF
comma
(paren
r_int
r_int
)paren
op_amp
id|ifc
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|ifr
op_assign
id|ifc.ifc_req
suffix:semicolon
id|ifr32
op_assign
(paren
r_struct
id|ifreq32
op_star
)paren
id|A
c_func
(paren
id|ifc32.ifcbuf
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
comma
id|j
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ifc32.ifc_len
op_logical_and
id|j
OL
id|ifc.ifc_len
suffix:semicolon
id|i
op_add_assign
r_sizeof
(paren
r_struct
id|ifreq32
)paren
comma
id|j
op_add_assign
r_sizeof
(paren
r_struct
id|ifreq
)paren
)paren
(brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|ifr32
op_increment
comma
id|ifr
op_increment
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_if
c_cond
(paren
id|i
op_le
id|ifc32.ifc_len
)paren
id|ifc32.ifc_len
op_assign
id|i
suffix:semicolon
r_else
id|ifc32.ifc_len
op_assign
id|i
op_minus
r_sizeof
(paren
r_struct
id|ifreq32
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_struct
id|ifconf32
op_star
)paren
id|arg
comma
op_amp
id|ifc32
comma
r_sizeof
(paren
r_struct
id|ifconf32
)paren
)paren
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|ifc.ifc_buf
op_ne
l_int|NULL
)paren
(brace
id|kfree
(paren
id|ifc.ifc_buf
)paren
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|dev_ifsioc
r_static
r_inline
r_int
id|dev_ifsioc
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|ifreq
id|ifr
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SIOCSIFMAP
suffix:colon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|ifr
comma
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
r_sizeof
(paren
id|ifr.ifr_name
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.mem_start
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.mem_start
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.mem_end
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.mem_end
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.base_addr
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.base_addr
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.irq
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.irq
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.dma
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.dma
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ifr.ifr_map.port
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.port
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SIOCGPPPSTATS
suffix:colon
r_case
id|SIOCGPPPCSTATS
suffix:colon
r_case
id|SIOCGPPPVER
suffix:colon
r_case
id|SIOCETHTOOL
suffix:colon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifr
comma
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|ifr.ifr_data
op_assign
(paren
id|__kernel_caddr_t
)paren
id|get_free_page
c_func
(paren
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ifr.ifr_data
)paren
r_return
op_minus
id|EAGAIN
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|SIOCETHTOOL
)paren
(brace
id|u32
id|data
suffix:semicolon
id|__get_user
c_func
(paren
id|data
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_data
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|ifr.ifr_data
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|data
)paren
comma
r_sizeof
(paren
r_struct
id|ethtool_cmd
)paren
)paren
)paren
(brace
id|free_page
c_func
(paren
(paren
r_int
r_int
)paren
id|ifr.ifr_data
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|ifr
comma
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|ifr
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|SIOCGIFFLAGS
suffix:colon
r_case
id|SIOCGIFMETRIC
suffix:colon
r_case
id|SIOCGIFMTU
suffix:colon
r_case
id|SIOCGIFMEM
suffix:colon
r_case
id|SIOCGIFHWADDR
suffix:colon
r_case
id|SIOCGIFINDEX
suffix:colon
r_case
id|SIOCGIFADDR
suffix:colon
r_case
id|SIOCGIFBRDADDR
suffix:colon
r_case
id|SIOCGIFDSTADDR
suffix:colon
r_case
id|SIOCGIFNETMASK
suffix:colon
r_case
id|SIOCGIFTXQLEN
suffix:colon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
op_amp
id|ifr
comma
r_sizeof
(paren
r_struct
id|ifreq32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SIOCGPPPSTATS
suffix:colon
r_case
id|SIOCGPPPCSTATS
suffix:colon
r_case
id|SIOCGPPPVER
suffix:colon
r_case
id|SIOCETHTOOL
suffix:colon
(brace
id|u32
id|data
suffix:semicolon
r_int
id|len
suffix:semicolon
id|__get_user
c_func
(paren
id|data
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_data
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|SIOCETHTOOL
)paren
(brace
id|len
op_assign
r_sizeof
(paren
r_struct
id|ethtool_cmd
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|cmd
op_eq
id|SIOCGPPPVER
)paren
(brace
id|len
op_assign
id|strlen
c_func
(paren
(paren
r_char
op_star
)paren
id|ifr.ifr_data
)paren
op_plus
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|cmd
op_eq
id|SIOCGPPPCSTATS
)paren
(brace
id|len
op_assign
r_sizeof
(paren
r_struct
id|ppp_comp_stats
)paren
suffix:semicolon
)brace
r_else
id|len
op_assign
r_sizeof
(paren
r_struct
id|ppp_stats
)paren
suffix:semicolon
id|len
op_assign
id|copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|data
)paren
comma
id|ifr.ifr_data
comma
id|len
)paren
suffix:semicolon
id|free_page
c_func
(paren
(paren
r_int
r_int
)paren
id|ifr.ifr_data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|len
)paren
(brace
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
r_case
id|SIOCGIFMAP
suffix:colon
id|err
op_assign
id|copy_to_user
c_func
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
comma
op_amp
id|ifr
comma
r_sizeof
(paren
id|ifr.ifr_name
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.mem_start
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.mem_start
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.mem_end
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.mem_end
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.base_addr
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.base_addr
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.irq
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.irq
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.dma
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.dma
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|ifr.ifr_map.port
comma
op_amp
(paren
(paren
(paren
r_struct
id|ifreq32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifr_ifru.ifru_map.port
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|rtentry32
r_struct
id|rtentry32
(brace
DECL|member|rt_pad1
id|u32
id|rt_pad1
suffix:semicolon
DECL|member|rt_dst
r_struct
id|sockaddr
id|rt_dst
suffix:semicolon
multiline_comment|/* target address               */
DECL|member|rt_gateway
r_struct
id|sockaddr
id|rt_gateway
suffix:semicolon
multiline_comment|/* gateway addr (RTF_GATEWAY)   */
DECL|member|rt_genmask
r_struct
id|sockaddr
id|rt_genmask
suffix:semicolon
multiline_comment|/* target network mask (IP)     */
DECL|member|rt_flags
r_int
r_int
id|rt_flags
suffix:semicolon
DECL|member|rt_pad2
r_int
id|rt_pad2
suffix:semicolon
DECL|member|rt_pad3
id|u32
id|rt_pad3
suffix:semicolon
DECL|member|rt_tos
r_int
r_char
id|rt_tos
suffix:semicolon
DECL|member|rt_class
r_int
r_char
id|rt_class
suffix:semicolon
DECL|member|rt_pad4
r_int
id|rt_pad4
suffix:semicolon
DECL|member|rt_metric
r_int
id|rt_metric
suffix:semicolon
multiline_comment|/* +1 for binary compatibility! */
DECL|member|rt_dev
multiline_comment|/* char * */
id|u32
id|rt_dev
suffix:semicolon
multiline_comment|/* forcing the device at add    */
DECL|member|rt_mtu
id|u32
id|rt_mtu
suffix:semicolon
multiline_comment|/* per route MTU/Window         */
DECL|member|rt_window
id|u32
id|rt_window
suffix:semicolon
multiline_comment|/* Window clamping              */
DECL|member|rt_irtt
r_int
r_int
id|rt_irtt
suffix:semicolon
multiline_comment|/* Initial RTT                  */
)brace
suffix:semicolon
DECL|struct|in6_rtmsg32
r_struct
id|in6_rtmsg32
(brace
DECL|member|rtmsg_dst
r_struct
id|in6_addr
id|rtmsg_dst
suffix:semicolon
DECL|member|rtmsg_src
r_struct
id|in6_addr
id|rtmsg_src
suffix:semicolon
DECL|member|rtmsg_gateway
r_struct
id|in6_addr
id|rtmsg_gateway
suffix:semicolon
DECL|member|rtmsg_type
id|u32
id|rtmsg_type
suffix:semicolon
DECL|member|rtmsg_dst_len
id|u16
id|rtmsg_dst_len
suffix:semicolon
DECL|member|rtmsg_src_len
id|u16
id|rtmsg_src_len
suffix:semicolon
DECL|member|rtmsg_metric
id|u32
id|rtmsg_metric
suffix:semicolon
DECL|member|rtmsg_info
id|u32
id|rtmsg_info
suffix:semicolon
DECL|member|rtmsg_flags
id|u32
id|rtmsg_flags
suffix:semicolon
DECL|member|rtmsg_ifindex
id|s32
id|rtmsg_ifindex
suffix:semicolon
)brace
suffix:semicolon
r_extern
r_struct
id|socket
op_star
id|sockfd_lookup
c_func
(paren
r_int
id|fd
comma
r_int
op_star
id|err
)paren
suffix:semicolon
DECL|function|routing_ioctl
r_static
r_inline
r_int
id|routing_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|ret
suffix:semicolon
r_void
op_star
id|r
op_assign
l_int|NULL
suffix:semicolon
r_struct
id|in6_rtmsg
id|r6
suffix:semicolon
r_struct
id|rtentry
id|r4
suffix:semicolon
r_char
id|devname
(braket
l_int|16
)braket
suffix:semicolon
id|u32
id|rtdev
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|socket
op_star
id|mysock
op_assign
id|sockfd_lookup
c_func
(paren
id|fd
comma
op_amp
id|ret
)paren
suffix:semicolon
r_if
c_cond
(paren
id|mysock
op_logical_and
id|mysock-&gt;sk
op_logical_and
id|mysock-&gt;sk-&gt;family
op_eq
id|AF_INET6
)paren
(brace
multiline_comment|/* ipv6 */
id|ret
op_assign
id|copy_from_user
(paren
op_amp
id|r6.rtmsg_dst
comma
op_amp
(paren
(paren
(paren
r_struct
id|in6_rtmsg32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rtmsg_dst
)paren
comma
l_int|3
op_star
r_sizeof
(paren
r_struct
id|in6_addr
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_type
comma
op_amp
(paren
(paren
(paren
r_struct
id|in6_rtmsg32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rtmsg_type
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_dst_len
comma
op_amp
(paren
(paren
(paren
r_struct
id|in6_rtmsg32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rtmsg_dst_len
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_src_len
comma
op_amp
(paren
(paren
(paren
r_struct
id|in6_rtmsg32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rtmsg_src_len
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_metric
comma
op_amp
(paren
(paren
(paren
r_struct
id|in6_rtmsg32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rtmsg_metric
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_info
comma
op_amp
(paren
(paren
(paren
r_struct
id|in6_rtmsg32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rtmsg_info
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_flags
comma
op_amp
(paren
(paren
(paren
r_struct
id|in6_rtmsg32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rtmsg_flags
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r6.rtmsg_ifindex
comma
op_amp
(paren
(paren
(paren
r_struct
id|in6_rtmsg32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rtmsg_ifindex
)paren
)paren
suffix:semicolon
id|r
op_assign
(paren
r_void
op_star
)paren
op_amp
id|r6
suffix:semicolon
)brace
r_else
(brace
multiline_comment|/* ipv4 */
id|ret
op_assign
id|copy_from_user
(paren
op_amp
id|r4.rt_dst
comma
op_amp
(paren
(paren
(paren
r_struct
id|rtentry32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rt_dst
)paren
comma
l_int|3
op_star
r_sizeof
(paren
r_struct
id|sockaddr
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_flags
comma
op_amp
(paren
(paren
(paren
r_struct
id|rtentry32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rt_flags
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_metric
comma
op_amp
(paren
(paren
(paren
r_struct
id|rtentry32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rt_metric
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_mtu
comma
op_amp
(paren
(paren
(paren
r_struct
id|rtentry32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rt_mtu
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_window
comma
op_amp
(paren
(paren
(paren
r_struct
id|rtentry32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rt_window
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|r4.rt_irtt
comma
op_amp
(paren
(paren
(paren
r_struct
id|rtentry32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rt_irtt
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
(paren
id|rtdev
comma
op_amp
(paren
(paren
(paren
r_struct
id|rtentry32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rt_dev
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rtdev
)paren
(brace
id|ret
op_or_assign
id|copy_from_user
(paren
id|devname
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|rtdev
)paren
comma
l_int|15
)paren
suffix:semicolon
id|r4.rt_dev
op_assign
id|devname
suffix:semicolon
id|devname
(braket
l_int|15
)braket
op_assign
l_int|0
suffix:semicolon
)brace
r_else
id|r4.rt_dev
op_assign
l_int|0
suffix:semicolon
id|r
op_assign
(paren
r_void
op_star
)paren
op_amp
id|r4
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ret
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
)paren
id|r
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|hd_geometry32
r_struct
id|hd_geometry32
(brace
DECL|member|heads
r_int
r_char
id|heads
suffix:semicolon
DECL|member|sectors
r_int
r_char
id|sectors
suffix:semicolon
DECL|member|cylinders
r_int
r_int
id|cylinders
suffix:semicolon
DECL|member|start
id|u32
id|start
suffix:semicolon
)brace
suffix:semicolon
DECL|function|hdio_getgeo
r_static
r_inline
r_int
id|hdio_getgeo
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|hd_geometry
id|geo
suffix:semicolon
r_int
id|err
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|HDIO_GETGEO
comma
(paren
r_int
r_int
)paren
op_amp
id|geo
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|err
op_assign
id|copy_to_user
(paren
(paren
r_struct
id|hd_geometry32
op_star
)paren
id|arg
comma
op_amp
id|geo
comma
l_int|4
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
(paren
id|geo.start
comma
op_amp
(paren
(paren
(paren
r_struct
id|hd_geometry32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|start
)paren
)paren
suffix:semicolon
)brace
r_return
id|err
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|struct|fbcmap32
r_struct
id|fbcmap32
(brace
DECL|member|index
r_int
id|index
suffix:semicolon
multiline_comment|/* first element (0 origin) */
DECL|member|count
r_int
id|count
suffix:semicolon
DECL|member|red
id|u32
id|red
suffix:semicolon
DECL|member|green
id|u32
id|green
suffix:semicolon
DECL|member|blue
id|u32
id|blue
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|FBIOPUTCMAP32
mdefine_line|#define FBIOPUTCMAP32&t;_IOW(&squot;F&squot;, 3, struct fbcmap32)
DECL|macro|FBIOGETCMAP32
mdefine_line|#define FBIOGETCMAP32&t;_IOW(&squot;F&squot;, 4, struct fbcmap32)
DECL|function|fbiogetputcmap
r_static
r_inline
r_int
id|fbiogetputcmap
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|fbcmap
id|f
suffix:semicolon
r_int
id|ret
suffix:semicolon
r_char
id|red
(braket
l_int|256
)braket
comma
id|green
(braket
l_int|256
)braket
comma
id|blue
(braket
l_int|256
)braket
suffix:semicolon
id|u32
id|r
comma
id|g
comma
id|b
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|ret
op_assign
id|get_user
c_func
(paren
id|f.index
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|index
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|f.count
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|count
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|r
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|red
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|g
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|green
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|b
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|blue
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
(paren
id|f.index
OL
l_int|0
)paren
op_logical_or
(paren
id|f.index
OG
l_int|255
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|f.index
op_plus
id|f.count
OG
l_int|256
)paren
id|f.count
op_assign
l_int|256
op_minus
id|f.index
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|FBIOPUTCMAP32
)paren
(brace
id|ret
op_assign
id|copy_from_user
(paren
id|red
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|r
)paren
comma
id|f.count
)paren
suffix:semicolon
id|ret
op_or_assign
id|copy_from_user
(paren
id|green
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|g
)paren
comma
id|f.count
)paren
suffix:semicolon
id|ret
op_or_assign
id|copy_from_user
(paren
id|blue
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|b
)paren
comma
id|f.count
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|f.red
op_assign
id|red
suffix:semicolon
id|f.green
op_assign
id|green
suffix:semicolon
id|f.blue
op_assign
id|blue
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
(paren
id|fd
comma
(paren
id|cmd
op_eq
id|FBIOPUTCMAP32
)paren
ques
c_cond
id|FBIOPUTCMAP_SPARC
suffix:colon
id|FBIOGETCMAP_SPARC
comma
(paren
r_int
)paren
op_amp
id|f
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ret
op_logical_and
id|cmd
op_eq
id|FBIOGETCMAP32
)paren
(brace
id|ret
op_assign
id|copy_to_user
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|r
)paren
comma
id|red
comma
id|f.count
)paren
suffix:semicolon
id|ret
op_or_assign
id|copy_to_user
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|g
)paren
comma
id|green
comma
id|f.count
)paren
suffix:semicolon
id|ret
op_or_assign
id|copy_to_user
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|b
)paren
comma
id|blue
comma
id|f.count
)paren
suffix:semicolon
)brace
r_return
id|ret
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|struct|fbcursor32
r_struct
id|fbcursor32
(brace
DECL|member|set
r_int
id|set
suffix:semicolon
multiline_comment|/* what to set, choose from the list above */
DECL|member|enable
r_int
id|enable
suffix:semicolon
multiline_comment|/* cursor on/off */
DECL|member|pos
r_struct
id|fbcurpos
id|pos
suffix:semicolon
multiline_comment|/* cursor position */
DECL|member|hot
r_struct
id|fbcurpos
id|hot
suffix:semicolon
multiline_comment|/* cursor hot spot */
DECL|member|cmap
r_struct
id|fbcmap32
id|cmap
suffix:semicolon
multiline_comment|/* color map info */
DECL|member|size
r_struct
id|fbcurpos
id|size
suffix:semicolon
multiline_comment|/* cursor bit map size */
DECL|member|image
id|u32
id|image
suffix:semicolon
multiline_comment|/* cursor image bits */
DECL|member|mask
id|u32
id|mask
suffix:semicolon
multiline_comment|/* cursor mask bits */
)brace
suffix:semicolon
DECL|macro|FBIOSCURSOR32
mdefine_line|#define FBIOSCURSOR32&t;_IOW(&squot;F&squot;, 24, struct fbcursor32)
DECL|macro|FBIOGCURSOR32
mdefine_line|#define FBIOGCURSOR32&t;_IOW(&squot;F&squot;, 25, struct fbcursor32)
DECL|function|fbiogscursor
r_static
r_inline
r_int
id|fbiogscursor
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|fbcursor
id|f
suffix:semicolon
r_int
id|ret
suffix:semicolon
r_char
id|red
(braket
l_int|2
)braket
comma
id|green
(braket
l_int|2
)braket
comma
id|blue
(braket
l_int|2
)braket
suffix:semicolon
r_char
id|image
(braket
l_int|128
)braket
comma
id|mask
(braket
l_int|128
)braket
suffix:semicolon
id|u32
id|r
comma
id|g
comma
id|b
suffix:semicolon
id|u32
id|m
comma
id|i
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|ret
op_assign
id|copy_from_user
(paren
op_amp
id|f
comma
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
comma
l_int|2
op_star
r_sizeof
(paren
r_int
)paren
op_plus
l_int|2
op_star
r_sizeof
(paren
r_struct
id|fbcurpos
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|f.size.fbx
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|size.fbx
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|f.size.fby
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|size.fby
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|f.cmap.index
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cmap.index
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|f.cmap.count
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cmap.count
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|r
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cmap.red
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|g
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cmap.green
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|b
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cmap.blue
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|m
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mask
)paren
)paren
suffix:semicolon
id|ret
op_or_assign
id|__get_user
c_func
(paren
id|i
comma
op_amp
(paren
(paren
(paren
r_struct
id|fbcursor32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|image
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|f.set
op_amp
id|FB_CUR_SETCMAP
)paren
(brace
r_if
c_cond
(paren
(paren
id|uint
)paren
id|f.size.fby
OG
l_int|32
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|ret
op_assign
id|copy_from_user
(paren
id|mask
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|m
)paren
comma
id|f.size.fby
op_star
l_int|4
)paren
suffix:semicolon
id|ret
op_or_assign
id|copy_from_user
(paren
id|image
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|i
)paren
comma
id|f.size.fby
op_star
l_int|4
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|f.image
op_assign
id|image
suffix:semicolon
id|f.mask
op_assign
id|mask
suffix:semicolon
)brace
r_if
c_cond
(paren
id|f.set
op_amp
id|FB_CUR_SETCMAP
)paren
(brace
id|ret
op_assign
id|copy_from_user
(paren
id|red
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|r
)paren
comma
l_int|2
)paren
suffix:semicolon
id|ret
op_or_assign
id|copy_from_user
(paren
id|green
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|g
)paren
comma
l_int|2
)paren
suffix:semicolon
id|ret
op_or_assign
id|copy_from_user
(paren
id|blue
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|b
)paren
comma
l_int|2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|f.cmap.red
op_assign
id|red
suffix:semicolon
id|f.cmap.green
op_assign
id|green
suffix:semicolon
id|f.cmap.blue
op_assign
id|blue
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|FBIOSCURSOR
comma
(paren
r_int
)paren
op_amp
id|f
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|fb_fix_screeninfo32
r_struct
id|fb_fix_screeninfo32
(brace
DECL|member|id
r_char
id|id
(braket
l_int|16
)braket
suffix:semicolon
DECL|member|smem_start
id|__kernel_caddr_t32
id|smem_start
suffix:semicolon
DECL|member|smem_len
id|__u32
id|smem_len
suffix:semicolon
DECL|member|type
id|__u32
id|type
suffix:semicolon
DECL|member|type_aux
id|__u32
id|type_aux
suffix:semicolon
DECL|member|visual
id|__u32
id|visual
suffix:semicolon
DECL|member|xpanstep
id|__u16
id|xpanstep
suffix:semicolon
DECL|member|ypanstep
id|__u16
id|ypanstep
suffix:semicolon
DECL|member|ywrapstep
id|__u16
id|ywrapstep
suffix:semicolon
DECL|member|line_length
id|__u32
id|line_length
suffix:semicolon
DECL|member|mmio_start
id|__kernel_caddr_t32
id|mmio_start
suffix:semicolon
DECL|member|mmio_len
id|__u32
id|mmio_len
suffix:semicolon
DECL|member|accel
id|__u32
id|accel
suffix:semicolon
DECL|member|reserved
id|__u16
id|reserved
(braket
l_int|3
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|fb_cmap32
r_struct
id|fb_cmap32
(brace
DECL|member|start
id|__u32
id|start
suffix:semicolon
DECL|member|len
id|__u32
id|len
suffix:semicolon
DECL|member|red
id|__kernel_caddr_t32
id|red
suffix:semicolon
DECL|member|green
id|__kernel_caddr_t32
id|green
suffix:semicolon
DECL|member|blue
id|__kernel_caddr_t32
id|blue
suffix:semicolon
DECL|member|transp
id|__kernel_caddr_t32
id|transp
suffix:semicolon
)brace
suffix:semicolon
DECL|function|fb_ioctl_trans
r_static
r_int
id|fb_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|u32
id|red
op_assign
l_int|0
comma
id|green
op_assign
l_int|0
comma
id|blue
op_assign
l_int|0
comma
id|transp
op_assign
l_int|0
suffix:semicolon
r_struct
id|fb_fix_screeninfo
id|fix
suffix:semicolon
r_struct
id|fb_cmap
id|cmap
suffix:semicolon
r_void
op_star
id|karg
suffix:semicolon
r_int
id|err
op_assign
l_int|0
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|cmap
comma
l_int|0
comma
r_sizeof
(paren
id|cmap
)paren
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|FBIOGET_FSCREENINFO
suffix:colon
id|karg
op_assign
op_amp
id|fix
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FBIOGETCMAP
suffix:colon
r_case
id|FBIOPUTCMAP
suffix:colon
id|karg
op_assign
op_amp
id|cmap
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|cmap.start
comma
op_amp
(paren
(paren
r_struct
id|fb_cmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|start
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|cmap.len
comma
op_amp
(paren
(paren
r_struct
id|fb_cmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|len
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|red
comma
op_amp
(paren
(paren
r_struct
id|fb_cmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|red
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|green
comma
op_amp
(paren
(paren
r_struct
id|fb_cmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|green
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|blue
comma
op_amp
(paren
(paren
r_struct
id|fb_cmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|blue
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|transp
comma
op_amp
(paren
(paren
r_struct
id|fb_cmap32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|transp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
id|err
op_assign
op_minus
id|ENOMEM
suffix:semicolon
id|cmap.red
op_assign
id|kmalloc
c_func
(paren
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cmap.red
)paren
r_goto
id|out
suffix:semicolon
id|cmap.green
op_assign
id|kmalloc
c_func
(paren
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cmap.green
)paren
r_goto
id|out
suffix:semicolon
id|cmap.blue
op_assign
id|kmalloc
c_func
(paren
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cmap.blue
)paren
r_goto
id|out
suffix:semicolon
r_if
c_cond
(paren
id|transp
)paren
(brace
id|cmap.transp
op_assign
id|kmalloc
c_func
(paren
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cmap.transp
)paren
r_goto
id|out
suffix:semicolon
)brace
r_if
c_cond
(paren
id|cmd
op_eq
id|FBIOGETCMAP
)paren
r_break
suffix:semicolon
id|err
op_assign
id|__copy_from_user
c_func
(paren
id|cmap.red
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|red
)paren
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
id|cmap.green
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|green
)paren
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
id|cmap.blue
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|blue
)paren
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.transp
)paren
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
id|cmap.transp
comma
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|transp
)paren
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_do
(brace
r_static
r_int
id|count
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;%s: Unknown fb ioctl cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08lx)&bslash;n&quot;
comma
id|__FUNCTION__
comma
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
r_return
op_minus
id|ENOSYS
suffix:semicolon
)brace
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_goto
id|out
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|FBIOGET_FSCREENINFO
suffix:colon
id|err
op_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|id
comma
(paren
r_char
op_star
)paren
id|fix.id
comma
r_sizeof
(paren
id|fix.id
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|__u32
)paren
(paren
r_int
r_int
)paren
id|fix.smem_start
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|smem_start
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.smem_len
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|smem_len
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.type
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.type_aux
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|type_aux
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.visual
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|visual
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.xpanstep
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|xpanstep
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.ypanstep
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ypanstep
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.ywrapstep
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ywrapstep
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.line_length
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|line_length
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|__u32
)paren
(paren
r_int
r_int
)paren
id|fix.mmio_start
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mmio_start
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.mmio_len
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mmio_len
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|fix.accel
comma
op_amp
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|accel
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
(paren
(paren
r_struct
id|fb_fix_screeninfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|reserved
comma
(paren
r_char
op_star
)paren
id|fix.reserved
comma
r_sizeof
(paren
id|fix.reserved
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FBIOGETCMAP
suffix:colon
id|err
op_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|red
)paren
comma
id|cmap.red
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|green
)paren
comma
id|cmap.blue
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|blue
)paren
comma
id|cmap.blue
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.transp
)paren
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|transp
)paren
comma
id|cmap.transp
comma
id|cmap.len
op_star
r_sizeof
(paren
id|__u16
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FBIOPUTCMAP
suffix:colon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|err
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
id|out
suffix:colon
r_if
c_cond
(paren
id|cmap.red
)paren
id|kfree
c_func
(paren
id|cmap.red
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.green
)paren
id|kfree
c_func
(paren
id|cmap.green
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.blue
)paren
id|kfree
c_func
(paren
id|cmap.blue
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmap.transp
)paren
id|kfree
c_func
(paren
id|cmap.transp
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|function|hdio_ioctl_trans
r_static
r_int
id|hdio_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_int
r_int
id|kval
suffix:semicolon
r_int
r_int
op_star
id|uvp
suffix:semicolon
r_int
id|error
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|error
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
)paren
op_amp
id|kval
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|error
op_eq
l_int|0
)paren
(brace
id|uvp
op_assign
(paren
r_int
r_int
op_star
)paren
id|arg
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|kval
comma
id|uvp
)paren
)paren
(brace
id|error
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
r_return
id|error
suffix:semicolon
)brace
DECL|struct|floppy_struct32
r_struct
id|floppy_struct32
(brace
DECL|member|size
r_int
r_int
id|size
suffix:semicolon
DECL|member|sect
r_int
r_int
id|sect
suffix:semicolon
DECL|member|head
r_int
r_int
id|head
suffix:semicolon
DECL|member|track
r_int
r_int
id|track
suffix:semicolon
DECL|member|stretch
r_int
r_int
id|stretch
suffix:semicolon
DECL|member|gap
r_int
r_char
id|gap
suffix:semicolon
DECL|member|rate
r_int
r_char
id|rate
suffix:semicolon
DECL|member|spec1
r_int
r_char
id|spec1
suffix:semicolon
DECL|member|fmt_gap
r_int
r_char
id|fmt_gap
suffix:semicolon
DECL|member|name
r_const
id|__kernel_caddr_t32
id|name
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|floppy_drive_params32
r_struct
id|floppy_drive_params32
(brace
DECL|member|cmos
r_char
id|cmos
suffix:semicolon
DECL|member|max_dtr
id|u32
id|max_dtr
suffix:semicolon
DECL|member|hlt
id|u32
id|hlt
suffix:semicolon
DECL|member|hut
id|u32
id|hut
suffix:semicolon
DECL|member|srt
id|u32
id|srt
suffix:semicolon
DECL|member|spinup
id|u32
id|spinup
suffix:semicolon
DECL|member|spindown
id|u32
id|spindown
suffix:semicolon
DECL|member|spindown_offset
r_int
r_char
id|spindown_offset
suffix:semicolon
DECL|member|select_delay
r_int
r_char
id|select_delay
suffix:semicolon
DECL|member|rps
r_int
r_char
id|rps
suffix:semicolon
DECL|member|tracks
r_int
r_char
id|tracks
suffix:semicolon
DECL|member|timeout
id|u32
id|timeout
suffix:semicolon
DECL|member|interleave_sect
r_int
r_char
id|interleave_sect
suffix:semicolon
DECL|member|max_errors
r_struct
id|floppy_max_errors
id|max_errors
suffix:semicolon
DECL|member|flags
r_char
id|flags
suffix:semicolon
DECL|member|read_track
r_char
id|read_track
suffix:semicolon
DECL|member|autodetect
r_int
id|autodetect
(braket
l_int|8
)braket
suffix:semicolon
DECL|member|checkfreq
r_int
id|checkfreq
suffix:semicolon
DECL|member|native_format
r_int
id|native_format
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|floppy_drive_struct32
r_struct
id|floppy_drive_struct32
(brace
DECL|member|flags
r_int
r_char
id|flags
suffix:semicolon
DECL|member|spinup_date
id|u32
id|spinup_date
suffix:semicolon
DECL|member|select_date
id|u32
id|select_date
suffix:semicolon
DECL|member|first_read_date
id|u32
id|first_read_date
suffix:semicolon
DECL|member|probed_format
r_int
id|probed_format
suffix:semicolon
DECL|member|track
r_int
id|track
suffix:semicolon
DECL|member|maxblock
r_int
id|maxblock
suffix:semicolon
DECL|member|maxtrack
r_int
id|maxtrack
suffix:semicolon
DECL|member|generation
r_int
id|generation
suffix:semicolon
DECL|member|keep_data
r_int
id|keep_data
suffix:semicolon
DECL|member|fd_ref
r_int
id|fd_ref
suffix:semicolon
DECL|member|fd_device
r_int
id|fd_device
suffix:semicolon
DECL|member|last_checked
r_int
id|last_checked
suffix:semicolon
DECL|member|dmabuf
id|__kernel_caddr_t32
id|dmabuf
suffix:semicolon
DECL|member|bufblocks
r_int
id|bufblocks
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|floppy_fdc_state32
r_struct
id|floppy_fdc_state32
(brace
DECL|member|spec1
r_int
id|spec1
suffix:semicolon
DECL|member|spec2
r_int
id|spec2
suffix:semicolon
DECL|member|dtr
r_int
id|dtr
suffix:semicolon
DECL|member|version
r_int
r_char
id|version
suffix:semicolon
DECL|member|dor
r_int
r_char
id|dor
suffix:semicolon
DECL|member|address
id|u32
id|address
suffix:semicolon
DECL|member|rawcmd
r_int
r_int
id|rawcmd
suffix:colon
l_int|2
suffix:semicolon
DECL|member|reset
r_int
r_int
id|reset
suffix:colon
l_int|1
suffix:semicolon
DECL|member|need_configure
r_int
r_int
id|need_configure
suffix:colon
l_int|1
suffix:semicolon
DECL|member|perp_mode
r_int
r_int
id|perp_mode
suffix:colon
l_int|2
suffix:semicolon
DECL|member|has_fifo
r_int
r_int
id|has_fifo
suffix:colon
l_int|1
suffix:semicolon
DECL|member|driver_version
r_int
r_int
id|driver_version
suffix:semicolon
DECL|member|track
r_int
r_char
id|track
(braket
l_int|4
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|floppy_write_errors32
r_struct
id|floppy_write_errors32
(brace
DECL|member|write_errors
r_int
r_int
id|write_errors
suffix:semicolon
DECL|member|first_error_sector
id|u32
id|first_error_sector
suffix:semicolon
DECL|member|first_error_generation
r_int
id|first_error_generation
suffix:semicolon
DECL|member|last_error_sector
id|u32
id|last_error_sector
suffix:semicolon
DECL|member|last_error_generation
r_int
id|last_error_generation
suffix:semicolon
DECL|member|badness
r_int
r_int
id|badness
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|FDSETPRM32
mdefine_line|#define FDSETPRM32 _IOW(2, 0x42, struct floppy_struct32)
DECL|macro|FDDEFPRM32
mdefine_line|#define FDDEFPRM32 _IOW(2, 0x43, struct floppy_struct32)
DECL|macro|FDGETPRM32
mdefine_line|#define FDGETPRM32 _IOR(2, 0x04, struct floppy_struct32)
DECL|macro|FDSETDRVPRM32
mdefine_line|#define FDSETDRVPRM32 _IOW(2, 0x90, struct floppy_drive_params32)
DECL|macro|FDGETDRVPRM32
mdefine_line|#define FDGETDRVPRM32 _IOR(2, 0x11, struct floppy_drive_params32)
DECL|macro|FDGETDRVSTAT32
mdefine_line|#define FDGETDRVSTAT32 _IOR(2, 0x12, struct floppy_drive_struct32)
DECL|macro|FDPOLLDRVSTAT32
mdefine_line|#define FDPOLLDRVSTAT32 _IOR(2, 0x13, struct floppy_drive_struct32)
DECL|macro|FDGETFDCSTAT32
mdefine_line|#define FDGETFDCSTAT32 _IOR(2, 0x15, struct floppy_fdc_state32)
DECL|macro|FDWERRORGET32
mdefine_line|#define FDWERRORGET32  _IOR(2, 0x17, struct floppy_write_errors32)
r_static
r_struct
(brace
DECL|member|cmd32
r_int
r_int
id|cmd32
suffix:semicolon
DECL|member|cmd
r_int
r_int
id|cmd
suffix:semicolon
DECL|variable|fd_ioctl_trans_table
)brace
id|fd_ioctl_trans_table
(braket
)braket
op_assign
(brace
(brace
id|FDSETPRM32
comma
id|FDSETPRM
)brace
comma
(brace
id|FDDEFPRM32
comma
id|FDDEFPRM
)brace
comma
(brace
id|FDGETPRM32
comma
id|FDGETPRM
)brace
comma
(brace
id|FDSETDRVPRM32
comma
id|FDSETDRVPRM
)brace
comma
(brace
id|FDGETDRVPRM32
comma
id|FDGETDRVPRM
)brace
comma
(brace
id|FDGETDRVSTAT32
comma
id|FDGETDRVSTAT
)brace
comma
(brace
id|FDPOLLDRVSTAT32
comma
id|FDPOLLDRVSTAT
)brace
comma
(brace
id|FDGETFDCSTAT32
comma
id|FDGETFDCSTAT
)brace
comma
(brace
id|FDWERRORGET32
comma
id|FDWERRORGET
)brace
)brace
suffix:semicolon
DECL|macro|NR_FD_IOCTL_TRANS
mdefine_line|#define NR_FD_IOCTL_TRANS (sizeof(fd_ioctl_trans_table)/sizeof(fd_ioctl_trans_table[0]))
DECL|function|fd_ioctl_trans
r_static
r_int
id|fd_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_void
op_star
id|karg
op_assign
l_int|NULL
suffix:semicolon
r_int
r_int
id|kcmd
op_assign
l_int|0
suffix:semicolon
r_int
id|i
comma
id|err
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|NR_FD_IOCTL_TRANS
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|cmd
op_eq
id|fd_ioctl_trans_table
(braket
id|i
)braket
dot
id|cmd32
)paren
(brace
id|kcmd
op_assign
id|fd_ioctl_trans_table
(braket
id|i
)braket
dot
id|cmd
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|kcmd
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|FDSETPRM32
suffix:colon
r_case
id|FDDEFPRM32
suffix:colon
r_case
id|FDGETPRM32
suffix:colon
(brace
r_struct
id|floppy_struct
op_star
id|f
suffix:semicolon
id|f
op_assign
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_struct
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|FDGETPRM32
)paren
r_break
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|f-&gt;size
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|size
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;sect
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|sect
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;head
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|head
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;track
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|track
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;stretch
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|stretch
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;gap
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|gap
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;rate
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rate
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;spec1
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spec1
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;fmt_gap
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|fmt_gap
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
(paren
id|u64
)paren
id|f-&gt;name
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|name
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
r_case
id|FDSETDRVPRM32
suffix:colon
r_case
id|FDGETDRVPRM32
suffix:colon
(brace
r_struct
id|floppy_drive_params
op_star
id|f
suffix:semicolon
id|f
op_assign
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_drive_params
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|FDGETDRVPRM32
)paren
r_break
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|f-&gt;cmos
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cmos
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;max_dtr
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|max_dtr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;hlt
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|hlt
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;hut
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|hut
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;srt
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|srt
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;spinup
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spinup
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;spindown
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spindown
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;spindown_offset
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spindown_offset
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;select_delay
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|select_delay
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;rps
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rps
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;tracks
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|tracks
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;timeout
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|timeout
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;interleave_sect
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|interleave_sect
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
op_amp
id|f-&gt;max_errors
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|max_errors
comma
r_sizeof
(paren
id|f-&gt;max_errors
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;flags
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|flags
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;read_track
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|read_track
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
id|f-&gt;autodetect
comma
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|autodetect
comma
r_sizeof
(paren
id|f-&gt;autodetect
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;checkfreq
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|checkfreq
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|f-&gt;native_format
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|native_format
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
r_case
id|FDGETDRVSTAT32
suffix:colon
r_case
id|FDPOLLDRVSTAT32
suffix:colon
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_drive_struct
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FDGETFDCSTAT32
suffix:colon
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_fdc_state
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_break
suffix:semicolon
r_case
id|FDWERRORGET32
suffix:colon
id|karg
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|floppy_write_errors
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|kcmd
comma
(paren
r_int
r_int
)paren
id|karg
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_goto
id|out
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|FDGETPRM32
suffix:colon
(brace
r_struct
id|floppy_struct
op_star
id|f
op_assign
id|karg
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;size
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|size
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;sect
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|sect
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;head
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|head
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;track
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|track
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;stretch
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|stretch
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;gap
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|gap
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;rate
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rate
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spec1
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spec1
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;fmt_gap
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|fmt_gap
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|u64
)paren
id|f-&gt;name
comma
op_amp
(paren
(paren
r_struct
id|floppy_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|name
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
id|FDGETDRVPRM32
suffix:colon
(brace
r_struct
id|floppy_drive_params
op_star
id|f
op_assign
id|karg
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;cmos
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cmos
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;max_dtr
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|max_dtr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;hlt
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|hlt
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;hut
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|hut
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;srt
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|srt
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spinup
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spinup
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spindown
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spindown
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spindown_offset
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spindown_offset
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;select_delay
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|select_delay
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;rps
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|rps
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;tracks
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|tracks
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;timeout
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|timeout
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;interleave_sect
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|interleave_sect
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|max_errors
comma
op_amp
id|f-&gt;max_errors
comma
r_sizeof
(paren
id|f-&gt;max_errors
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;flags
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|flags
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;read_track
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|read_track
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|autodetect
comma
id|f-&gt;autodetect
comma
r_sizeof
(paren
id|f-&gt;autodetect
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;checkfreq
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|checkfreq
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;native_format
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_params32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|native_format
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
id|FDGETDRVSTAT32
suffix:colon
r_case
id|FDPOLLDRVSTAT32
suffix:colon
(brace
r_struct
id|floppy_drive_struct
op_star
id|f
op_assign
id|karg
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;flags
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|flags
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spinup_date
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spinup_date
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;select_date
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|select_date
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;first_read_date
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|first_read_date
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;probed_format
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|probed_format
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;track
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|track
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;maxblock
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|maxblock
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;maxtrack
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|maxtrack
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;generation
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|generation
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;keep_data
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|keep_data
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;fd_ref
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|fd_ref
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;fd_device
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|fd_device
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;last_checked
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|last_checked
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|u64
)paren
id|f-&gt;dmabuf
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|dmabuf
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
(paren
id|u64
)paren
id|f-&gt;bufblocks
comma
op_amp
(paren
(paren
r_struct
id|floppy_drive_struct32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|bufblocks
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
id|FDGETFDCSTAT32
suffix:colon
(brace
r_struct
id|floppy_fdc_state
op_star
id|f
op_assign
id|karg
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;spec1
comma
op_amp
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spec1
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;spec2
comma
op_amp
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|spec2
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;dtr
comma
op_amp
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|dtr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;version
comma
op_amp
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|version
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;dor
comma
op_amp
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|dor
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;address
comma
op_amp
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|address
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|address
op_plus
r_sizeof
(paren
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|address
)paren
comma
(paren
r_char
op_star
)paren
op_amp
id|f-&gt;address
op_plus
r_sizeof
(paren
id|f-&gt;address
)paren
comma
r_sizeof
(paren
r_int
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;driver_version
comma
op_amp
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|driver_version
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
(paren
r_struct
id|floppy_fdc_state32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|track
comma
id|f-&gt;track
comma
r_sizeof
(paren
id|f-&gt;track
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_case
id|FDWERRORGET32
suffix:colon
(brace
r_struct
id|floppy_write_errors
op_star
id|f
op_assign
id|karg
suffix:semicolon
id|err
op_assign
id|__put_user
c_func
(paren
id|f-&gt;write_errors
comma
op_amp
(paren
(paren
r_struct
id|floppy_write_errors32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|write_errors
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;first_error_sector
comma
op_amp
(paren
(paren
r_struct
id|floppy_write_errors32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|first_error_sector
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;first_error_generation
comma
op_amp
(paren
(paren
r_struct
id|floppy_write_errors32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|first_error_generation
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;last_error_sector
comma
op_amp
(paren
(paren
r_struct
id|floppy_write_errors32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|last_error_sector
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;last_error_generation
comma
op_amp
(paren
(paren
r_struct
id|floppy_write_errors32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|last_error_generation
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|f-&gt;badness
comma
op_amp
(paren
(paren
r_struct
id|floppy_write_errors32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|badness
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
r_default
suffix:colon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
id|err
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
id|out
suffix:colon
r_if
c_cond
(paren
id|karg
)paren
id|kfree
c_func
(paren
id|karg
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|struct|ppp_option_data32
r_struct
id|ppp_option_data32
(brace
DECL|member|ptr
id|__kernel_caddr_t32
id|ptr
suffix:semicolon
DECL|member|length
id|__u32
id|length
suffix:semicolon
DECL|member|transmit
r_int
id|transmit
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|PPPIOCSCOMPRESS32
mdefine_line|#define PPPIOCSCOMPRESS32&t;_IOW(&squot;t&squot;, 77, struct ppp_option_data32)
DECL|struct|ppp_idle32
r_struct
id|ppp_idle32
(brace
DECL|member|xmit_idle
id|__kernel_time_t32
id|xmit_idle
suffix:semicolon
DECL|member|recv_idle
id|__kernel_time_t32
id|recv_idle
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|PPPIOCGIDLE32
mdefine_line|#define PPPIOCGIDLE32&t;&t;_IOR(&squot;t&squot;, 63, struct ppp_idle32)
DECL|function|ppp_ioctl_trans
r_static
r_int
id|ppp_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|ppp_option_data32
id|data32
suffix:semicolon
r_struct
id|ppp_option_data
id|data
suffix:semicolon
r_struct
id|ppp_idle32
id|idle32
suffix:semicolon
r_struct
id|ppp_idle
id|idle
suffix:semicolon
r_int
r_int
id|kcmd
suffix:semicolon
r_void
op_star
id|karg
suffix:semicolon
r_int
id|err
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|PPPIOCGIDLE32
suffix:colon
id|kcmd
op_assign
id|PPPIOCGIDLE
suffix:semicolon
id|karg
op_assign
op_amp
id|idle
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PPPIOCSCOMPRESS32
suffix:colon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|data32
comma
(paren
r_struct
id|ppp_option_data32
op_star
)paren
id|arg
comma
r_sizeof
(paren
r_struct
id|ppp_option_data32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|data.ptr
op_assign
id|kmalloc
(paren
id|data32.length
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|data.ptr
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|data.ptr
comma
(paren
id|__u8
op_star
)paren
id|A
c_func
(paren
id|data32.ptr
)paren
comma
id|data32.length
)paren
)paren
(brace
id|kfree
c_func
(paren
id|data.ptr
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|data.length
op_assign
id|data32.length
suffix:semicolon
id|data.transmit
op_assign
id|data32.transmit
suffix:semicolon
id|kcmd
op_assign
id|PPPIOCSCOMPRESS
suffix:semicolon
id|karg
op_assign
op_amp
id|data
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_do
(brace
r_static
r_int
id|count
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;ppp_ioctl: Unknown cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08x)&bslash;n&quot;
comma
(paren
r_int
)paren
id|fd
comma
(paren
r_int
r_int
)paren
id|cmd
comma
(paren
r_int
r_int
)paren
id|arg
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|kcmd
comma
(paren
r_int
r_int
)paren
id|karg
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|PPPIOCGIDLE32
suffix:colon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
id|idle32.xmit_idle
op_assign
id|idle.xmit_idle
suffix:semicolon
id|idle32.recv_idle
op_assign
id|idle.recv_idle
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_struct
id|ppp_idle32
op_star
)paren
id|arg
comma
op_amp
id|idle32
comma
r_sizeof
(paren
r_struct
id|ppp_idle32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PPPIOCSCOMPRESS32
suffix:colon
id|kfree
c_func
(paren
id|data.ptr
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_break
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|struct|mtget32
r_struct
id|mtget32
(brace
DECL|member|mt_type
id|__u32
id|mt_type
suffix:semicolon
DECL|member|mt_resid
id|__u32
id|mt_resid
suffix:semicolon
DECL|member|mt_dsreg
id|__u32
id|mt_dsreg
suffix:semicolon
DECL|member|mt_gstat
id|__u32
id|mt_gstat
suffix:semicolon
DECL|member|mt_erreg
id|__u32
id|mt_erreg
suffix:semicolon
DECL|member|mt_fileno
id|__kernel_daddr_t32
id|mt_fileno
suffix:semicolon
DECL|member|mt_blkno
id|__kernel_daddr_t32
id|mt_blkno
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|MTIOCGET32
mdefine_line|#define MTIOCGET32&t;_IOR(&squot;m&squot;, 2, struct mtget32)
DECL|struct|mtpos32
r_struct
id|mtpos32
(brace
DECL|member|mt_blkno
id|__u32
id|mt_blkno
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|MTIOCPOS32
mdefine_line|#define MTIOCPOS32&t;_IOR(&squot;m&squot;, 3, struct mtpos32)
DECL|struct|mtconfiginfo32
r_struct
id|mtconfiginfo32
(brace
DECL|member|mt_type
id|__u32
id|mt_type
suffix:semicolon
DECL|member|ifc_type
id|__u32
id|ifc_type
suffix:semicolon
DECL|member|irqnr
id|__u16
id|irqnr
suffix:semicolon
DECL|member|dmanr
id|__u16
id|dmanr
suffix:semicolon
DECL|member|port
id|__u16
id|port
suffix:semicolon
DECL|member|debug
id|__u32
id|debug
suffix:semicolon
DECL|member|have_dens
id|__u32
id|have_dens
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_bsf
id|__u32
id|have_bsf
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_fsr
id|__u32
id|have_fsr
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_bsr
id|__u32
id|have_bsr
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_eod
id|__u32
id|have_eod
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_seek
id|__u32
id|have_seek
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_tell
id|__u32
id|have_tell
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_ras1
id|__u32
id|have_ras1
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_ras2
id|__u32
id|have_ras2
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_ras3
id|__u32
id|have_ras3
suffix:colon
l_int|1
suffix:semicolon
DECL|member|have_qfa
id|__u32
id|have_qfa
suffix:colon
l_int|1
suffix:semicolon
DECL|member|pad1
id|__u32
id|pad1
suffix:colon
l_int|5
suffix:semicolon
DECL|member|reserved
r_char
id|reserved
(braket
l_int|10
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|MTIOCGETCONFIG32
mdefine_line|#define&t;MTIOCGETCONFIG32&t;_IOR(&squot;m&squot;, 4, struct mtconfiginfo32)
DECL|macro|MTIOCSETCONFIG32
mdefine_line|#define&t;MTIOCSETCONFIG32&t;_IOW(&squot;m&squot;, 5, struct mtconfiginfo32)
DECL|function|mt_ioctl_trans
r_static
r_int
id|mt_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|mtconfiginfo
id|info
suffix:semicolon
r_struct
id|mtget
id|get
suffix:semicolon
r_struct
id|mtpos
id|pos
suffix:semicolon
r_int
r_int
id|kcmd
suffix:semicolon
r_void
op_star
id|karg
suffix:semicolon
r_int
id|err
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|MTIOCPOS32
suffix:colon
id|kcmd
op_assign
id|MTIOCPOS
suffix:semicolon
id|karg
op_assign
op_amp
id|pos
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGET32
suffix:colon
id|kcmd
op_assign
id|MTIOCGET
suffix:semicolon
id|karg
op_assign
op_amp
id|get
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGETCONFIG32
suffix:colon
id|kcmd
op_assign
id|MTIOCGETCONFIG
suffix:semicolon
id|karg
op_assign
op_amp
id|info
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCSETCONFIG32
suffix:colon
id|kcmd
op_assign
id|MTIOCSETCONFIG
suffix:semicolon
id|karg
op_assign
op_amp
id|info
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|info.mt_type
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.ifc_type
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifc_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.irqnr
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|irqnr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.dmanr
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|dmanr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.port
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|port
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|info.debug
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
id|info.debug
op_plus
r_sizeof
(paren
id|info.debug
)paren
comma
(paren
r_char
op_star
)paren
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
op_plus
r_sizeof
(paren
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
)paren
comma
r_sizeof
(paren
id|__u32
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_do
(brace
r_static
r_int
id|count
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;mt_ioctl: Unknown cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08x)&bslash;n&quot;
comma
(paren
r_int
)paren
id|fd
comma
(paren
r_int
r_int
)paren
id|cmd
comma
(paren
r_int
r_int
)paren
id|arg
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|kcmd
comma
(paren
r_int
r_int
)paren
id|karg
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|MTIOCPOS32
suffix:colon
id|err
op_assign
id|__put_user
c_func
(paren
id|pos.mt_blkno
comma
op_amp
(paren
(paren
r_struct
id|mtpos32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_blkno
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGET32
suffix:colon
id|err
op_assign
id|__put_user
c_func
(paren
id|get.mt_type
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_resid
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_resid
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_dsreg
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_dsreg
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_gstat
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_gstat
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_erreg
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_erreg
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_fileno
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_fileno
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|get.mt_blkno
comma
op_amp
(paren
(paren
r_struct
id|mtget32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_blkno
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCGETCONFIG32
suffix:colon
id|err
op_assign
id|__put_user
c_func
(paren
id|info.mt_type
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|mt_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.ifc_type
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|ifc_type
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.irqnr
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|irqnr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.dmanr
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|dmanr
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.port
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|port
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|info.debug
comma
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
op_plus
r_sizeof
(paren
(paren
(paren
r_struct
id|mtconfiginfo32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|debug
)paren
comma
(paren
r_char
op_star
)paren
op_amp
id|info.debug
op_plus
r_sizeof
(paren
id|info.debug
)paren
comma
r_sizeof
(paren
id|__u32
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|MTIOCSETCONFIG32
suffix:colon
r_break
suffix:semicolon
)brace
r_return
id|err
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|struct|cdrom_read32
r_struct
id|cdrom_read32
(brace
DECL|member|cdread_lba
r_int
id|cdread_lba
suffix:semicolon
DECL|member|cdread_bufaddr
id|__kernel_caddr_t32
id|cdread_bufaddr
suffix:semicolon
DECL|member|cdread_buflen
r_int
id|cdread_buflen
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|cdrom_read_audio32
r_struct
id|cdrom_read_audio32
(brace
DECL|member|addr
r_union
id|cdrom_addr
id|addr
suffix:semicolon
DECL|member|addr_format
id|u_char
id|addr_format
suffix:semicolon
DECL|member|nframes
r_int
id|nframes
suffix:semicolon
DECL|member|buf
id|__kernel_caddr_t32
id|buf
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|cdrom_generic_command32
r_struct
id|cdrom_generic_command32
(brace
DECL|member|cmd
r_int
r_char
id|cmd
(braket
id|CDROM_PACKET_SIZE
)braket
suffix:semicolon
DECL|member|buffer
id|__kernel_caddr_t32
id|buffer
suffix:semicolon
DECL|member|buflen
r_int
r_int
id|buflen
suffix:semicolon
DECL|member|stat
r_int
id|stat
suffix:semicolon
DECL|member|sense
id|__kernel_caddr_t32
id|sense
suffix:semicolon
DECL|member|reserved
id|__kernel_caddr_t32
id|reserved
(braket
l_int|3
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|function|cdrom_ioctl_trans
r_static
r_int
id|cdrom_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|cdrom_read
id|cdread
suffix:semicolon
r_struct
id|cdrom_read_audio
id|cdreadaudio
suffix:semicolon
r_struct
id|cdrom_generic_command
id|cgc
suffix:semicolon
id|__kernel_caddr_t32
id|addr
suffix:semicolon
r_char
op_star
id|data
op_assign
l_int|0
suffix:semicolon
r_void
op_star
id|karg
suffix:semicolon
r_int
id|err
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|CDROMREADMODE2
suffix:colon
r_case
id|CDROMREADMODE1
suffix:colon
r_case
id|CDROMREADRAW
suffix:colon
r_case
id|CDROMREADCOOKED
suffix:colon
id|karg
op_assign
op_amp
id|cdread
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|cdread.cdread_lba
comma
op_amp
(paren
(paren
r_struct
id|cdrom_read32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cdread_lba
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|addr
comma
op_amp
(paren
(paren
r_struct
id|cdrom_read32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cdread_bufaddr
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|cdread.cdread_buflen
comma
op_amp
(paren
(paren
r_struct
id|cdrom_read32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cdread_buflen
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|data
op_assign
id|kmalloc
c_func
(paren
id|cdread.cdread_buflen
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|data
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|cdread.cdread_bufaddr
op_assign
id|data
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CDROMREADAUDIO
suffix:colon
id|karg
op_assign
op_amp
id|cdreadaudio
suffix:semicolon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|cdreadaudio.addr
comma
op_amp
(paren
(paren
r_struct
id|cdrom_read_audio32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|addr
comma
r_sizeof
(paren
id|cdreadaudio.addr
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|cdreadaudio.addr_format
comma
op_amp
(paren
(paren
r_struct
id|cdrom_read_audio32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|addr_format
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|cdreadaudio.nframes
comma
op_amp
(paren
(paren
r_struct
id|cdrom_read_audio32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|nframes
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|addr
comma
op_amp
(paren
(paren
r_struct
id|cdrom_read_audio32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|buf
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|data
op_assign
id|kmalloc
c_func
(paren
id|cdreadaudio.nframes
op_star
l_int|2352
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|data
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|cdreadaudio.buf
op_assign
id|data
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CDROM_SEND_PACKET
suffix:colon
id|karg
op_assign
op_amp
id|cgc
suffix:semicolon
id|err
op_assign
id|copy_from_user
c_func
(paren
id|cgc.cmd
comma
op_amp
(paren
(paren
r_struct
id|cdrom_generic_command32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|cmd
comma
r_sizeof
(paren
id|cgc.cmd
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|addr
comma
op_amp
(paren
(paren
r_struct
id|cdrom_generic_command32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|buffer
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|cgc.buflen
comma
op_amp
(paren
(paren
r_struct
id|cdrom_generic_command32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|buflen
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
(paren
id|data
op_assign
id|kmalloc
c_func
(paren
id|cgc.buflen
comma
id|GFP_KERNEL
)paren
)paren
op_eq
l_int|NULL
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|cgc.buffer
op_assign
id|data
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
r_do
(brace
r_static
r_int
id|count
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;cdrom_ioctl: Unknown cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08x)&bslash;n&quot;
comma
(paren
r_int
)paren
id|fd
comma
(paren
r_int
r_int
)paren
id|cmd
comma
(paren
r_int
r_int
)paren
id|arg
)paren
suffix:semicolon
)brace
r_while
c_loop
(paren
l_int|0
)paren
(brace
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|karg
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_goto
id|out
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|CDROMREADMODE2
suffix:colon
r_case
id|CDROMREADMODE1
suffix:colon
r_case
id|CDROMREADRAW
suffix:colon
r_case
id|CDROMREADCOOKED
suffix:colon
id|err
op_assign
id|copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|addr
)paren
comma
id|data
comma
id|cdread.cdread_buflen
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CDROMREADAUDIO
suffix:colon
id|err
op_assign
id|copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|addr
)paren
comma
id|data
comma
id|cdreadaudio.nframes
op_star
l_int|2352
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|CDROM_SEND_PACKET
suffix:colon
id|err
op_assign
id|copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|addr
)paren
comma
id|data
comma
id|cgc.buflen
)paren
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_break
suffix:semicolon
)brace
id|out
suffix:colon
r_if
c_cond
(paren
id|data
)paren
id|kfree
c_func
(paren
id|data
)paren
suffix:semicolon
r_return
id|err
ques
c_cond
op_minus
id|EFAULT
suffix:colon
l_int|0
suffix:semicolon
)brace
DECL|struct|loop_info32
r_struct
id|loop_info32
(brace
DECL|member|lo_number
r_int
id|lo_number
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_device
id|__kernel_dev_t32
id|lo_device
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_inode
r_int
r_int
id|lo_inode
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_rdevice
id|__kernel_dev_t32
id|lo_rdevice
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_offset
r_int
id|lo_offset
suffix:semicolon
DECL|member|lo_encrypt_type
r_int
id|lo_encrypt_type
suffix:semicolon
DECL|member|lo_encrypt_key_size
r_int
id|lo_encrypt_key_size
suffix:semicolon
multiline_comment|/* ioctl w/o */
DECL|member|lo_flags
r_int
id|lo_flags
suffix:semicolon
multiline_comment|/* ioctl r/o */
DECL|member|lo_name
r_char
id|lo_name
(braket
id|LO_NAME_SIZE
)braket
suffix:semicolon
DECL|member|lo_encrypt_key
r_int
r_char
id|lo_encrypt_key
(braket
id|LO_KEY_SIZE
)braket
suffix:semicolon
multiline_comment|/* ioctl w/o */
DECL|member|lo_init
r_int
r_int
id|lo_init
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|reserved
r_char
id|reserved
(braket
l_int|4
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|function|loop_status
r_static
r_int
id|loop_status
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
r_struct
id|loop_info
id|l
suffix:semicolon
r_int
id|err
op_assign
op_minus
id|EINVAL
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|LOOP_SET_STATUS
suffix:colon
id|err
op_assign
id|get_user
c_func
(paren
id|l.lo_number
comma
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_number
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|l.lo_device
comma
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_device
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|l.lo_inode
comma
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_inode
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|l.lo_rdevice
comma
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_rdevice
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
id|l.lo_offset
comma
(paren
r_char
op_star
)paren
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_offset
comma
l_int|8
op_plus
(paren
r_int
r_int
)paren
id|l.lo_init
op_minus
(paren
r_int
r_int
)paren
op_amp
id|l.lo_offset
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_else
(brace
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|l
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|LOOP_GET_STATUS
suffix:colon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|l
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|err
op_assign
id|put_user
c_func
(paren
id|l.lo_number
comma
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_number
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|l.lo_device
comma
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_device
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|l.lo_inode
comma
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_inode
)paren
suffix:semicolon
id|err
op_or_assign
id|__put_user
c_func
(paren
id|l.lo_rdevice
comma
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_rdevice
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
(paren
(paren
r_struct
id|loop_info32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lo_offset
comma
(paren
r_char
op_star
)paren
op_amp
id|l.lo_offset
comma
(paren
r_int
r_int
)paren
id|l.lo_init
op_minus
(paren
r_int
r_int
)paren
op_amp
id|l.lo_offset
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_break
suffix:semicolon
r_default
suffix:colon
(brace
)brace
(brace
r_static
r_int
id|count
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;%s: Unknown loop ioctl cmd, fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08lx)&bslash;n&quot;
comma
id|__FUNCTION__
comma
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
)brace
)brace
r_return
id|err
suffix:semicolon
)brace
r_extern
r_int
id|tty_ioctl
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|file
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
DECL|function|vt_check
r_static
r_int
id|vt_check
c_func
(paren
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|tty_struct
op_star
id|tty
suffix:semicolon
r_struct
id|inode
op_star
id|inode
op_assign
id|file-&gt;f_dentry-&gt;d_inode
suffix:semicolon
r_if
c_cond
(paren
id|file-&gt;f_op-&gt;ioctl
op_ne
id|tty_ioctl
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
id|tty
op_assign
(paren
r_struct
id|tty_struct
op_star
)paren
id|file-&gt;private_data
suffix:semicolon
r_if
c_cond
(paren
id|tty_paranoia_check
c_func
(paren
id|tty
comma
id|inode-&gt;i_rdev
comma
l_string|&quot;tty_ioctl&quot;
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|tty-&gt;driver.ioctl
op_ne
id|vt_ioctl
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
multiline_comment|/*&n;&t; * To have permissions to do most of the vt ioctls, we either have&n;&t; * to be the owner of the tty, or super-user.&n;&t; */
r_if
c_cond
(paren
id|current-&gt;tty
op_eq
id|tty
op_logical_or
id|suser
c_func
(paren
)paren
)paren
r_return
l_int|1
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|struct|consolefontdesc32
r_struct
id|consolefontdesc32
(brace
DECL|member|charcount
r_int
r_int
id|charcount
suffix:semicolon
multiline_comment|/* characters in font (256 or 512) */
DECL|member|charheight
r_int
r_int
id|charheight
suffix:semicolon
multiline_comment|/* scan lines per character (1-32) */
DECL|member|chardata
id|u32
id|chardata
suffix:semicolon
multiline_comment|/* font data in expanded form */
)brace
suffix:semicolon
DECL|function|do_fontx_ioctl
r_static
r_int
id|do_fontx_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
id|cmd
comma
r_struct
id|consolefontdesc32
op_star
id|user_cfd
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|consolefontdesc
id|cfdarg
suffix:semicolon
r_struct
id|console_font_op
id|op
suffix:semicolon
r_int
id|i
comma
id|perm
suffix:semicolon
id|perm
op_assign
id|vt_check
c_func
(paren
id|file
)paren
suffix:semicolon
r_if
c_cond
(paren
id|perm
OL
l_int|0
)paren
r_return
id|perm
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|cfdarg
comma
id|user_cfd
comma
r_sizeof
(paren
r_struct
id|consolefontdesc32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|cfdarg.chardata
op_assign
(paren
r_int
r_char
op_star
)paren
id|A
c_func
(paren
(paren
(paren
r_struct
id|consolefontdesc32
op_star
)paren
op_amp
id|cfdarg
)paren
op_member_access_from_pointer
id|chardata
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|PIO_FONTX
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|perm
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
id|op.op
op_assign
id|KD_FONT_OP_SET
suffix:semicolon
id|op.flags
op_assign
l_int|0
suffix:semicolon
id|op.width
op_assign
l_int|8
suffix:semicolon
id|op.height
op_assign
id|cfdarg.charheight
suffix:semicolon
id|op.charcount
op_assign
id|cfdarg.charcount
suffix:semicolon
id|op.data
op_assign
id|cfdarg.chardata
suffix:semicolon
r_return
id|con_font_op
c_func
(paren
id|fg_console
comma
op_amp
id|op
)paren
suffix:semicolon
r_case
id|GIO_FONTX
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|cfdarg.chardata
)paren
r_return
l_int|0
suffix:semicolon
id|op.op
op_assign
id|KD_FONT_OP_GET
suffix:semicolon
id|op.flags
op_assign
l_int|0
suffix:semicolon
id|op.width
op_assign
l_int|8
suffix:semicolon
id|op.height
op_assign
id|cfdarg.charheight
suffix:semicolon
id|op.charcount
op_assign
id|cfdarg.charcount
suffix:semicolon
id|op.data
op_assign
id|cfdarg.chardata
suffix:semicolon
id|i
op_assign
id|con_font_op
c_func
(paren
id|fg_console
comma
op_amp
id|op
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
)paren
r_return
id|i
suffix:semicolon
id|cfdarg.charheight
op_assign
id|op.height
suffix:semicolon
id|cfdarg.charcount
op_assign
id|op.charcount
suffix:semicolon
(paren
(paren
r_struct
id|consolefontdesc32
op_star
)paren
op_amp
id|cfdarg
)paren
op_member_access_from_pointer
id|chardata
op_assign
(paren
r_int
r_int
)paren
id|cfdarg.chardata
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|user_cfd
comma
op_amp
id|cfdarg
comma
r_sizeof
(paren
r_struct
id|consolefontdesc32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|struct|console_font_op32
r_struct
id|console_font_op32
(brace
DECL|member|op
r_int
r_int
id|op
suffix:semicolon
multiline_comment|/* operation code KD_FONT_OP_* */
DECL|member|flags
r_int
r_int
id|flags
suffix:semicolon
multiline_comment|/* KD_FONT_FLAG_* */
DECL|member|width
DECL|member|height
r_int
r_int
id|width
comma
id|height
suffix:semicolon
multiline_comment|/* font size */
DECL|member|charcount
r_int
r_int
id|charcount
suffix:semicolon
DECL|member|data
id|u32
id|data
suffix:semicolon
multiline_comment|/* font data with height fixed to 32 */
)brace
suffix:semicolon
DECL|function|do_kdfontop_ioctl
r_static
r_int
id|do_kdfontop_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_struct
id|console_font_op32
op_star
id|fontop
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|console_font_op
id|op
suffix:semicolon
r_int
id|perm
op_assign
id|vt_check
c_func
(paren
id|file
)paren
comma
id|i
suffix:semicolon
r_struct
id|vt_struct
op_star
id|vt
suffix:semicolon
r_if
c_cond
(paren
id|perm
OL
l_int|0
)paren
r_return
id|perm
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|op
comma
(paren
r_void
op_star
)paren
id|fontop
comma
r_sizeof
(paren
r_struct
id|console_font_op32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|perm
op_logical_and
id|op.op
op_ne
id|KD_FONT_OP_GET
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
id|op.data
op_assign
(paren
r_int
r_char
op_star
)paren
id|A
c_func
(paren
(paren
(paren
r_struct
id|console_font_op32
op_star
)paren
op_amp
id|op
)paren
op_member_access_from_pointer
id|data
)paren
suffix:semicolon
id|op.flags
op_or_assign
id|KD_FONT_FLAG_OLD
suffix:semicolon
id|vt
op_assign
(paren
r_struct
id|vt_struct
op_star
)paren
(paren
(paren
r_struct
id|tty_struct
op_star
)paren
id|file-&gt;private_data
)paren
op_member_access_from_pointer
id|driver_data
suffix:semicolon
id|i
op_assign
id|con_font_op
c_func
(paren
id|vt-&gt;vc_num
comma
op_amp
id|op
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
)paren
r_return
id|i
suffix:semicolon
(paren
(paren
r_struct
id|console_font_op32
op_star
)paren
op_amp
id|op
)paren
op_member_access_from_pointer
id|data
op_assign
(paren
r_int
r_int
)paren
id|op.data
suffix:semicolon
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|fontop
comma
op_amp
id|op
comma
r_sizeof
(paren
r_struct
id|console_font_op32
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|struct|unimapdesc32
r_struct
id|unimapdesc32
(brace
DECL|member|entry_ct
r_int
r_int
id|entry_ct
suffix:semicolon
DECL|member|entries
id|u32
id|entries
suffix:semicolon
)brace
suffix:semicolon
DECL|function|do_unimap_ioctl
r_static
r_int
id|do_unimap_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_struct
id|unimapdesc32
op_star
id|user_ud
comma
r_struct
id|file
op_star
id|file
)paren
(brace
r_struct
id|unimapdesc32
id|tmp
suffix:semicolon
r_int
id|perm
op_assign
id|vt_check
c_func
(paren
id|file
)paren
suffix:semicolon
r_if
c_cond
(paren
id|perm
OL
l_int|0
)paren
r_return
id|perm
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|tmp
comma
id|user_ud
comma
r_sizeof
id|tmp
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|PIO_UNIMAP
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|perm
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_return
id|con_set_unimap
c_func
(paren
id|fg_console
comma
id|tmp.entry_ct
comma
(paren
r_struct
id|unipair
op_star
)paren
id|A
c_func
(paren
id|tmp.entries
)paren
)paren
suffix:semicolon
r_case
id|GIO_UNIMAP
suffix:colon
r_return
id|con_get_unimap
c_func
(paren
id|fg_console
comma
id|tmp.entry_ct
comma
op_amp
(paren
id|user_ud-&gt;entry_ct
)paren
comma
(paren
r_struct
id|unipair
op_star
)paren
id|A
c_func
(paren
id|tmp.entries
)paren
)paren
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|do_smb_getmountuid
r_static
r_int
id|do_smb_getmountuid
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|__kernel_uid_t
id|kuid
suffix:semicolon
r_int
id|err
suffix:semicolon
id|cmd
op_assign
id|SMB_IOC_GETMOUNTUID
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|kuid
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
op_ge
l_int|0
)paren
id|err
op_assign
id|put_user
c_func
(paren
id|kuid
comma
(paren
id|__kernel_uid_t32
op_star
)paren
id|arg
)paren
suffix:semicolon
r_return
id|err
suffix:semicolon
)brace
DECL|struct|atmif_sioc32
r_struct
id|atmif_sioc32
(brace
DECL|member|number
r_int
id|number
suffix:semicolon
DECL|member|length
r_int
id|length
suffix:semicolon
DECL|member|arg
id|__kernel_caddr_t32
id|arg
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|atm_iobuf32
r_struct
id|atm_iobuf32
(brace
DECL|member|length
r_int
id|length
suffix:semicolon
DECL|member|buffer
id|__kernel_caddr_t32
id|buffer
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|ATM_GETLINKRATE32
mdefine_line|#define ATM_GETLINKRATE32 _IOW(&squot;a&squot;, ATMIOC_ITF+1, struct atmif_sioc32)
DECL|macro|ATM_GETNAMES32
mdefine_line|#define ATM_GETNAMES32    _IOW(&squot;a&squot;, ATMIOC_ITF+3, struct atm_iobuf32)
DECL|macro|ATM_GETTYPE32
mdefine_line|#define ATM_GETTYPE32     _IOW(&squot;a&squot;, ATMIOC_ITF+4, struct atmif_sioc32)
DECL|macro|ATM_GETESI32
mdefine_line|#define ATM_GETESI32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+5, struct atmif_sioc32)
DECL|macro|ATM_GETADDR32
mdefine_line|#define ATM_GETADDR32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+6, struct atmif_sioc32)
DECL|macro|ATM_RSTADDR32
mdefine_line|#define ATM_RSTADDR32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+7, struct atmif_sioc32)
DECL|macro|ATM_ADDADDR32
mdefine_line|#define ATM_ADDADDR32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+8, struct atmif_sioc32)
DECL|macro|ATM_DELADDR32
mdefine_line|#define ATM_DELADDR32&t;  _IOW(&squot;a&squot;, ATMIOC_ITF+9, struct atmif_sioc32)
DECL|macro|ATM_GETCIRANGE32
mdefine_line|#define ATM_GETCIRANGE32  _IOW(&squot;a&squot;, ATMIOC_ITF+10, struct atmif_sioc32)
DECL|macro|ATM_SETCIRANGE32
mdefine_line|#define ATM_SETCIRANGE32  _IOW(&squot;a&squot;, ATMIOC_ITF+11, struct atmif_sioc32)
DECL|macro|ATM_SETESI32
mdefine_line|#define ATM_SETESI32      _IOW(&squot;a&squot;, ATMIOC_ITF+12, struct atmif_sioc32)
DECL|macro|ATM_SETESIF32
mdefine_line|#define ATM_SETESIF32     _IOW(&squot;a&squot;, ATMIOC_ITF+13, struct atmif_sioc32)
DECL|macro|ATM_GETSTAT32
mdefine_line|#define ATM_GETSTAT32     _IOW(&squot;a&squot;, ATMIOC_SARCOM+0, struct atmif_sioc32)
DECL|macro|ATM_GETSTATZ32
mdefine_line|#define ATM_GETSTATZ32    _IOW(&squot;a&squot;, ATMIOC_SARCOM+1, struct atmif_sioc32)
DECL|macro|ATM_GETLOOP32
mdefine_line|#define ATM_GETLOOP32&t;  _IOW(&squot;a&squot;, ATMIOC_SARCOM+2, struct atmif_sioc32)
DECL|macro|ATM_SETLOOP32
mdefine_line|#define ATM_SETLOOP32&t;  _IOW(&squot;a&squot;, ATMIOC_SARCOM+3, struct atmif_sioc32)
DECL|macro|ATM_QUERYLOOP32
mdefine_line|#define ATM_QUERYLOOP32&t;  _IOW(&squot;a&squot;, ATMIOC_SARCOM+4, struct atmif_sioc32)
r_static
r_struct
(brace
DECL|member|cmd32
r_int
r_int
id|cmd32
suffix:semicolon
DECL|member|cmd
r_int
r_int
id|cmd
suffix:semicolon
DECL|variable|atm_ioctl_map
)brace
id|atm_ioctl_map
(braket
)braket
op_assign
(brace
(brace
id|ATM_GETLINKRATE32
comma
id|ATM_GETLINKRATE
)brace
comma
(brace
id|ATM_GETNAMES32
comma
id|ATM_GETNAMES
)brace
comma
(brace
id|ATM_GETTYPE32
comma
id|ATM_GETTYPE
)brace
comma
(brace
id|ATM_GETESI32
comma
id|ATM_GETESI
)brace
comma
(brace
id|ATM_GETADDR32
comma
id|ATM_GETADDR
)brace
comma
(brace
id|ATM_RSTADDR32
comma
id|ATM_RSTADDR
)brace
comma
(brace
id|ATM_ADDADDR32
comma
id|ATM_ADDADDR
)brace
comma
(brace
id|ATM_DELADDR32
comma
id|ATM_DELADDR
)brace
comma
(brace
id|ATM_GETCIRANGE32
comma
id|ATM_GETCIRANGE
)brace
comma
(brace
id|ATM_SETCIRANGE32
comma
id|ATM_SETCIRANGE
)brace
comma
(brace
id|ATM_SETESI32
comma
id|ATM_SETESI
)brace
comma
(brace
id|ATM_SETESIF32
comma
id|ATM_SETESIF
)brace
comma
(brace
id|ATM_GETSTAT32
comma
id|ATM_GETSTAT
)brace
comma
(brace
id|ATM_GETSTATZ32
comma
id|ATM_GETSTATZ
)brace
comma
(brace
id|ATM_GETLOOP32
comma
id|ATM_GETLOOP
)brace
comma
(brace
id|ATM_SETLOOP32
comma
id|ATM_SETLOOP
)brace
comma
(brace
id|ATM_QUERYLOOP32
comma
id|ATM_QUERYLOOP
)brace
)brace
suffix:semicolon
DECL|macro|NR_ATM_IOCTL
mdefine_line|#define NR_ATM_IOCTL (sizeof(atm_ioctl_map)/sizeof(atm_ioctl_map[0]))
DECL|function|do_atm_iobuf
r_static
r_int
id|do_atm_iobuf
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|atm_iobuf32
id|iobuf32
suffix:semicolon
r_struct
id|atm_iobuf
id|iobuf
op_assign
(brace
l_int|0
comma
l_int|NULL
)brace
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|err
suffix:semicolon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|iobuf32
comma
(paren
r_struct
id|atm_iobuf32
op_star
)paren
id|arg
comma
r_sizeof
(paren
r_struct
id|atm_iobuf32
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|iobuf.length
op_assign
id|iobuf32.length
suffix:semicolon
r_if
c_cond
(paren
id|iobuf32.buffer
op_eq
(paren
id|__kernel_caddr_t32
)paren
l_int|NULL
op_logical_or
id|iobuf32.length
op_eq
l_int|0
)paren
(brace
id|iobuf.buffer
op_assign
(paren
r_void
op_star
)paren
(paren
r_int
r_int
)paren
id|iobuf32.buffer
suffix:semicolon
)brace
r_else
(brace
id|iobuf.buffer
op_assign
id|kmalloc
c_func
(paren
id|iobuf.length
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|iobuf.buffer
op_eq
l_int|NULL
)paren
(brace
id|err
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
id|err
op_assign
id|copy_from_user
c_func
(paren
id|iobuf.buffer
comma
id|A
c_func
(paren
id|iobuf32.buffer
)paren
comma
id|iobuf.length
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|iobuf
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
r_goto
id|out
suffix:semicolon
)brace
r_if
c_cond
(paren
id|iobuf.buffer
op_logical_and
id|iobuf.length
OG
l_int|0
)paren
(brace
id|err
op_assign
id|copy_to_user
c_func
(paren
id|A
c_func
(paren
id|iobuf32.buffer
)paren
comma
id|iobuf.buffer
comma
id|iobuf.length
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
)brace
id|err
op_assign
id|__put_user
c_func
(paren
id|iobuf.length
comma
op_amp
(paren
(paren
(paren
r_struct
id|atm_iobuf32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|length
)paren
)paren
suffix:semicolon
id|out
suffix:colon
r_if
c_cond
(paren
id|iobuf32.buffer
op_logical_and
id|iobuf32.length
OG
l_int|0
)paren
(brace
id|kfree
c_func
(paren
id|iobuf.buffer
)paren
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|do_atmif_sioc
r_static
r_int
id|do_atmif_sioc
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|atmif_sioc32
id|sioc32
suffix:semicolon
r_struct
id|atmif_sioc
id|sioc
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|NULL
)brace
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|err
suffix:semicolon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|sioc32
comma
(paren
r_struct
id|atmif_sioc32
op_star
)paren
id|arg
comma
r_sizeof
(paren
r_struct
id|atmif_sioc32
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|sioc.number
op_assign
id|sioc32.number
suffix:semicolon
id|sioc.length
op_assign
id|sioc32.length
suffix:semicolon
r_if
c_cond
(paren
id|sioc32.arg
op_eq
(paren
id|__kernel_caddr_t32
)paren
l_int|NULL
op_logical_or
id|sioc32.length
op_eq
l_int|0
)paren
(brace
id|sioc.arg
op_assign
(paren
r_void
op_star
)paren
(paren
r_int
r_int
)paren
id|sioc32.arg
suffix:semicolon
)brace
r_else
(brace
id|sioc.arg
op_assign
id|kmalloc
c_func
(paren
id|sioc.length
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sioc.arg
op_eq
l_int|NULL
)paren
(brace
id|err
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
id|err
op_assign
id|copy_from_user
c_func
(paren
id|sioc.arg
comma
id|A
c_func
(paren
id|sioc32.arg
)paren
comma
id|sioc32.length
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|sioc
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
r_goto
id|out
suffix:semicolon
)brace
r_if
c_cond
(paren
id|sioc.arg
op_logical_and
id|sioc.length
OG
l_int|0
)paren
(brace
id|err
op_assign
id|copy_to_user
c_func
(paren
id|A
c_func
(paren
id|sioc32.arg
)paren
comma
id|sioc.arg
comma
id|sioc.length
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
)brace
id|err
op_assign
id|__put_user
c_func
(paren
id|sioc.length
comma
op_amp
(paren
(paren
(paren
r_struct
id|atmif_sioc32
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|length
)paren
)paren
suffix:semicolon
id|out
suffix:colon
r_if
c_cond
(paren
id|sioc32.arg
op_logical_and
id|sioc32.length
OG
l_int|0
)paren
(brace
id|kfree
c_func
(paren
id|sioc.arg
)paren
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|do_atm_ioctl
r_static
r_int
id|do_atm_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd32
comma
r_int
r_int
id|arg
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_int
id|cmd
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|cmd32
)paren
(brace
r_case
id|SONET_GETSTAT
suffix:colon
r_case
id|SONET_GETSTATZ
suffix:colon
r_case
id|SONET_GETDIAG
suffix:colon
r_case
id|SONET_SETDIAG
suffix:colon
r_case
id|SONET_CLRDIAG
suffix:colon
r_case
id|SONET_SETFRAMING
suffix:colon
r_case
id|SONET_GETFRAMING
suffix:colon
r_case
id|SONET_GETFRSENSE
suffix:colon
r_return
id|do_atmif_sioc
c_func
(paren
id|fd
comma
id|cmd32
comma
id|arg
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|NR_ATM_IOCTL
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|cmd32
op_eq
id|atm_ioctl_map
(braket
id|i
)braket
dot
id|cmd32
)paren
(brace
id|cmd
op_assign
id|atm_ioctl_map
(braket
id|i
)braket
dot
id|cmd
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|i
op_eq
id|NR_ATM_IOCTL
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|ATM_GETNAMES
suffix:colon
r_return
id|do_atm_iobuf
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_case
id|ATM_GETLINKRATE
suffix:colon
r_case
id|ATM_GETTYPE
suffix:colon
r_case
id|ATM_GETESI
suffix:colon
r_case
id|ATM_GETADDR
suffix:colon
r_case
id|ATM_RSTADDR
suffix:colon
r_case
id|ATM_ADDADDR
suffix:colon
r_case
id|ATM_DELADDR
suffix:colon
r_case
id|ATM_GETCIRANGE
suffix:colon
r_case
id|ATM_SETCIRANGE
suffix:colon
r_case
id|ATM_SETESI
suffix:colon
r_case
id|ATM_SETESIF
suffix:colon
r_case
id|ATM_GETSTAT
suffix:colon
r_case
id|ATM_GETSTATZ
suffix:colon
r_case
id|ATM_GETLOOP
suffix:colon
r_case
id|ATM_SETLOOP
suffix:colon
r_case
id|ATM_QUERYLOOP
suffix:colon
r_return
id|do_atmif_sioc
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
macro_line|#if defined(CONFIG_BLK_DEV_LVM) || defined(CONFIG_BLK_DEV_LVM_MODULE)
multiline_comment|/* Ugh, LVM. Pitty it was not cleaned up before accepted :((. */
r_typedef
r_struct
(brace
DECL|member|vg_name
r_uint8
id|vg_name
(braket
id|NAME_LEN
)braket
suffix:semicolon
DECL|member|vg_number
r_uint32
id|vg_number
suffix:semicolon
DECL|member|vg_access
r_uint32
id|vg_access
suffix:semicolon
DECL|member|vg_status
r_uint32
id|vg_status
suffix:semicolon
DECL|member|lv_max
r_uint32
id|lv_max
suffix:semicolon
DECL|member|lv_cur
r_uint32
id|lv_cur
suffix:semicolon
DECL|member|lv_open
r_uint32
id|lv_open
suffix:semicolon
DECL|member|pv_max
r_uint32
id|pv_max
suffix:semicolon
DECL|member|pv_cur
r_uint32
id|pv_cur
suffix:semicolon
DECL|member|pv_act
r_uint32
id|pv_act
suffix:semicolon
DECL|member|dummy
r_uint32
id|dummy
suffix:semicolon
DECL|member|vgda
r_uint32
id|vgda
suffix:semicolon
DECL|member|pe_size
r_uint32
id|pe_size
suffix:semicolon
DECL|member|pe_total
r_uint32
id|pe_total
suffix:semicolon
DECL|member|pe_allocated
r_uint32
id|pe_allocated
suffix:semicolon
DECL|member|pvg_total
r_uint32
id|pvg_total
suffix:semicolon
DECL|member|proc
id|u32
id|proc
suffix:semicolon
DECL|member|pv
id|u32
id|pv
(braket
id|ABS_MAX_PV
op_plus
l_int|1
)braket
suffix:semicolon
DECL|member|lv
id|u32
id|lv
(braket
id|ABS_MAX_LV
op_plus
l_int|1
)braket
suffix:semicolon
DECL|typedef|vg32_t
)brace
id|vg32_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|id
r_uint8
id|id
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|version
r_uint16
id|version
suffix:semicolon
DECL|member|pv_on_disk
id|lvm_disk_data_t
id|pv_on_disk
suffix:semicolon
DECL|member|vg_on_disk
id|lvm_disk_data_t
id|vg_on_disk
suffix:semicolon
DECL|member|pv_namelist_on_disk
id|lvm_disk_data_t
id|pv_namelist_on_disk
suffix:semicolon
DECL|member|lv_on_disk
id|lvm_disk_data_t
id|lv_on_disk
suffix:semicolon
DECL|member|pe_on_disk
id|lvm_disk_data_t
id|pe_on_disk
suffix:semicolon
DECL|member|pv_name
r_uint8
id|pv_name
(braket
id|NAME_LEN
)braket
suffix:semicolon
DECL|member|vg_name
r_uint8
id|vg_name
(braket
id|NAME_LEN
)braket
suffix:semicolon
DECL|member|system_id
r_uint8
id|system_id
(braket
id|NAME_LEN
)braket
suffix:semicolon
DECL|member|pv_dev
id|kdev_t
id|pv_dev
suffix:semicolon
DECL|member|pv_number
r_uint32
id|pv_number
suffix:semicolon
DECL|member|pv_status
r_uint32
id|pv_status
suffix:semicolon
DECL|member|pv_allocatable
r_uint32
id|pv_allocatable
suffix:semicolon
DECL|member|pv_size
r_uint32
id|pv_size
suffix:semicolon
DECL|member|lv_cur
r_uint32
id|lv_cur
suffix:semicolon
DECL|member|pe_size
r_uint32
id|pe_size
suffix:semicolon
DECL|member|pe_total
r_uint32
id|pe_total
suffix:semicolon
DECL|member|pe_allocated
r_uint32
id|pe_allocated
suffix:semicolon
DECL|member|pe_stale
r_uint32
id|pe_stale
suffix:semicolon
DECL|member|pe
id|u32
id|pe
suffix:semicolon
DECL|member|inode
id|u32
id|inode
suffix:semicolon
DECL|typedef|pv32_t
)brace
id|pv32_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|lv_name
r_char
id|lv_name
(braket
id|NAME_LEN
)braket
suffix:semicolon
DECL|member|lv
id|u32
id|lv
suffix:semicolon
DECL|typedef|lv_req32_t
)brace
id|lv_req32_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|lv_index
id|u32
id|lv_index
suffix:semicolon
DECL|member|lv
id|u32
id|lv
suffix:semicolon
DECL|typedef|lv_status_byindex_req32_t
)brace
id|lv_status_byindex_req32_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|lv_name
r_uint8
id|lv_name
(braket
id|NAME_LEN
)braket
suffix:semicolon
DECL|member|old_dev
id|kdev_t
id|old_dev
suffix:semicolon
DECL|member|new_dev
id|kdev_t
id|new_dev
suffix:semicolon
DECL|member|old_pe
id|u32
id|old_pe
suffix:semicolon
DECL|member|new_pe
id|u32
id|new_pe
suffix:semicolon
DECL|typedef|le_remap_req32_t
)brace
id|le_remap_req32_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|pv_name
r_char
id|pv_name
(braket
id|NAME_LEN
)braket
suffix:semicolon
DECL|member|pv
id|u32
id|pv
suffix:semicolon
DECL|typedef|pv_status_req32_t
)brace
id|pv_status_req32_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|lv_name
r_uint8
id|lv_name
(braket
id|NAME_LEN
)braket
suffix:semicolon
DECL|member|vg_name
r_uint8
id|vg_name
(braket
id|NAME_LEN
)braket
suffix:semicolon
DECL|member|lv_access
r_uint32
id|lv_access
suffix:semicolon
DECL|member|lv_status
r_uint32
id|lv_status
suffix:semicolon
DECL|member|lv_open
r_uint32
id|lv_open
suffix:semicolon
DECL|member|lv_dev
id|kdev_t
id|lv_dev
suffix:semicolon
DECL|member|lv_number
r_uint32
id|lv_number
suffix:semicolon
DECL|member|lv_mirror_copies
r_uint32
id|lv_mirror_copies
suffix:semicolon
DECL|member|lv_recovery
r_uint32
id|lv_recovery
suffix:semicolon
DECL|member|lv_schedule
r_uint32
id|lv_schedule
suffix:semicolon
DECL|member|lv_size
r_uint32
id|lv_size
suffix:semicolon
DECL|member|lv_current_pe
id|u32
id|lv_current_pe
suffix:semicolon
DECL|member|lv_current_le
r_uint32
id|lv_current_le
suffix:semicolon
DECL|member|lv_allocated_le
r_uint32
id|lv_allocated_le
suffix:semicolon
DECL|member|lv_stripes
r_uint32
id|lv_stripes
suffix:semicolon
DECL|member|lv_stripesize
r_uint32
id|lv_stripesize
suffix:semicolon
DECL|member|lv_badblock
r_uint32
id|lv_badblock
suffix:semicolon
DECL|member|lv_allocation
r_uint32
id|lv_allocation
suffix:semicolon
DECL|member|lv_io_timeout
r_uint32
id|lv_io_timeout
suffix:semicolon
DECL|member|lv_read_ahead
r_uint32
id|lv_read_ahead
suffix:semicolon
multiline_comment|/* delta to version 1 starts here */
DECL|member|lv_snapshot_org
id|u32
id|lv_snapshot_org
suffix:semicolon
DECL|member|lv_snapshot_prev
id|u32
id|lv_snapshot_prev
suffix:semicolon
DECL|member|lv_snapshot_next
id|u32
id|lv_snapshot_next
suffix:semicolon
DECL|member|lv_block_exception
id|u32
id|lv_block_exception
suffix:semicolon
DECL|member|lv_remap_ptr
r_uint32
id|lv_remap_ptr
suffix:semicolon
DECL|member|lv_remap_end
r_uint32
id|lv_remap_end
suffix:semicolon
DECL|member|lv_chunk_size
r_uint32
id|lv_chunk_size
suffix:semicolon
DECL|member|lv_snapshot_minor
r_uint32
id|lv_snapshot_minor
suffix:semicolon
DECL|member|dummy
r_char
id|dummy
(braket
l_int|200
)braket
suffix:semicolon
DECL|typedef|lv32_t
)brace
id|lv32_t
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|hash
id|u32
id|hash
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|rsector_org
id|u32
id|rsector_org
suffix:semicolon
DECL|member|rdev_org
id|kdev_t
id|rdev_org
suffix:semicolon
DECL|member|rsector_new
id|u32
id|rsector_new
suffix:semicolon
DECL|member|rdev_new
id|kdev_t
id|rdev_new
suffix:semicolon
DECL|typedef|lv_block_exception32_t
)brace
id|lv_block_exception32_t
suffix:semicolon
DECL|function|put_lv_t
r_static
r_void
id|put_lv_t
c_func
(paren
id|lv_t
op_star
id|l
)paren
(brace
r_if
c_cond
(paren
id|l-&gt;lv_current_pe
)paren
id|vfree
c_func
(paren
id|l-&gt;lv_current_pe
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l-&gt;lv_block_exception
)paren
id|vfree
c_func
(paren
id|l-&gt;lv_block_exception
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|l
)paren
suffix:semicolon
)brace
DECL|function|get_lv_t
r_static
id|lv_t
op_star
id|get_lv_t
c_func
(paren
id|u32
id|p
comma
r_int
op_star
id|errp
)paren
(brace
r_int
id|err
comma
id|i
suffix:semicolon
id|u32
id|ptr1
comma
id|ptr2
suffix:semicolon
r_int
id|size
suffix:semicolon
id|lv_block_exception32_t
op_star
id|lbe32
suffix:semicolon
id|lv_block_exception_t
op_star
id|lbe
suffix:semicolon
id|lv32_t
op_star
id|ul
op_assign
(paren
id|lv32_t
op_star
)paren
id|A
c_func
(paren
id|p
)paren
suffix:semicolon
id|lv_t
op_star
id|l
op_assign
(paren
id|lv_t
op_star
)paren
id|kmalloc
c_func
(paren
r_sizeof
(paren
id|lv_t
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|l
)paren
(brace
op_star
id|errp
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_return
l_int|NULL
suffix:semicolon
)brace
id|memset
c_func
(paren
id|l
comma
l_int|0
comma
r_sizeof
(paren
id|lv_t
)paren
)paren
suffix:semicolon
id|err
op_assign
id|copy_from_user
c_func
(paren
id|l
comma
id|ul
comma
(paren
r_int
)paren
op_amp
(paren
(paren
id|lv32_t
op_star
)paren
l_int|0
)paren
op_member_access_from_pointer
id|lv_current_pe
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
op_amp
id|l-&gt;lv_current_le
comma
op_amp
id|ul-&gt;lv_current_le
comma
(paren
(paren
r_int
)paren
op_amp
id|ul-&gt;lv_snapshot_org
)paren
op_minus
(paren
(paren
r_int
)paren
op_amp
id|ul-&gt;lv_current_le
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_from_user
c_func
(paren
op_amp
id|l-&gt;lv_remap_ptr
comma
op_amp
id|ul-&gt;lv_remap_ptr
comma
(paren
(paren
r_int
)paren
op_amp
id|ul-&gt;dummy
(braket
l_int|0
)braket
)paren
op_minus
(paren
(paren
r_int
)paren
op_amp
id|ul-&gt;lv_remap_ptr
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ptr1
comma
op_amp
id|ul-&gt;lv_current_pe
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ptr2
comma
op_amp
id|ul-&gt;lv_block_exception
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|kfree
c_func
(paren
id|l
)paren
suffix:semicolon
op_star
id|errp
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_return
l_int|NULL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ptr1
)paren
(brace
id|size
op_assign
id|l-&gt;lv_allocated_le
op_star
r_sizeof
(paren
id|pe_t
)paren
suffix:semicolon
id|l-&gt;lv_current_pe
op_assign
id|vmalloc
c_func
(paren
id|size
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l-&gt;lv_current_pe
)paren
id|err
op_assign
id|copy_from_user
c_func
(paren
id|l-&gt;lv_current_pe
comma
(paren
r_void
op_star
)paren
id|A
c_func
(paren
id|ptr1
)paren
comma
id|size
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|err
op_logical_and
id|ptr2
)paren
(brace
id|size
op_assign
id|l-&gt;lv_remap_end
op_star
r_sizeof
(paren
id|lv_block_exception_t
)paren
suffix:semicolon
id|l-&gt;lv_block_exception
op_assign
id|lbe
op_assign
id|vmalloc
c_func
(paren
id|size
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l-&gt;lv_block_exception
)paren
(brace
id|lbe32
op_assign
(paren
id|lv_block_exception32_t
op_star
)paren
id|A
c_func
(paren
id|ptr2
)paren
suffix:semicolon
id|memset
c_func
(paren
id|lbe
comma
l_int|0
comma
id|size
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|l-&gt;lv_remap_end
suffix:semicolon
id|i
op_increment
comma
id|lbe
op_increment
comma
id|lbe32
op_increment
)paren
(brace
id|err
op_or_assign
id|get_user
c_func
(paren
id|lbe-&gt;rsector_org
comma
op_amp
id|lbe32-&gt;rsector_org
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|lbe-&gt;rdev_org
comma
op_amp
id|lbe32-&gt;rdev_org
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|lbe-&gt;rsector_new
comma
op_amp
id|lbe32-&gt;rsector_new
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|lbe-&gt;rdev_new
comma
op_amp
id|lbe32-&gt;rdev_new
)paren
suffix:semicolon
)brace
)brace
)brace
r_if
c_cond
(paren
id|err
op_logical_or
(paren
id|ptr1
op_logical_and
op_logical_neg
id|l-&gt;lv_current_pe
)paren
op_logical_or
(paren
id|ptr2
op_logical_and
op_logical_neg
id|l-&gt;lv_block_exception
)paren
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
op_star
id|errp
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_else
op_star
id|errp
op_assign
op_minus
id|EFAULT
suffix:semicolon
id|put_lv_t
c_func
(paren
id|l
)paren
suffix:semicolon
r_return
l_int|NULL
suffix:semicolon
)brace
r_return
id|l
suffix:semicolon
)brace
DECL|function|copy_lv_t
r_static
r_int
id|copy_lv_t
c_func
(paren
id|u32
id|ptr
comma
id|lv_t
op_star
id|l
)paren
(brace
r_int
id|err
suffix:semicolon
id|lv32_t
op_star
id|ul
op_assign
(paren
id|lv32_t
op_star
)paren
id|A
c_func
(paren
id|ptr
)paren
suffix:semicolon
id|u32
id|ptr1
suffix:semicolon
r_int
id|size
suffix:semicolon
id|err
op_assign
id|get_user
c_func
(paren
id|ptr1
comma
op_amp
id|ul-&gt;lv_current_pe
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|copy_to_user
c_func
(paren
id|ul
comma
id|l
comma
(paren
r_int
)paren
op_amp
(paren
(paren
id|lv32_t
op_star
)paren
l_int|0
)paren
op_member_access_from_pointer
id|lv_current_pe
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
op_amp
id|ul-&gt;lv_current_le
comma
op_amp
id|l-&gt;lv_current_le
comma
(paren
(paren
r_int
)paren
op_amp
id|ul-&gt;lv_snapshot_org
)paren
op_minus
(paren
(paren
r_int
)paren
op_amp
id|ul-&gt;lv_current_le
)paren
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
op_amp
id|ul-&gt;lv_remap_ptr
comma
op_amp
id|l-&gt;lv_remap_ptr
comma
(paren
(paren
r_int
)paren
op_amp
id|ul-&gt;dummy
(braket
l_int|0
)braket
)paren
op_minus
(paren
(paren
r_int
)paren
op_amp
id|ul-&gt;lv_remap_ptr
)paren
)paren
suffix:semicolon
id|size
op_assign
id|l-&gt;lv_allocated_le
op_star
r_sizeof
(paren
id|pe_t
)paren
suffix:semicolon
id|err
op_or_assign
id|__copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|A
c_func
(paren
id|ptr1
)paren
comma
id|l-&gt;lv_current_pe
comma
id|size
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
DECL|function|do_lvm_ioctl
r_static
r_int
id|do_lvm_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|vg_t
op_star
id|v
suffix:semicolon
r_union
(brace
id|lv_req_t
id|lv_req
suffix:semicolon
id|le_remap_req_t
id|le_remap
suffix:semicolon
id|lv_status_byindex_req_t
id|lv_byindex
suffix:semicolon
id|pv_status_req32_t
id|pv_status
suffix:semicolon
)brace
id|u
suffix:semicolon
id|pv_t
id|p
suffix:semicolon
r_int
id|err
suffix:semicolon
id|u32
id|ptr
op_assign
l_int|0
suffix:semicolon
r_int
id|i
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_void
op_star
id|karg
op_assign
op_amp
id|u
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|VG_STATUS
suffix:colon
id|v
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
id|vg_t
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|v
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|karg
op_assign
id|v
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VG_CREATE
suffix:colon
id|v
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
id|vg_t
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|v
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|v
comma
(paren
r_void
op_star
)paren
id|arg
comma
(paren
r_int
)paren
op_amp
(paren
(paren
id|vg32_t
op_star
)paren
l_int|0
)paren
op_member_access_from_pointer
id|proc
)paren
op_logical_or
id|__get_user
c_func
(paren
id|v-&gt;proc
comma
op_amp
(paren
(paren
id|vg32_t
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|proc
)paren
)paren
(brace
id|kfree
c_func
(paren
id|v
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
id|karg
op_assign
id|v
suffix:semicolon
id|memset
c_func
(paren
id|v-&gt;pv
comma
l_int|0
comma
r_sizeof
(paren
id|v-&gt;pv
)paren
op_plus
r_sizeof
(paren
id|v-&gt;lv
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|v-&gt;pv_max
OG
id|ABS_MAX_PV
op_logical_or
id|v-&gt;lv_max
OG
id|ABS_MAX_LV
)paren
r_return
op_minus
id|EPERM
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|v-&gt;pv_max
suffix:semicolon
id|i
op_increment
)paren
(brace
id|err
op_assign
id|__get_user
c_func
(paren
id|ptr
comma
op_amp
(paren
(paren
id|vg32_t
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|pv
(braket
id|i
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_break
suffix:semicolon
r_if
c_cond
(paren
id|ptr
)paren
(brace
id|v-&gt;pv
(braket
id|i
)braket
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
id|pv_t
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|v-&gt;pv
(braket
id|i
)braket
)paren
(brace
id|err
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_break
suffix:semicolon
)brace
id|err
op_assign
id|copy_from_user
c_func
(paren
id|v-&gt;pv
(braket
id|i
)braket
comma
(paren
r_void
op_star
)paren
id|A
c_func
(paren
id|ptr
)paren
comma
r_sizeof
(paren
id|pv32_t
)paren
op_minus
l_int|8
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
(brace
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_break
suffix:semicolon
)brace
id|v-&gt;pv
(braket
id|i
)braket
op_member_access_from_pointer
id|pe
op_assign
l_int|NULL
suffix:semicolon
id|v-&gt;pv
(braket
id|i
)braket
op_member_access_from_pointer
id|inode
op_assign
l_int|NULL
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|v-&gt;lv_max
suffix:semicolon
id|i
op_increment
)paren
(brace
id|err
op_assign
id|__get_user
c_func
(paren
id|ptr
comma
op_amp
(paren
(paren
id|vg32_t
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lv
(braket
id|i
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_break
suffix:semicolon
r_if
c_cond
(paren
id|ptr
)paren
(brace
id|v-&gt;lv
(braket
id|i
)braket
op_assign
id|get_lv_t
c_func
(paren
id|ptr
comma
op_amp
id|err
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_break
suffix:semicolon
)brace
)brace
)brace
r_break
suffix:semicolon
r_case
id|LV_CREATE
suffix:colon
r_case
id|LV_EXTEND
suffix:colon
r_case
id|LV_REDUCE
suffix:colon
r_case
id|LV_REMOVE
suffix:colon
r_case
id|LV_STATUS_BYNAME
suffix:colon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|u.pv_status
comma
id|arg
comma
r_sizeof
(paren
id|u.pv_status.pv_name
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_ne
id|LV_REMOVE
)paren
(brace
id|err
op_assign
id|__get_user
c_func
(paren
id|ptr
comma
op_amp
(paren
(paren
id|lv_req32_t
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lv
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
id|u.lv_req.lv
op_assign
id|get_lv_t
c_func
(paren
id|ptr
comma
op_amp
id|err
)paren
suffix:semicolon
)brace
r_else
id|u.lv_req.lv
op_assign
l_int|NULL
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LV_STATUS_BYINDEX
suffix:colon
id|err
op_assign
id|get_user
c_func
(paren
id|u.lv_byindex.lv_index
comma
op_amp
(paren
(paren
id|lv_status_byindex_req32_t
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lv_index
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|ptr
comma
op_amp
(paren
(paren
id|lv_status_byindex_req32_t
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|lv
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
id|u.lv_byindex.lv
op_assign
id|get_lv_t
c_func
(paren
id|ptr
comma
op_amp
id|err
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VG_EXTEND
suffix:colon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|p
comma
(paren
r_void
op_star
)paren
id|arg
comma
r_sizeof
(paren
id|pv32_t
)paren
op_minus
l_int|8
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|p.pe
op_assign
l_int|NULL
suffix:semicolon
id|p.inode
op_assign
l_int|NULL
suffix:semicolon
id|karg
op_assign
op_amp
id|p
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LE_REMAP
suffix:colon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|u.le_remap
comma
(paren
r_void
op_star
)paren
id|arg
comma
r_sizeof
(paren
id|le_remap_req32_t
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|u.le_remap.new_pe
op_assign
(paren
(paren
id|le_remap_req32_t
op_star
)paren
op_amp
id|u.le_remap
)paren
op_member_access_from_pointer
id|new_pe
suffix:semicolon
id|u.le_remap.old_pe
op_assign
(paren
(paren
id|le_remap_req32_t
op_star
)paren
op_amp
id|u.le_remap
)paren
op_member_access_from_pointer
id|old_pe
suffix:semicolon
r_break
suffix:semicolon
r_case
id|PV_CHANGE
suffix:colon
r_case
id|PV_STATUS
suffix:colon
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|u.pv_status
comma
id|arg
comma
r_sizeof
(paren
id|u.lv_req.lv_name
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|err
op_assign
id|__get_user
c_func
(paren
id|ptr
comma
op_amp
(paren
(paren
id|pv_status_req32_t
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|pv
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
id|u.pv_status.pv
op_assign
op_amp
id|p
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|PV_CHANGE
)paren
(brace
id|err
op_assign
id|copy_from_user
c_func
(paren
op_amp
id|p
comma
(paren
r_void
op_star
)paren
id|A
c_func
(paren
id|ptr
)paren
comma
r_sizeof
(paren
id|pv32_t
)paren
op_minus
l_int|8
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|p.pe
op_assign
l_int|NULL
suffix:semicolon
id|p.inode
op_assign
l_int|NULL
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
id|karg
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|cmd
)paren
(brace
r_case
id|VG_STATUS
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|arg
comma
id|v
comma
(paren
r_int
)paren
op_amp
(paren
(paren
id|vg32_t
op_star
)paren
l_int|0
)paren
op_member_access_from_pointer
id|proc
)paren
op_logical_or
id|clear_user
c_func
(paren
op_amp
(paren
(paren
id|vg32_t
op_star
)paren
id|arg
)paren
op_member_access_from_pointer
id|proc
comma
r_sizeof
(paren
id|vg32_t
)paren
op_minus
(paren
r_int
)paren
op_amp
(paren
(paren
id|vg32_t
op_star
)paren
l_int|0
)paren
op_member_access_from_pointer
id|proc
)paren
)paren
id|err
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
id|kfree
c_func
(paren
id|v
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|VG_CREATE
suffix:colon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|v-&gt;pv_max
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|v-&gt;pv
(braket
id|i
)braket
)paren
id|kfree
c_func
(paren
id|v-&gt;pv
(braket
id|i
)braket
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|v-&gt;lv_max
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
id|v-&gt;lv
(braket
id|i
)braket
)paren
id|put_lv_t
c_func
(paren
id|v-&gt;lv
(braket
id|i
)braket
)paren
suffix:semicolon
id|kfree
c_func
(paren
id|v
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LV_STATUS_BYNAME
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|err
op_logical_and
id|u.lv_req.lv
)paren
id|err
op_assign
id|copy_lv_t
c_func
(paren
id|ptr
comma
id|u.lv_req.lv
)paren
suffix:semicolon
multiline_comment|/* Fall through */
r_case
id|LV_CREATE
suffix:colon
r_case
id|LV_EXTEND
suffix:colon
r_case
id|LV_REDUCE
suffix:colon
r_if
c_cond
(paren
id|u.lv_req.lv
)paren
id|put_lv_t
c_func
(paren
id|u.lv_req.lv
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|LV_STATUS_BYINDEX
suffix:colon
r_if
c_cond
(paren
id|u.lv_byindex.lv
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
id|err
op_assign
id|copy_lv_t
c_func
(paren
id|ptr
comma
id|u.lv_byindex.lv
)paren
suffix:semicolon
id|put_lv_t
c_func
(paren
id|u.lv_byindex.lv
)paren
suffix:semicolon
)brace
r_case
id|PV_STATUS
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|err
)paren
(brace
id|err
op_assign
id|copy_to_user
c_func
(paren
(paren
r_void
op_star
)paren
id|A
c_func
(paren
id|ptr
)paren
comma
op_amp
id|p
comma
r_sizeof
(paren
id|pv32_t
)paren
op_minus
l_int|8
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
macro_line|#endif
macro_line|#if defined(CONFIG_DRM) || defined(CONFIG_DRM_MODULE)
multiline_comment|/* This really belongs in include/linux/drm.h -DaveM */
macro_line|#include &quot;../../../drivers/char/drm/drm.h&quot;
DECL|struct|drm32_version
r_typedef
r_struct
id|drm32_version
(brace
DECL|member|version_major
r_int
id|version_major
suffix:semicolon
multiline_comment|/* Major version&t;&t;&t;    */
DECL|member|version_minor
r_int
id|version_minor
suffix:semicolon
multiline_comment|/* Minor version&t;&t;&t;    */
DECL|member|version_patchlevel
r_int
id|version_patchlevel
suffix:semicolon
multiline_comment|/* Patch level&t;&t;&t;    */
DECL|member|name_len
r_int
id|name_len
suffix:semicolon
multiline_comment|/* Length of name buffer&t;&t;    */
DECL|member|name
id|u32
id|name
suffix:semicolon
multiline_comment|/* Name of driver&t;&t;&t;    */
DECL|member|date_len
r_int
id|date_len
suffix:semicolon
multiline_comment|/* Length of date buffer&t;&t;    */
DECL|member|date
id|u32
id|date
suffix:semicolon
multiline_comment|/* User-space buffer to hold date&t;    */
DECL|member|desc_len
r_int
id|desc_len
suffix:semicolon
multiline_comment|/* Length of desc buffer&t;&t;    */
DECL|member|desc
id|u32
id|desc
suffix:semicolon
multiline_comment|/* User-space buffer to hold desc&t;    */
DECL|typedef|drm32_version_t
)brace
id|drm32_version_t
suffix:semicolon
DECL|macro|DRM32_IOCTL_VERSION
mdefine_line|#define DRM32_IOCTL_VERSION    DRM_IOWR(0x00, drm32_version_t)
DECL|function|drm32_version
r_static
r_int
id|drm32_version
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|drm32_version_t
op_star
id|uversion
op_assign
(paren
id|drm32_version_t
op_star
)paren
id|arg
suffix:semicolon
r_char
op_star
id|name_ptr
comma
op_star
id|date_ptr
comma
op_star
id|desc_ptr
suffix:semicolon
id|u32
id|tmp1
comma
id|tmp2
comma
id|tmp3
suffix:semicolon
id|drm_version_t
id|kversion
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|ret
suffix:semicolon
id|memset
c_func
(paren
op_amp
id|kversion
comma
l_int|0
comma
r_sizeof
(paren
id|kversion
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|kversion.name_len
comma
op_amp
id|uversion-&gt;name_len
)paren
op_logical_or
id|get_user
c_func
(paren
id|kversion.date_len
comma
op_amp
id|uversion-&gt;date_len
)paren
op_logical_or
id|get_user
c_func
(paren
id|kversion.desc_len
comma
op_amp
id|uversion-&gt;desc_len
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp1
comma
op_amp
id|uversion-&gt;name
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp2
comma
op_amp
id|uversion-&gt;date
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp3
comma
op_amp
id|uversion-&gt;desc
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|name_ptr
op_assign
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|tmp1
)paren
suffix:semicolon
id|date_ptr
op_assign
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|tmp2
)paren
suffix:semicolon
id|desc_ptr
op_assign
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|tmp3
)paren
suffix:semicolon
id|ret
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|kversion.name_len
op_logical_and
id|name_ptr
)paren
(brace
id|kversion.name
op_assign
id|kmalloc
c_func
(paren
id|kversion.name_len
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|kversion.name
)paren
r_goto
id|out
suffix:semicolon
)brace
r_if
c_cond
(paren
id|kversion.date_len
op_logical_and
id|date_ptr
)paren
(brace
id|kversion.date
op_assign
id|kmalloc
c_func
(paren
id|kversion.date_len
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|kversion.date
)paren
r_goto
id|out
suffix:semicolon
)brace
r_if
c_cond
(paren
id|kversion.desc_len
op_logical_and
id|desc_ptr
)paren
(brace
id|kversion.desc
op_assign
id|kmalloc
c_func
(paren
id|kversion.desc_len
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|kversion.desc
)paren
r_goto
id|out
suffix:semicolon
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|DRM_IOCTL_VERSION
comma
(paren
r_int
r_int
)paren
op_amp
id|kversion
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ret
)paren
(brace
r_if
c_cond
(paren
(paren
id|kversion.name
op_logical_and
id|copy_to_user
c_func
(paren
id|name_ptr
comma
id|kversion.name
comma
id|kversion.name_len
)paren
)paren
op_logical_or
(paren
id|kversion.date
op_logical_and
id|copy_to_user
c_func
(paren
id|date_ptr
comma
id|kversion.date
comma
id|kversion.date_len
)paren
)paren
op_logical_or
(paren
id|kversion.desc
op_logical_and
id|copy_to_user
c_func
(paren
id|desc_ptr
comma
id|kversion.desc
comma
id|kversion.desc_len
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|kversion.version_major
comma
op_amp
id|uversion-&gt;version_major
)paren
op_logical_or
id|put_user
c_func
(paren
id|kversion.version_minor
comma
op_amp
id|uversion-&gt;version_minor
)paren
op_logical_or
id|put_user
c_func
(paren
id|kversion.version_patchlevel
comma
op_amp
id|uversion-&gt;version_patchlevel
)paren
op_logical_or
id|put_user
c_func
(paren
id|kversion.name_len
comma
op_amp
id|uversion-&gt;name_len
)paren
op_logical_or
id|put_user
c_func
(paren
id|kversion.date_len
comma
op_amp
id|uversion-&gt;date_len
)paren
op_logical_or
id|put_user
c_func
(paren
id|kversion.desc_len
comma
op_amp
id|uversion-&gt;desc_len
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
id|out
suffix:colon
r_if
c_cond
(paren
id|kversion.name
)paren
id|kfree
c_func
(paren
id|kversion.name
)paren
suffix:semicolon
r_if
c_cond
(paren
id|kversion.date
)paren
id|kfree
c_func
(paren
id|kversion.date
)paren
suffix:semicolon
r_if
c_cond
(paren
id|kversion.desc
)paren
id|kfree
c_func
(paren
id|kversion.desc
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|drm32_unique
r_typedef
r_struct
id|drm32_unique
(brace
DECL|member|unique_len
r_int
id|unique_len
suffix:semicolon
multiline_comment|/* Length of unique&t;&t;&t;    */
DECL|member|unique
id|u32
id|unique
suffix:semicolon
multiline_comment|/* Unique name for driver instantiation   */
DECL|typedef|drm32_unique_t
)brace
id|drm32_unique_t
suffix:semicolon
DECL|macro|DRM32_IOCTL_GET_UNIQUE
mdefine_line|#define DRM32_IOCTL_GET_UNIQUE DRM_IOWR(0x01, drm32_unique_t)
DECL|macro|DRM32_IOCTL_SET_UNIQUE
mdefine_line|#define DRM32_IOCTL_SET_UNIQUE DRM_IOW( 0x10, drm32_unique_t)
DECL|function|drm32_getsetunique
r_static
r_int
id|drm32_getsetunique
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|drm32_unique_t
op_star
id|uarg
op_assign
(paren
id|drm32_unique_t
op_star
)paren
id|arg
suffix:semicolon
id|drm_unique_t
id|karg
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_char
op_star
id|uptr
suffix:semicolon
id|u32
id|tmp
suffix:semicolon
r_int
id|ret
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|karg.unique_len
comma
op_amp
id|uarg-&gt;unique_len
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|karg.unique
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|tmp
comma
op_amp
id|uarg-&gt;unique
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|uptr
op_assign
(paren
r_char
op_star
)paren
id|A
c_func
(paren
id|tmp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|uptr
)paren
(brace
id|karg.unique
op_assign
id|kmalloc
c_func
(paren
id|karg.unique_len
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg.unique
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|DRM32_IOCTL_SET_UNIQUE
op_logical_and
id|copy_from_user
c_func
(paren
id|karg.unique
comma
id|uptr
comma
id|karg.unique_len
)paren
)paren
(brace
id|kfree
c_func
(paren
id|karg.unique
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
r_if
c_cond
(paren
id|cmd
op_eq
id|DRM32_IOCTL_GET_UNIQUE
)paren
id|ret
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|DRM_IOCTL_GET_UNIQUE
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
r_else
id|ret
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|DRM_IOCTL_SET_UNIQUE
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ret
)paren
(brace
r_if
c_cond
(paren
id|cmd
op_eq
id|DRM32_IOCTL_GET_UNIQUE
op_logical_and
id|uptr
op_ne
l_int|NULL
op_logical_and
id|copy_to_user
c_func
(paren
id|uptr
comma
id|karg.unique
comma
id|karg.unique_len
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|karg.unique_len
comma
op_amp
id|uarg-&gt;unique_len
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_if
c_cond
(paren
id|karg.unique
op_ne
l_int|NULL
)paren
id|kfree
c_func
(paren
id|karg.unique
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|drm32_map
r_typedef
r_struct
id|drm32_map
(brace
DECL|member|offset
id|u32
id|offset
suffix:semicolon
multiline_comment|/* Requested physical address (0 for SAREA)*/
DECL|member|size
id|u32
id|size
suffix:semicolon
multiline_comment|/* Requested physical size (bytes)&t;    */
DECL|member|type
id|drm_map_type_t
id|type
suffix:semicolon
multiline_comment|/* Type of memory to map&t;&t;    */
DECL|member|flags
id|drm_map_flags_t
id|flags
suffix:semicolon
multiline_comment|/* Flags&t;&t;&t;&t;    */
DECL|member|handle
id|u32
id|handle
suffix:semicolon
multiline_comment|/* User-space: &quot;Handle&quot; to pass to mmap    */
multiline_comment|/* Kernel-space: kernel-virtual address    */
DECL|member|mtrr
r_int
id|mtrr
suffix:semicolon
multiline_comment|/* MTRR slot used&t;&t;&t;    */
multiline_comment|/* Private data&t;&t;&t;    */
DECL|typedef|drm32_map_t
)brace
id|drm32_map_t
suffix:semicolon
DECL|macro|DRM32_IOCTL_ADD_MAP
mdefine_line|#define DRM32_IOCTL_ADD_MAP    DRM_IOWR(0x15, drm32_map_t)
DECL|function|drm32_addmap
r_static
r_int
id|drm32_addmap
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|drm32_map_t
op_star
id|uarg
op_assign
(paren
id|drm32_map_t
op_star
)paren
id|arg
suffix:semicolon
id|drm_map_t
id|karg
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
id|u32
id|tmp
suffix:semicolon
r_int
id|ret
suffix:semicolon
id|ret
op_assign
id|get_user
c_func
(paren
id|karg.offset
comma
op_amp
id|uarg-&gt;offset
)paren
suffix:semicolon
id|ret
op_or_assign
id|get_user
c_func
(paren
id|karg.size
comma
op_amp
id|uarg-&gt;size
)paren
suffix:semicolon
id|ret
op_or_assign
id|get_user
c_func
(paren
id|karg.type
comma
op_amp
id|uarg-&gt;type
)paren
suffix:semicolon
id|ret
op_or_assign
id|get_user
c_func
(paren
id|karg.flags
comma
op_amp
id|uarg-&gt;flags
)paren
suffix:semicolon
id|ret
op_or_assign
id|get_user
c_func
(paren
id|tmp
comma
op_amp
id|uarg-&gt;handle
)paren
suffix:semicolon
id|ret
op_or_assign
id|get_user
c_func
(paren
id|karg.mtrr
comma
op_amp
id|uarg-&gt;mtrr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|karg.handle
op_assign
(paren
r_void
op_star
)paren
id|A
c_func
(paren
id|tmp
)paren
suffix:semicolon
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|DRM_IOCTL_ADD_MAP
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ret
)paren
(brace
id|ret
op_assign
id|put_user
c_func
(paren
id|karg.offset
comma
op_amp
id|uarg-&gt;offset
)paren
suffix:semicolon
id|ret
op_or_assign
id|put_user
c_func
(paren
id|karg.size
comma
op_amp
id|uarg-&gt;size
)paren
suffix:semicolon
id|ret
op_or_assign
id|put_user
c_func
(paren
id|karg.type
comma
op_amp
id|uarg-&gt;type
)paren
suffix:semicolon
id|ret
op_or_assign
id|put_user
c_func
(paren
id|karg.flags
comma
op_amp
id|uarg-&gt;flags
)paren
suffix:semicolon
id|tmp
op_assign
(paren
id|u32
)paren
(paren
r_int
)paren
id|karg.handle
suffix:semicolon
id|ret
op_or_assign
id|put_user
c_func
(paren
id|tmp
comma
op_amp
id|uarg-&gt;handle
)paren
suffix:semicolon
id|ret
op_or_assign
id|put_user
c_func
(paren
id|karg.mtrr
comma
op_amp
id|uarg-&gt;mtrr
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|drm32_buf_info
r_typedef
r_struct
id|drm32_buf_info
(brace
DECL|member|count
r_int
id|count
suffix:semicolon
multiline_comment|/* Entries in list&t;&t;&t;     */
DECL|member|list
id|u32
id|list
suffix:semicolon
multiline_comment|/* (drm_buf_desc_t *) */
DECL|typedef|drm32_buf_info_t
)brace
id|drm32_buf_info_t
suffix:semicolon
DECL|macro|DRM32_IOCTL_INFO_BUFS
mdefine_line|#define DRM32_IOCTL_INFO_BUFS  DRM_IOWR(0x18, drm32_buf_info_t)
DECL|function|drm32_info_bufs
r_static
r_int
id|drm32_info_bufs
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|drm32_buf_info_t
op_star
id|uarg
op_assign
(paren
id|drm32_buf_info_t
op_star
)paren
id|arg
suffix:semicolon
id|drm_buf_desc_t
op_star
id|ulist
suffix:semicolon
id|drm_buf_info_t
id|karg
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|orig_count
comma
id|ret
suffix:semicolon
id|u32
id|tmp
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|karg.count
comma
op_amp
id|uarg-&gt;count
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp
comma
op_amp
id|uarg-&gt;list
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|ulist
op_assign
(paren
id|drm_buf_desc_t
op_star
)paren
id|A
c_func
(paren
id|tmp
)paren
suffix:semicolon
id|orig_count
op_assign
id|karg.count
suffix:semicolon
id|karg.list
op_assign
id|kmalloc
c_func
(paren
id|karg.count
op_star
r_sizeof
(paren
id|drm_buf_desc_t
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg.list
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|DRM_IOCTL_INFO_BUFS
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ret
)paren
(brace
r_if
c_cond
(paren
id|karg.count
op_le
id|orig_count
op_logical_and
(paren
id|copy_to_user
c_func
(paren
id|ulist
comma
id|karg.list
comma
id|karg.count
op_star
r_sizeof
(paren
id|drm_buf_desc_t
)paren
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|karg.count
comma
op_amp
id|uarg-&gt;count
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
id|kfree
c_func
(paren
id|karg.list
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|drm32_buf_free
r_typedef
r_struct
id|drm32_buf_free
(brace
DECL|member|count
r_int
id|count
suffix:semicolon
DECL|member|list
id|u32
id|list
suffix:semicolon
multiline_comment|/* (int *) */
DECL|typedef|drm32_buf_free_t
)brace
id|drm32_buf_free_t
suffix:semicolon
DECL|macro|DRM32_IOCTL_FREE_BUFS
mdefine_line|#define DRM32_IOCTL_FREE_BUFS  DRM_IOW( 0x1a, drm32_buf_free_t)
DECL|function|drm32_free_bufs
r_static
r_int
id|drm32_free_bufs
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|drm32_buf_free_t
op_star
id|uarg
op_assign
(paren
id|drm32_buf_free_t
op_star
)paren
id|arg
suffix:semicolon
id|drm_buf_free_t
id|karg
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
op_star
id|ulist
suffix:semicolon
r_int
id|ret
suffix:semicolon
id|u32
id|tmp
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|karg.count
comma
op_amp
id|uarg-&gt;count
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp
comma
op_amp
id|uarg-&gt;list
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|ulist
op_assign
(paren
r_int
op_star
)paren
id|A
c_func
(paren
id|tmp
)paren
suffix:semicolon
id|karg.list
op_assign
id|kmalloc
c_func
(paren
id|karg.count
op_star
r_sizeof
(paren
r_int
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg.list
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|karg.list
comma
id|ulist
comma
(paren
id|karg.count
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
)paren
r_goto
id|out
suffix:semicolon
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|DRM_IOCTL_FREE_BUFS
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
id|out
suffix:colon
id|kfree
c_func
(paren
id|karg.list
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|drm32_buf_pub
r_typedef
r_struct
id|drm32_buf_pub
(brace
DECL|member|idx
r_int
id|idx
suffix:semicolon
multiline_comment|/* Index into master buflist&t;     */
DECL|member|total
r_int
id|total
suffix:semicolon
multiline_comment|/* Buffer size&t;&t;&t;     */
DECL|member|used
r_int
id|used
suffix:semicolon
multiline_comment|/* Amount of buffer in use (for DMA)  */
DECL|member|address
id|u32
id|address
suffix:semicolon
multiline_comment|/* Address of buffer (void *)&t;     */
DECL|typedef|drm32_buf_pub_t
)brace
id|drm32_buf_pub_t
suffix:semicolon
DECL|struct|drm32_buf_map
r_typedef
r_struct
id|drm32_buf_map
(brace
DECL|member|count
r_int
id|count
suffix:semicolon
multiline_comment|/* Length of buflist&t;&t;&t;    */
DECL|member|virtual
id|u32
r_virtual
suffix:semicolon
multiline_comment|/* Mmaped area in user-virtual (void *)&t;    */
DECL|member|list
id|u32
id|list
suffix:semicolon
multiline_comment|/* Buffer information (drm_buf_pub_t *)&t;    */
DECL|typedef|drm32_buf_map_t
)brace
id|drm32_buf_map_t
suffix:semicolon
DECL|macro|DRM32_IOCTL_MAP_BUFS
mdefine_line|#define DRM32_IOCTL_MAP_BUFS   DRM_IOWR(0x19, drm32_buf_map_t)
DECL|function|drm32_map_bufs
r_static
r_int
id|drm32_map_bufs
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|drm32_buf_map_t
op_star
id|uarg
op_assign
(paren
id|drm32_buf_map_t
op_star
)paren
id|arg
suffix:semicolon
id|drm32_buf_pub_t
op_star
id|ulist
suffix:semicolon
id|drm_buf_map_t
id|karg
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|orig_count
comma
id|ret
comma
id|i
suffix:semicolon
id|u32
id|tmp1
comma
id|tmp2
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|karg.count
comma
op_amp
id|uarg-&gt;count
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp1
comma
op_amp
id|uarg
op_member_access_from_pointer
r_virtual
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp2
comma
op_amp
id|uarg-&gt;list
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|karg
dot
r_virtual
op_assign
(paren
r_void
op_star
)paren
id|A
c_func
(paren
id|tmp1
)paren
suffix:semicolon
id|ulist
op_assign
(paren
id|drm32_buf_pub_t
op_star
)paren
id|A
c_func
(paren
id|tmp2
)paren
suffix:semicolon
id|orig_count
op_assign
id|karg.count
suffix:semicolon
id|karg.list
op_assign
id|kmalloc
c_func
(paren
id|karg.count
op_star
r_sizeof
(paren
id|drm_buf_pub_t
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg.list
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|karg.count
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|karg.list
(braket
id|i
)braket
dot
id|idx
comma
op_amp
id|ulist
(braket
id|i
)braket
dot
id|idx
)paren
op_logical_or
id|get_user
c_func
(paren
id|karg.list
(braket
id|i
)braket
dot
id|total
comma
op_amp
id|ulist
(braket
id|i
)braket
dot
id|total
)paren
op_logical_or
id|get_user
c_func
(paren
id|karg.list
(braket
id|i
)braket
dot
id|used
comma
op_amp
id|ulist
(braket
id|i
)braket
dot
id|used
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp1
comma
op_amp
id|ulist
(braket
id|i
)braket
dot
id|address
)paren
)paren
r_goto
id|out
suffix:semicolon
id|karg.list
(braket
id|i
)braket
dot
id|address
op_assign
(paren
r_void
op_star
)paren
id|A
c_func
(paren
id|tmp1
)paren
suffix:semicolon
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|DRM_IOCTL_MAP_BUFS
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ret
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|orig_count
suffix:semicolon
id|i
op_increment
)paren
(brace
id|tmp1
op_assign
(paren
id|u32
)paren
(paren
r_int
)paren
id|karg.list
(braket
id|i
)braket
dot
id|address
suffix:semicolon
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|karg.list
(braket
id|i
)braket
dot
id|idx
comma
op_amp
id|ulist
(braket
id|i
)braket
dot
id|idx
)paren
op_logical_or
id|put_user
c_func
(paren
id|karg.list
(braket
id|i
)braket
dot
id|total
comma
op_amp
id|ulist
(braket
id|i
)braket
dot
id|total
)paren
op_logical_or
id|put_user
c_func
(paren
id|karg.list
(braket
id|i
)braket
dot
id|used
comma
op_amp
id|ulist
(braket
id|i
)braket
dot
id|used
)paren
op_logical_or
id|put_user
c_func
(paren
id|tmp1
comma
op_amp
id|ulist
(braket
id|i
)braket
dot
id|address
)paren
)paren
(brace
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|karg.count
comma
op_amp
id|uarg-&gt;count
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
id|out
suffix:colon
id|kfree
c_func
(paren
id|karg.list
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|drm32_dma
r_typedef
r_struct
id|drm32_dma
(brace
multiline_comment|/* Indices here refer to the offset into&n;&t;&t;&t;&t;   buflist in drm_buf_get_t.  */
DECL|member|context
r_int
id|context
suffix:semicolon
multiline_comment|/* Context handle&t;&t;    */
DECL|member|send_count
r_int
id|send_count
suffix:semicolon
multiline_comment|/* Number of buffers to send&t;    */
DECL|member|send_indices
id|u32
id|send_indices
suffix:semicolon
multiline_comment|/* List of handles to buffers (int *) */
DECL|member|send_sizes
id|u32
id|send_sizes
suffix:semicolon
multiline_comment|/* Lengths of data to send (int *) */
DECL|member|flags
id|drm_dma_flags_t
id|flags
suffix:semicolon
multiline_comment|/* Flags&t;&t;&t;    */
DECL|member|request_count
r_int
id|request_count
suffix:semicolon
multiline_comment|/* Number of buffers requested    */
DECL|member|request_size
r_int
id|request_size
suffix:semicolon
multiline_comment|/* Desired size for buffers&t;    */
DECL|member|request_indices
id|u32
id|request_indices
suffix:semicolon
multiline_comment|/* Buffer information (int *)&t;    */
DECL|member|request_sizes
id|u32
id|request_sizes
suffix:semicolon
multiline_comment|/* (int *) */
DECL|member|granted_count
r_int
id|granted_count
suffix:semicolon
multiline_comment|/* Number of buffers granted&t;    */
DECL|typedef|drm32_dma_t
)brace
id|drm32_dma_t
suffix:semicolon
DECL|macro|DRM32_IOCTL_DMA
mdefine_line|#define DRM32_IOCTL_DMA&t;     DRM_IOWR(0x29, drm32_dma_t)
multiline_comment|/* RED PEN&t;The DRM layer blindly dereferences the send/request&n; * &t;&t;indice/size arrays even though they are userland&n; * &t;&t;pointers.  -DaveM&n; */
DECL|function|drm32_dma
r_static
r_int
id|drm32_dma
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|drm32_dma_t
op_star
id|uarg
op_assign
(paren
id|drm32_dma_t
op_star
)paren
id|arg
suffix:semicolon
r_int
op_star
id|u_si
comma
op_star
id|u_ss
comma
op_star
id|u_ri
comma
op_star
id|u_rs
suffix:semicolon
id|drm_dma_t
id|karg
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|ret
suffix:semicolon
id|u32
id|tmp1
comma
id|tmp2
comma
id|tmp3
comma
id|tmp4
suffix:semicolon
id|karg.send_indices
op_assign
id|karg.send_sizes
op_assign
l_int|NULL
suffix:semicolon
id|karg.request_indices
op_assign
id|karg.request_sizes
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|karg.context
comma
op_amp
id|uarg-&gt;context
)paren
op_logical_or
id|get_user
c_func
(paren
id|karg.send_count
comma
op_amp
id|uarg-&gt;send_count
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp1
comma
op_amp
id|uarg-&gt;send_indices
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp2
comma
op_amp
id|uarg-&gt;send_sizes
)paren
op_logical_or
id|get_user
c_func
(paren
id|karg.flags
comma
op_amp
id|uarg-&gt;flags
)paren
op_logical_or
id|get_user
c_func
(paren
id|karg.request_count
comma
op_amp
id|uarg-&gt;request_count
)paren
op_logical_or
id|get_user
c_func
(paren
id|karg.request_size
comma
op_amp
id|uarg-&gt;request_size
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp3
comma
op_amp
id|uarg-&gt;request_indices
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp4
comma
op_amp
id|uarg-&gt;request_sizes
)paren
op_logical_or
id|get_user
c_func
(paren
id|karg.granted_count
comma
op_amp
id|uarg-&gt;granted_count
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|u_si
op_assign
(paren
r_int
op_star
)paren
id|A
c_func
(paren
id|tmp1
)paren
suffix:semicolon
id|u_ss
op_assign
(paren
r_int
op_star
)paren
id|A
c_func
(paren
id|tmp2
)paren
suffix:semicolon
id|u_ri
op_assign
(paren
r_int
op_star
)paren
id|A
c_func
(paren
id|tmp3
)paren
suffix:semicolon
id|u_rs
op_assign
(paren
r_int
op_star
)paren
id|A
c_func
(paren
id|tmp4
)paren
suffix:semicolon
r_if
c_cond
(paren
id|karg.send_count
)paren
(brace
id|karg.send_indices
op_assign
id|kmalloc
c_func
(paren
id|karg.send_count
op_star
r_sizeof
(paren
r_int
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
id|karg.send_sizes
op_assign
id|kmalloc
c_func
(paren
id|karg.send_count
op_star
r_sizeof
(paren
r_int
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
id|ret
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg.send_indices
op_logical_or
op_logical_neg
id|karg.send_sizes
)paren
r_goto
id|out
suffix:semicolon
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|karg.send_indices
comma
id|u_si
comma
(paren
id|karg.send_count
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
op_logical_or
id|copy_from_user
c_func
(paren
id|karg.send_sizes
comma
id|u_ss
comma
(paren
id|karg.send_count
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
)paren
r_goto
id|out
suffix:semicolon
)brace
r_if
c_cond
(paren
id|karg.request_count
)paren
(brace
id|karg.request_indices
op_assign
id|kmalloc
c_func
(paren
id|karg.request_count
op_star
r_sizeof
(paren
r_int
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
id|karg.request_sizes
op_assign
id|kmalloc
c_func
(paren
id|karg.request_count
op_star
r_sizeof
(paren
r_int
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
id|ret
op_assign
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg.request_indices
op_logical_or
op_logical_neg
id|karg.request_sizes
)paren
r_goto
id|out
suffix:semicolon
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|karg.request_indices
comma
id|u_ri
comma
(paren
id|karg.request_count
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
op_logical_or
id|copy_from_user
c_func
(paren
id|karg.request_sizes
comma
id|u_rs
comma
(paren
id|karg.request_count
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
)paren
r_goto
id|out
suffix:semicolon
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|DRM_IOCTL_DMA
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ret
)paren
(brace
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|karg.context
comma
op_amp
id|uarg-&gt;context
)paren
op_logical_or
id|put_user
c_func
(paren
id|karg.send_count
comma
op_amp
id|uarg-&gt;send_count
)paren
op_logical_or
id|put_user
c_func
(paren
id|karg.flags
comma
op_amp
id|uarg-&gt;flags
)paren
op_logical_or
id|put_user
c_func
(paren
id|karg.request_count
comma
op_amp
id|uarg-&gt;request_count
)paren
op_logical_or
id|put_user
c_func
(paren
id|karg.request_size
comma
op_amp
id|uarg-&gt;request_size
)paren
op_logical_or
id|put_user
c_func
(paren
id|karg.granted_count
comma
op_amp
id|uarg-&gt;granted_count
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
r_if
c_cond
(paren
id|karg.send_count
)paren
(brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|u_si
comma
id|karg.send_indices
comma
(paren
id|karg.send_count
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
op_logical_or
id|copy_to_user
c_func
(paren
id|u_ss
comma
id|karg.send_sizes
comma
(paren
id|karg.send_count
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_if
c_cond
(paren
id|karg.request_count
)paren
(brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|u_ri
comma
id|karg.request_indices
comma
(paren
id|karg.request_count
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
op_logical_or
id|copy_to_user
c_func
(paren
id|u_rs
comma
id|karg.request_sizes
comma
(paren
id|karg.request_count
op_star
r_sizeof
(paren
r_int
)paren
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
id|out
suffix:colon
r_if
c_cond
(paren
id|karg.send_indices
)paren
id|kfree
c_func
(paren
id|karg.send_indices
)paren
suffix:semicolon
r_if
c_cond
(paren
id|karg.send_sizes
)paren
id|kfree
c_func
(paren
id|karg.send_sizes
)paren
suffix:semicolon
r_if
c_cond
(paren
id|karg.request_indices
)paren
id|kfree
c_func
(paren
id|karg.request_indices
)paren
suffix:semicolon
r_if
c_cond
(paren
id|karg.request_sizes
)paren
id|kfree
c_func
(paren
id|karg.request_sizes
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
DECL|struct|drm32_ctx_res
r_typedef
r_struct
id|drm32_ctx_res
(brace
DECL|member|count
r_int
id|count
suffix:semicolon
DECL|member|contexts
id|u32
id|contexts
suffix:semicolon
multiline_comment|/* (drm_ctx_t *) */
DECL|typedef|drm32_ctx_res_t
)brace
id|drm32_ctx_res_t
suffix:semicolon
DECL|macro|DRM32_IOCTL_RES_CTX
mdefine_line|#define DRM32_IOCTL_RES_CTX    DRM_IOWR(0x26, drm32_ctx_res_t)
DECL|function|drm32_res_ctx
r_static
r_int
id|drm32_res_ctx
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
id|drm32_ctx_res_t
op_star
id|uarg
op_assign
(paren
id|drm32_ctx_res_t
op_star
)paren
id|arg
suffix:semicolon
id|drm_ctx_t
op_star
id|ulist
suffix:semicolon
id|drm_ctx_res_t
id|karg
suffix:semicolon
id|mm_segment_t
id|old_fs
suffix:semicolon
r_int
id|orig_count
comma
id|ret
suffix:semicolon
id|u32
id|tmp
suffix:semicolon
id|karg.contexts
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
id|get_user
c_func
(paren
id|karg.count
comma
op_amp
id|uarg-&gt;count
)paren
op_logical_or
id|get_user
c_func
(paren
id|tmp
comma
op_amp
id|uarg-&gt;contexts
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|ulist
op_assign
(paren
id|drm_ctx_t
op_star
)paren
id|A
c_func
(paren
id|tmp
)paren
suffix:semicolon
id|orig_count
op_assign
id|karg.count
suffix:semicolon
r_if
c_cond
(paren
id|karg.count
op_logical_and
id|ulist
)paren
(brace
id|karg.contexts
op_assign
id|kmalloc
c_func
(paren
(paren
id|karg.count
op_star
r_sizeof
(paren
id|drm_ctx_t
)paren
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|karg.contexts
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
id|karg.contexts
comma
id|ulist
comma
(paren
id|karg.count
op_star
r_sizeof
(paren
id|drm_ctx_t
)paren
)paren
)paren
)paren
(brace
id|kfree
c_func
(paren
id|karg.contexts
)paren
suffix:semicolon
r_return
op_minus
id|EFAULT
suffix:semicolon
)brace
)brace
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|ret
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|DRM_IOCTL_RES_CTX
comma
(paren
r_int
r_int
)paren
op_amp
id|karg
)paren
suffix:semicolon
id|set_fs
c_func
(paren
id|old_fs
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ret
)paren
(brace
r_if
c_cond
(paren
id|orig_count
)paren
(brace
r_if
c_cond
(paren
id|copy_to_user
c_func
(paren
id|ulist
comma
id|karg.contexts
comma
(paren
id|orig_count
op_star
r_sizeof
(paren
id|drm_ctx_t
)paren
)paren
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_if
c_cond
(paren
id|put_user
c_func
(paren
id|karg.count
comma
op_amp
id|uarg-&gt;count
)paren
)paren
id|ret
op_assign
op_minus
id|EFAULT
suffix:semicolon
)brace
r_if
c_cond
(paren
id|karg.contexts
)paren
id|kfree
c_func
(paren
id|karg.contexts
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
macro_line|#endif
DECL|function|ret_einval
r_static
r_int
id|ret_einval
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|function|broken_blkgetsize
r_static
r_int
id|broken_blkgetsize
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
multiline_comment|/* The mkswap binary hard codes it to Intel value :-((( */
r_return
id|w_long
c_func
(paren
id|fd
comma
id|BLKGETSIZE
comma
id|arg
)paren
suffix:semicolon
)brace
DECL|struct|blkpg_ioctl_arg32
r_struct
id|blkpg_ioctl_arg32
(brace
DECL|member|op
r_int
id|op
suffix:semicolon
DECL|member|flags
r_int
id|flags
suffix:semicolon
DECL|member|datalen
r_int
id|datalen
suffix:semicolon
DECL|member|data
id|u32
id|data
suffix:semicolon
)brace
suffix:semicolon
DECL|function|blkpg_ioctl_trans
r_static
r_int
id|blkpg_ioctl_trans
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_struct
id|blkpg_ioctl_arg32
op_star
id|arg
)paren
(brace
r_struct
id|blkpg_ioctl_arg
id|a
suffix:semicolon
r_struct
id|blkpg_partition
id|p
suffix:semicolon
r_int
id|err
suffix:semicolon
id|mm_segment_t
id|old_fs
op_assign
id|get_fs
c_func
(paren
)paren
suffix:semicolon
id|err
op_assign
id|get_user
c_func
(paren
id|a.op
comma
op_amp
id|arg-&gt;op
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|a.flags
comma
op_amp
id|arg-&gt;flags
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
id|a.datalen
comma
op_amp
id|arg-&gt;datalen
)paren
suffix:semicolon
id|err
op_or_assign
id|__get_user
c_func
(paren
(paren
r_int
)paren
id|a.data
comma
op_amp
id|arg-&gt;data
)paren
suffix:semicolon
r_if
c_cond
(paren
id|err
)paren
r_return
id|err
suffix:semicolon
r_switch
c_cond
(paren
id|a.op
)paren
(brace
r_case
id|BLKPG_ADD_PARTITION
suffix:colon
r_case
id|BLKPG_DEL_PARTITION
suffix:colon
r_if
c_cond
(paren
id|a.datalen
OL
r_sizeof
(paren
r_struct
id|blkpg_partition
)paren
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|copy_from_user
c_func
(paren
op_amp
id|p
comma
id|a.data
comma
r_sizeof
(paren
r_struct
id|blkpg_partition
)paren
)paren
)paren
r_return
op_minus
id|EFAULT
suffix:semicolon
id|a.data
op_assign
op_amp
id|p
suffix:semicolon
id|set_fs
(paren
id|KERNEL_DS
)paren
suffix:semicolon
id|err
op_assign
id|sys_ioctl
c_func
(paren
id|fd
comma
id|cmd
comma
(paren
r_int
r_int
)paren
op_amp
id|a
)paren
suffix:semicolon
id|set_fs
(paren
id|old_fs
)paren
suffix:semicolon
r_default
suffix:colon
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
r_return
id|err
suffix:semicolon
)brace
DECL|function|ioc_settimeout
r_static
r_int
id|ioc_settimeout
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_return
id|rw_long
c_func
(paren
id|fd
comma
id|AUTOFS_IOC_SETTIMEOUT
comma
id|arg
)paren
suffix:semicolon
)brace
DECL|struct|ioctl_trans
r_struct
id|ioctl_trans
(brace
DECL|member|cmd
r_int
r_int
id|cmd
suffix:semicolon
DECL|member|handler
r_int
r_int
id|handler
suffix:semicolon
DECL|member|next
r_int
r_int
id|next
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|COMPATIBLE_IOCTL
mdefine_line|#define COMPATIBLE_IOCTL(cmd) asm volatile(&quot;.word %0, sys_ioctl, 0&quot; : : &quot;i&quot; (cmd));
DECL|macro|HANDLE_IOCTL
mdefine_line|#define HANDLE_IOCTL(cmd,handler) asm volatile(&quot;.word %0, %1, 0&quot; : : &quot;i&quot; (cmd), &quot;i&quot; (handler));
DECL|macro|IOCTL_TABLE_START
mdefine_line|#define IOCTL_TABLE_START void ioctl32_foo(void) { asm volatile(&quot;.data&bslash;nioctl_translations:&quot;);
DECL|macro|IOCTL_TABLE_END
mdefine_line|#define IOCTL_TABLE_END asm volatile(&quot;&bslash;nioctl_translations_end:&bslash;n&bslash;t.previous&quot;); }
id|IOCTL_TABLE_START
multiline_comment|/* List here exlicitly which ioctl&squot;s are known to have&n; * compatable types passed or none at all...&n; */
multiline_comment|/* Big T */
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCGETA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETAW
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETAF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSBRK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCXONC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCFLSH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCGETS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETSW
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TCSETSF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCLINUX
)paren
multiline_comment|/* Little t */
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGETD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSETD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCEXCL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCNXCL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCCONS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGSOFTCAR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSSOFTCAR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSWINSZ
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGWINSZ
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCMGET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCMBIC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCMBIS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCMSET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCPKT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCNOTTY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSTI
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCOUTQ
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSPGRP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGPGRP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSCTTY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGPTN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSPTLCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCGSERIAL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSSERIAL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|TIOCSERGETLSR
)paren
multiline_comment|/* Big F */
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGTYPE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOSATTR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGATTR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOSVIDEO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGVIDEO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGCURSOR32
)paren
multiline_comment|/* This is not implemented yet. Later it should be converted... */
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOSCURPOS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGCURPOS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGCURMAX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGET_VSCREENINFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOPUT_VSCREENINFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOPAN_DISPLAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGET_FCURSORINFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGET_VCURSORINFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOPUT_VCURSORINFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGET_CURSORSTATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOPUT_CURSORSTATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOGET_CON2FBMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FBIOPUT_CON2FBMAP
)paren
multiline_comment|/* Little f */
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIOCLEX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIONCLEX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIOASYNC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIONBIO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIONREAD
)paren
multiline_comment|/* This is also TIOCINQ */
multiline_comment|/* 0x00 */
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIBMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIGETBSZ
)paren
multiline_comment|/* 0x03 -- HD/IDE ioctl&squot;s used by hdparm and friends.&n; *         Some need translations, these do not.&n; */
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_GET_IDENTITY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_DMA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_KEEPSETTINGS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_UNMASKINTR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_NOWERR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_32BIT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_MULTCOUNT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_DRIVE_CMD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_PIO_MODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SCAN_HWIF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HDIO_SET_NICE
)paren
multiline_comment|/* 0x02 -- Floppy ioctls */
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDMSGON
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDMSGOFF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDSETEMSGTRESH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDFLUSH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDWERRORCLR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDSETMAXERRS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDGETMAXERRS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDGETDRVTYP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDEJECT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDCLRPRM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDFMTBEG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDFMTEND
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDRESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDTWADDLE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDFMTTRK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FDRAWCMD
)paren
multiline_comment|/* 0x12 */
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKROSET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKROGET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKRRPART
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKFLSBUF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKRASET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKFRASET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKSECTSET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKSSZGET
)paren
multiline_comment|/* RAID */
id|COMPATIBLE_IOCTL
c_func
(paren
id|RAID_VERSION
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GET_ARRAY_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GET_DISK_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PRINT_RAID_DEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CLEAR_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ADD_NEW_DISK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HOT_REMOVE_DISK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SET_ARRAY_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SET_DISK_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|WRITE_RAID_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|UNPROTECT_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PROTECT_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|HOT_ADD_DISK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SET_DISK_FAULTY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RUN_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|START_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|STOP_ARRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|STOP_ARRAY_RO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RESTART_ARRAY_RW
)paren
multiline_comment|/* Big K */
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_FONT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GIO_FONT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSIGACCEPT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGETKEYCODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSETKEYCODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCSOUND
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDMKTONE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBTYPE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSETMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGETMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBMETA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBMETA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBENT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBENT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBSENT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBSENT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBDIACR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBDIACR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGKBLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSKBLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDGETLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KDSETLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GIO_SCRNMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_SCRNMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|GIO_UNISCRNMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_UNISCRNMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_FONTRESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PIO_UNIMAPCLR
)paren
multiline_comment|/* Little k */
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCTYPE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCLAYOUT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCGTRANS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCTRANS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCCMD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCSDIRECT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCSLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCGLED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCSRATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|KIOCGRATE
)paren
multiline_comment|/* Big S */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_GET_IDLUN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_DOORLOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_DOORUNLOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_TEST_UNIT_READY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_TAGGED_ENABLE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_TAGGED_DISABLE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_GET_BUS_NUMBER
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SCSI_IOCTL_SEND_COMMAND
)paren
multiline_comment|/* Big V */
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_SETMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_GETMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_GETSTATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_OPENQRY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_ACTIVATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_WAITACTIVE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_RELDISP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_DISALLOCATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_RESIZE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_RESIZEX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_LOCKSWITCH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VT_UNLOCKSWITCH
)paren
multiline_comment|/* Little v */
id|COMPATIBLE_IOCTL
c_func
(paren
id|VUIDSFORMAT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VUIDGFORMAT
)paren
multiline_comment|/* Little v, the video4linux ioctls */
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCGCAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCGCHAN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCSCHAN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCGPICT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCSPICT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCCAPTURE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCKEY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCGAUDIO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCSAUDIO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCSYNC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCMCAPTURE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCGMBUF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCGUNIT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCGCAPTURE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VIDIOCSCAPTURE
)paren
multiline_comment|/* BTTV specific... */
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOW
c_func
(paren
l_char|&squot;v&squot;
comma
id|BASE_VIDIOCPRIVATE
op_plus
l_int|0
comma
r_char
(braket
l_int|256
)braket
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOR
c_func
(paren
l_char|&squot;v&squot;
comma
id|BASE_VIDIOCPRIVATE
op_plus
l_int|1
comma
r_char
(braket
l_int|256
)braket
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOR
c_func
(paren
l_char|&squot;v&squot;
comma
id|BASE_VIDIOCPRIVATE
op_plus
l_int|2
comma
r_int
r_int
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOW
c_func
(paren
l_char|&squot;v&squot;
comma
id|BASE_VIDIOCPRIVATE
op_plus
l_int|3
comma
r_char
(braket
l_int|16
)braket
)paren
)paren
multiline_comment|/* struct bttv_pll_info */
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOR
c_func
(paren
l_char|&squot;v&squot;
comma
id|BASE_VIDIOCPRIVATE
op_plus
l_int|4
comma
r_int
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOR
c_func
(paren
l_char|&squot;v&squot;
comma
id|BASE_VIDIOCPRIVATE
op_plus
l_int|5
comma
r_int
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOR
c_func
(paren
l_char|&squot;v&squot;
comma
id|BASE_VIDIOCPRIVATE
op_plus
l_int|6
comma
r_int
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|_IOR
c_func
(paren
l_char|&squot;v&squot;
comma
id|BASE_VIDIOCPRIVATE
op_plus
l_int|7
comma
r_int
)paren
)paren
multiline_comment|/* Little p (/dev/rtc, /dev/envctrl, etc.) */
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTCGET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RTCSET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_WARNING_TEMPERATURE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_SHUTDOWN_TEMPERATURE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_CPU_TEMPERATURE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_FAN_STATUS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_VOLTAGE_STATUS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_SCSI_TEMPERATURE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_ETHERNET_TEMPERATURE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_MTHRBD_TEMPERATURE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_CPU_VOLTAGE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ENVCTRL_RD_GLOBALADDRESS
)paren
multiline_comment|/* COMPATIBLE_IOCTL(D7SIOCRD) same value as ENVCTRL_RD_VOLTAGE_STATUS */
id|COMPATIBLE_IOCTL
c_func
(paren
id|D7SIOCWR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|D7SIOCTM
)paren
multiline_comment|/* Little m */
id|COMPATIBLE_IOCTL
c_func
(paren
id|MTIOCTOP
)paren
multiline_comment|/* OPENPROMIO, SunOS/Solaris only, the NetBSD one&squot;s have&n; * embedded pointers in the arg which we&squot;d need to clean up...&n; */
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMGETOPT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMSETOPT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMNXTOPT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMSETOPT2
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMNEXT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMCHILD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMGETPROP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMNXTPROP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMU2P
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMGETCONS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMGETFBNAME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMGETBOOTARGS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMSETCUR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMPCI2NODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OPROMPATH2NODE
)paren
multiline_comment|/* Socket level stuff */
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIOSETOWN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSPGRP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|FIOGETOWN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGPGRP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCATMARK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSIFLINK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSIFENCAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGIFENCAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSIFBR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGIFBR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCDARP
)paren
macro_line|#if 0 /* XXX No longer exist in new routing code. XXX */
id|COMPATIBLE_IOCTL
c_func
(paren
id|OLD_SIOCSARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OLD_SIOCGARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OLD_SIOCDARP
)paren
macro_line|#endif
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSRARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCGRARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCDRARP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCADDDLCI
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCDELDLCI
)paren
multiline_comment|/* SG stuff */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_TIMEOUT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_TIMEOUT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_EMULATED_HOST
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_TRANSFORM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_TRANSFORM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_RESERVED_SIZE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_RESERVED_SIZE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_SCSI_ID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_FORCE_LOW_DMA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_LOW_DMA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_FORCE_PACK_ID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_PACK_ID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_NUM_WAITING
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_DEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_SG_TABLESIZE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_COMMAND_Q
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_COMMAND_Q
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_VERSION_NUM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_NEXT_CMD_LEN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SCSI_RESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_IO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_REQUEST_TABLE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_SET_KEEP_ORPHAN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SG_GET_KEEP_ORPHAN
)paren
multiline_comment|/* PPP stuff */
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGFLAGS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSFLAGS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGUNIT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGRASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSRASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGMRU
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSMRU
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSMAXCID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGXASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSXASYNCMAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCXFERUNIT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGNPMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSNPMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCGDEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSDEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCNEWUNIT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCATTACH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCDETACH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCSMRRU
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCCONNECT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCDISCONN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPIOCATTCHAN
)paren
multiline_comment|/* PPPOX */
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPOEIOCSFWD
)paren
suffix:semicolon
DECL|variable|COMPATIBLE_IOCTL
id|COMPATIBLE_IOCTL
c_func
(paren
id|PPPOEIOCDFWD
)paren
suffix:semicolon
multiline_comment|/* CDROM stuff */
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMPAUSE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMRESUME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMPLAYMSF
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMPLAYTRKIND
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMREADTOCHDR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMREADTOCENTRY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMSTOP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMSTART
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMEJECT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMVOLCTRL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMSUBCHNL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMEJECT_SW
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMMULTISESSION
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_GET_MCN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMRESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMVOLREAD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMSEEK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMPLAYBLK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROMCLOSETRAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_SET_OPTIONS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_CLEAR_OPTIONS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_SELECT_SPEED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_SELECT_DISC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_MEDIA_CHANGED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_DRIVE_STATUS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_DISC_STATUS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_CHANGER_NSLOTS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_LOCKDOOR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_DEBUG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|CDROM_GET_CAPABILITY
)paren
multiline_comment|/* Big L */
id|COMPATIBLE_IOCTL
c_func
(paren
id|LOOP_SET_FD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|LOOP_CLR_FD
)paren
multiline_comment|/* Big A */
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUDIO_GETINFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUDIO_SETINFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUDIO_DRAIN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUDIO_GETDEV
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUDIO_GETDEV_SUNOS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUDIO_FLUSH
)paren
multiline_comment|/* Big Q for sound/OSS */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_RESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_SYNC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SYNTH_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_CTRLRATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_GETOUTCOUNT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_GETINCOUNT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_PERCMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_FM_LOAD_INSTR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_TESTMIDI
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_RESETSAMPLES
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_NRSYNTHS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_NRMIDIS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_MIDI_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_THRESHOLD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SYNTH_MEMAVL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_FM_4OP_ENABLE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_PANIC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_OUTOFBAND
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SEQ_GETTIME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SYNTH_ID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SYNTH_CONTROL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_SYNTH_REMOVESAMPLE
)paren
multiline_comment|/* Big T for sound/OSS */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_TMR_TIMEBASE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_TMR_START
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_TMR_STOP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_TMR_CONTINUE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_TMR_TEMPO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_TMR_SOURCE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_TMR_METRONOME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_TMR_SELECT
)paren
multiline_comment|/* Little m for sound/OSS */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_MIDI_PRETIME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_MIDI_MPUMODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_MIDI_MPUCMD
)paren
multiline_comment|/* Big P for sound/OSS */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_RESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_SYNC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_SPEED
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_STEREO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_GETBLKSIZE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_CHANNELS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_PCM_WRITE_FILTER
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_POST
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_SUBDIVIDE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_SETFRAGMENT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_GETFMTS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_SETFMT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_GETOSPACE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_GETISPACE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_NONBLOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_GETCAPS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_GETTRIGGER
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_SETTRIGGER
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_GETIPTR
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_GETOPTR
)paren
multiline_comment|/* SNDCTL_DSP_MAPINBUF,  XXX needs translation */
multiline_comment|/* SNDCTL_DSP_MAPOUTBUF,  XXX needs translation */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_SETSYNCRO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_SETDUPLEX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_GETODELAY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_DSP_PROFILE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_PCM_READ_RATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_PCM_READ_CHANNELS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_PCM_READ_BITS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_PCM_READ_FILTER
)paren
multiline_comment|/* Big C for sound/OSS */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_RESET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_LOAD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_RDATA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_RCODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_WDATA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_WCODE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_RUN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_HALT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_SENDMSG
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SNDCTL_COPR_RCVMSG
)paren
multiline_comment|/* Big M for sound/OSS */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_VOLUME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_BASS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_TREBLE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_SYNTH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_PCM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_SPEAKER
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_LINE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_MIC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_CD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_IMIX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_ALTPCM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_RECLEV
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_IGAIN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_OGAIN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_LINE1
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_LINE2
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_LINE3
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_READ
c_func
(paren
id|SOUND_MIXER_DIGITAL1
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_READ
c_func
(paren
id|SOUND_MIXER_DIGITAL2
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_READ
c_func
(paren
id|SOUND_MIXER_DIGITAL3
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_READ
c_func
(paren
id|SOUND_MIXER_PHONEIN
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_READ
c_func
(paren
id|SOUND_MIXER_PHONEOUT
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_READ
c_func
(paren
id|SOUND_MIXER_VIDEO
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_READ
c_func
(paren
id|SOUND_MIXER_RADIO
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_READ
c_func
(paren
id|SOUND_MIXER_MONITOR
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_MUTE
)paren
multiline_comment|/* SOUND_MIXER_READ_ENHANCE,  same value as READ_MUTE */
multiline_comment|/* SOUND_MIXER_READ_LOUD,  same value as READ_MUTE */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_RECSRC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_DEVMASK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_RECMASK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_STEREODEVS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_READ_CAPS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_VOLUME
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_BASS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_TREBLE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_SYNTH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_PCM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_SPEAKER
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_LINE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_MIC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_CD
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_IMIX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_ALTPCM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_RECLEV
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_IGAIN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_OGAIN
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_LINE1
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_LINE2
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_LINE3
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_WRITE
c_func
(paren
id|SOUND_MIXER_DIGITAL1
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_WRITE
c_func
(paren
id|SOUND_MIXER_DIGITAL2
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_WRITE
c_func
(paren
id|SOUND_MIXER_DIGITAL3
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_WRITE
c_func
(paren
id|SOUND_MIXER_PHONEIN
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_WRITE
c_func
(paren
id|SOUND_MIXER_PHONEOUT
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_WRITE
c_func
(paren
id|SOUND_MIXER_VIDEO
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_WRITE
c_func
(paren
id|SOUND_MIXER_RADIO
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|MIXER_WRITE
c_func
(paren
id|SOUND_MIXER_MONITOR
)paren
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_MUTE
)paren
multiline_comment|/* SOUND_MIXER_WRITE_ENHANCE,  same value as WRITE_MUTE */
multiline_comment|/* SOUND_MIXER_WRITE_LOUD,  same value as WRITE_MUTE */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_WRITE_RECSRC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_OLD_MIXER_INFO
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_ACCESS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_PRIVATE1
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_PRIVATE2
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_PRIVATE3
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_PRIVATE4
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_PRIVATE5
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_GETLEVELS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SOUND_MIXER_SETLEVELS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|OSS_GETVERSION
)paren
multiline_comment|/* AUTOFS */
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_READY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_FAIL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_CATATONIC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_PROTOVER
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_EXPIRE
)paren
multiline_comment|/* DEVFS */
id|COMPATIBLE_IOCTL
c_func
(paren
id|DEVFSDIOC_GET_PROTO_REV
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DEVFSDIOC_SET_EVENT_MASK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DEVFSDIOC_RELEASE_EVENT_QUEUE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DEVFSDIOC_SET_DEBUG_MASK
)paren
multiline_comment|/* Raw devices */
id|COMPATIBLE_IOCTL
c_func
(paren
id|RAW_SETBIND
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|RAW_GETBIND
)paren
multiline_comment|/* SMB ioctls which do not need any translations */
id|COMPATIBLE_IOCTL
c_func
(paren
id|SMB_IOC_NEWCONN
)paren
multiline_comment|/* Little a */
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMSIGD_CTRL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMARPD_CTRL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMLEC_CTRL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMLEC_MCAST
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMLEC_DATA
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATM_SETSC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCSIFATMTCP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|SIOCMKCLIP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMARP_MKIP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMARP_SETENTRY
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMARP_ENCAP
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMTCP_CREATE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMTCP_REMOVE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMMPC_CTRL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|ATMMPC_DATA
)paren
macro_line|#if defined(CONFIG_BLK_DEV_LVM) || defined(CONFIG_BLK_DEV_LVM_MODULE)
multiline_comment|/* 0xfe - lvm */
id|COMPATIBLE_IOCTL
c_func
(paren
id|VG_SET_EXTENDABLE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VG_STATUS_GET_COUNT
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VG_STATUS_GET_NAMELIST
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VG_REMOVE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|VG_REDUCE
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PE_LOCK_UNLOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|PV_FLUSH
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|LVM_LOCK_LVM
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|LVM_GET_IOP_VERSION
)paren
macro_line|#ifdef LVM_TOTAL_RESET
id|COMPATIBLE_IOCTL
c_func
(paren
id|LVM_RESET
)paren
macro_line|#endif
id|COMPATIBLE_IOCTL
c_func
(paren
id|LV_SET_ACCESS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|LV_SET_STATUS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|LV_SET_ALLOCATION
)paren
macro_line|#endif /* LVM */
macro_line|#if defined(CONFIG_DRM) || defined(CONFIG_DRM_MODULE)
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_GET_MAGIC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_IRQ_BUSID
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_AUTH_MAGIC
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_BLOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_UNBLOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_CONTROL
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_ADD_BUFS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_MARK_BUFS
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_ADD_CTX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_RM_CTX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_MOD_CTX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_GET_CTX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_SWITCH_CTX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_NEW_CTX
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_ADD_DRAW
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_RM_DRAW
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_LOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_UNLOCK
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|DRM_IOCTL_FINISH
)paren
macro_line|#endif /* DRM */
multiline_comment|/* elevator */
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKELVGET
)paren
id|COMPATIBLE_IOCTL
c_func
(paren
id|BLKELVSET
)paren
multiline_comment|/* And these ioctls need translation */
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFNAME
comma
id|dev_ifname32
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFCONF
comma
id|dev_ifconf
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMETRIC
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMETRIC
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMTU
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMTU
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMEM
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMEM
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFHWADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFHWADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCADDMULTI
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCDELMULTI
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFINDEX
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFMAP
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFMAP
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFBRDADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFBRDADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFDSTADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFDSTADDR
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFNETMASK
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFNETMASK
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFPFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFPFLAGS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGPPPSTATS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGPPPCSTATS
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGPPPVER
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGIFTXQLEN
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCSIFTXQLEN
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCETHTOOL
comma
id|dev_ifsioc
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCADDRT
comma
id|routing_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCDELRT
comma
id|routing_ioctl
)paren
multiline_comment|/* Note SIOCRTMSG is no longer, so this is safe and * the user would have seen just an -EINVAL anyways. */
id|HANDLE_IOCTL
c_func
(paren
id|SIOCRTMSG
comma
id|ret_einval
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SIOCGSTAMP
comma
id|do_siocgstamp
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GETGEO
comma
id|hdio_getgeo
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKRAGET
comma
id|w_long
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKGETSIZE
comma
id|w_long
)paren
id|HANDLE_IOCTL
c_func
(paren
l_int|0x1260
comma
id|broken_blkgetsize
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKFRAGET
comma
id|w_long
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKSECTGET
comma
id|w_long
)paren
id|HANDLE_IOCTL
c_func
(paren
id|BLKPG
comma
id|blkpg_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOPUTCMAP32
comma
id|fbiogetputcmap
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOGETCMAP32
comma
id|fbiogetputcmap
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOSCURSOR32
comma
id|fbiogscursor
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOGET_FSCREENINFO
comma
id|fb_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOGETCMAP
comma
id|fb_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FBIOPUTCMAP
comma
id|fb_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_KEEPSETTINGS
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_UNMASKINTR
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_DMA
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_32BIT
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_MULTCOUNT
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_NOWERR
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|HDIO_GET_NICE
comma
id|hdio_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDSETPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDDEFPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDGETPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDSETDRVPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDGETDRVPRM32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDGETDRVSTAT32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDPOLLDRVSTAT32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDGETFDCSTAT32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|FDWERRORGET32
comma
id|fd_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PPPIOCGIDLE32
comma
id|ppp_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PPPIOCSCOMPRESS32
comma
id|ppp_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCGET32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCPOS32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCGETCONFIG32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|MTIOCSETCONFIG32
comma
id|mt_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|CDROMREADMODE2
comma
id|cdrom_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|CDROMREADMODE1
comma
id|cdrom_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|CDROMREADRAW
comma
id|cdrom_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|CDROMREADCOOKED
comma
id|cdrom_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|CDROMREADAUDIO
comma
id|cdrom_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|CDROMREADALL
comma
id|cdrom_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|CDROM_SEND_PACKET
comma
id|cdrom_ioctl_trans
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LOOP_SET_STATUS
comma
id|loop_status
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LOOP_GET_STATUS
comma
id|loop_status
)paren
DECL|macro|AUTOFS_IOC_SETTIMEOUT32
mdefine_line|#define AUTOFS_IOC_SETTIMEOUT32 _IOWR(0x93,0x64,unsigned int)
id|HANDLE_IOCTL
c_func
(paren
id|AUTOFS_IOC_SETTIMEOUT32
comma
id|ioc_settimeout
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PIO_FONTX
comma
id|do_fontx_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|GIO_FONTX
comma
id|do_fontx_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PIO_UNIMAP
comma
id|do_unimap_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|GIO_UNIMAP
comma
id|do_unimap_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|KDFONTOP
comma
id|do_kdfontop_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_GETFLAGS
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_SETFLAGS
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_GETVERSION
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|EXT2_IOC32_SETVERSION
comma
id|do_ext2_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCGTUNER32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCSTUNER32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCGWIN32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCSWIN32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCGFBUF32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCSFBUF32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCGFREQ32
comma
id|do_video_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VIDIOCSFREQ32
comma
id|do_video_ioctl
)paren
multiline_comment|/* One SMB ioctl needs translations. */
DECL|macro|SMB_IOC_GETMOUNTUID_32
mdefine_line|#define SMB_IOC_GETMOUNTUID_32 _IOR(&squot;u&squot;, 1, __kernel_uid_t32)
id|HANDLE_IOCTL
c_func
(paren
id|SMB_IOC_GETMOUNTUID_32
comma
id|do_smb_getmountuid
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETLINKRATE32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETNAMES32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETTYPE32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETESI32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETADDR32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_RSTADDR32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_ADDADDR32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_DELADDR32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETCIRANGE32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_SETCIRANGE32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_SETESI32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_SETESIF32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETSTAT32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETSTATZ32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_GETLOOP32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_SETLOOP32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|ATM_QUERYLOOP32
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETSTAT
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETSTATZ
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETDIAG
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_SETDIAG
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_CLRDIAG
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_SETFRAMING
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETFRAMING
comma
id|do_atm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|SONET_GETFRSENSE
comma
id|do_atm_ioctl
)paren
macro_line|#if defined(CONFIG_BLK_DEV_LVM) || defined(CONFIG_BLK_DEV_LVM_MODULE)
id|HANDLE_IOCTL
c_func
(paren
id|VG_STATUS
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VG_CREATE
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|VG_EXTEND
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LV_CREATE
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LV_REMOVE
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LV_EXTEND
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LV_REDUCE
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LV_STATUS_BYNAME
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LV_STATUS_BYINDEX
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|LE_REMAP
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PV_CHANGE
comma
id|do_lvm_ioctl
)paren
id|HANDLE_IOCTL
c_func
(paren
id|PV_STATUS
comma
id|do_lvm_ioctl
)paren
macro_line|#endif /* LVM */
macro_line|#if defined(CONFIG_DRM) || defined(CONFIG_DRM_MODULE)
id|HANDLE_IOCTL
c_func
(paren
id|DRM32_IOCTL_VERSION
comma
id|drm32_version
)paren
suffix:semicolon
DECL|variable|HANDLE_IOCTL
id|HANDLE_IOCTL
c_func
(paren
id|DRM32_IOCTL_GET_UNIQUE
comma
id|drm32_getsetunique
)paren
suffix:semicolon
id|HANDLE_IOCTL
c_func
(paren
id|DRM32_IOCTL_SET_UNIQUE
comma
id|drm32_getsetunique
)paren
suffix:semicolon
id|HANDLE_IOCTL
c_func
(paren
id|DRM32_IOCTL_ADD_MAP
comma
id|drm32_addmap
)paren
suffix:semicolon
id|HANDLE_IOCTL
c_func
(paren
id|DRM32_IOCTL_INFO_BUFS
comma
id|drm32_info_bufs
)paren
suffix:semicolon
id|HANDLE_IOCTL
c_func
(paren
id|DRM32_IOCTL_FREE_BUFS
comma
id|drm32_free_bufs
)paren
suffix:semicolon
id|HANDLE_IOCTL
c_func
(paren
id|DRM32_IOCTL_MAP_BUFS
comma
id|drm32_map_bufs
)paren
suffix:semicolon
id|HANDLE_IOCTL
c_func
(paren
id|DRM32_IOCTL_DMA
comma
id|drm32_dma
)paren
suffix:semicolon
id|HANDLE_IOCTL
c_func
(paren
id|DRM32_IOCTL_RES_CTX
comma
id|drm32_res_ctx
)paren
suffix:semicolon
macro_line|#endif /* DRM */
id|IOCTL_TABLE_END
DECL|variable|ioctl32_hash_table
r_int
r_int
id|ioctl32_hash_table
(braket
l_int|1024
)braket
suffix:semicolon
DECL|function|ioctl32_hash
r_extern
r_inline
r_int
r_int
id|ioctl32_hash
c_func
(paren
r_int
r_int
id|cmd
)paren
(brace
r_return
(paren
(paren
id|cmd
op_rshift
l_int|6
)paren
op_xor
(paren
id|cmd
op_rshift
l_int|4
)paren
op_xor
id|cmd
)paren
op_amp
l_int|0x3ff
suffix:semicolon
)brace
DECL|function|ioctl32_insert_translation
r_static
r_void
id|ioctl32_insert_translation
c_func
(paren
r_struct
id|ioctl_trans
op_star
id|trans
)paren
(brace
r_int
r_int
id|hash
suffix:semicolon
r_struct
id|ioctl_trans
op_star
id|t
suffix:semicolon
id|hash
op_assign
id|ioctl32_hash
(paren
id|trans-&gt;cmd
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|ioctl32_hash_table
(braket
id|hash
)braket
)paren
id|ioctl32_hash_table
(braket
id|hash
)braket
op_assign
(paren
id|u32
)paren
(paren
r_int
)paren
id|trans
suffix:semicolon
r_else
(brace
id|t
op_assign
(paren
r_struct
id|ioctl_trans
op_star
)paren
(paren
r_int
)paren
id|ioctl32_hash_table
(braket
id|hash
)braket
suffix:semicolon
r_while
c_loop
(paren
id|t-&gt;next
)paren
id|t
op_assign
(paren
r_struct
id|ioctl_trans
op_star
)paren
(paren
r_int
)paren
id|t-&gt;next
suffix:semicolon
id|trans-&gt;next
op_assign
l_int|0
suffix:semicolon
id|t-&gt;next
op_assign
(paren
id|u32
)paren
(paren
r_int
)paren
id|trans
suffix:semicolon
)brace
)brace
DECL|function|init_sys32_ioctl
r_static
r_int
id|__init
id|init_sys32_ioctl
c_func
(paren
r_void
)paren
(brace
r_int
id|i
suffix:semicolon
r_extern
r_struct
id|ioctl_trans
id|ioctl_translations
(braket
)braket
comma
id|ioctl_translations_end
(braket
)braket
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
op_amp
id|ioctl_translations
(braket
id|i
)braket
OL
op_amp
id|ioctl_translations_end
(braket
l_int|0
)braket
suffix:semicolon
id|i
op_increment
)paren
id|ioctl32_insert_translation
c_func
(paren
op_amp
id|ioctl_translations
(braket
id|i
)braket
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|init_sys32_ioctl
id|__initcall
c_func
(paren
id|init_sys32_ioctl
)paren
suffix:semicolon
DECL|variable|additional_ioctls
r_static
r_struct
id|ioctl_trans
op_star
id|additional_ioctls
suffix:semicolon
multiline_comment|/* Always call these with kernel lock held! */
DECL|function|register_ioctl32_conversion
r_int
id|register_ioctl32_conversion
c_func
(paren
r_int
r_int
id|cmd
comma
r_int
(paren
op_star
id|handler
)paren
(paren
r_int
r_int
comma
r_int
r_int
comma
r_int
r_int
comma
r_struct
id|file
op_star
)paren
)paren
(brace
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|additional_ioctls
)paren
(brace
id|additional_ioctls
op_assign
id|module_map
c_func
(paren
id|PAGE_SIZE
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|additional_ioctls
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|memset
c_func
(paren
id|additional_ioctls
comma
l_int|0
comma
id|PAGE_SIZE
)paren
suffix:semicolon
)brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|PAGE_SIZE
op_div
r_sizeof
(paren
r_struct
id|ioctl_trans
)paren
suffix:semicolon
id|i
op_increment
)paren
r_if
c_cond
(paren
op_logical_neg
id|additional_ioctls
(braket
id|i
)braket
dot
id|cmd
)paren
r_break
suffix:semicolon
r_if
c_cond
(paren
id|i
op_eq
id|PAGE_SIZE
op_div
r_sizeof
(paren
r_struct
id|ioctl_trans
)paren
)paren
r_return
op_minus
id|ENOMEM
suffix:semicolon
id|additional_ioctls
(braket
id|i
)braket
dot
id|cmd
op_assign
id|cmd
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|handler
)paren
id|additional_ioctls
(braket
id|i
)braket
dot
id|handler
op_assign
(paren
id|u32
)paren
(paren
r_int
)paren
id|sys_ioctl
suffix:semicolon
r_else
id|additional_ioctls
(braket
id|i
)braket
dot
id|handler
op_assign
(paren
id|u32
)paren
(paren
r_int
)paren
id|handler
suffix:semicolon
id|ioctl32_insert_translation
c_func
(paren
op_amp
id|additional_ioctls
(braket
id|i
)braket
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|unregister_ioctl32_conversion
r_int
id|unregister_ioctl32_conversion
c_func
(paren
r_int
r_int
id|cmd
)paren
(brace
r_int
r_int
id|hash
op_assign
id|ioctl32_hash
c_func
(paren
id|cmd
)paren
suffix:semicolon
r_struct
id|ioctl_trans
op_star
id|t
comma
op_star
id|t1
suffix:semicolon
id|t
op_assign
(paren
r_struct
id|ioctl_trans
op_star
)paren
(paren
r_int
)paren
id|ioctl32_hash_table
(braket
id|hash
)braket
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|t
)paren
r_return
op_minus
id|EINVAL
suffix:semicolon
r_if
c_cond
(paren
id|t-&gt;cmd
op_eq
id|cmd
op_logical_and
id|t
op_ge
id|additional_ioctls
op_logical_and
(paren
r_int
r_int
)paren
id|t
OL
(paren
(paren
r_int
r_int
)paren
id|additional_ioctls
)paren
op_plus
id|PAGE_SIZE
)paren
(brace
id|ioctl32_hash_table
(braket
id|hash
)braket
op_assign
id|t-&gt;next
suffix:semicolon
id|t-&gt;cmd
op_assign
l_int|0
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_else
r_while
c_loop
(paren
id|t-&gt;next
)paren
(brace
id|t1
op_assign
(paren
r_struct
id|ioctl_trans
op_star
)paren
(paren
r_int
)paren
id|t-&gt;next
suffix:semicolon
r_if
c_cond
(paren
id|t1-&gt;cmd
op_eq
id|cmd
op_logical_and
id|t1
op_ge
id|additional_ioctls
op_logical_and
(paren
r_int
r_int
)paren
id|t1
OL
(paren
(paren
r_int
r_int
)paren
id|additional_ioctls
)paren
op_plus
id|PAGE_SIZE
)paren
(brace
id|t1-&gt;cmd
op_assign
l_int|0
suffix:semicolon
id|t-&gt;next
op_assign
id|t1-&gt;next
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
id|t
op_assign
id|t1
suffix:semicolon
)brace
r_return
op_minus
id|EINVAL
suffix:semicolon
)brace
DECL|function|sys32_ioctl
id|asmlinkage
r_int
id|sys32_ioctl
c_func
(paren
r_int
r_int
id|fd
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
(brace
r_struct
id|file
op_star
id|filp
suffix:semicolon
r_int
id|error
op_assign
op_minus
id|EBADF
suffix:semicolon
r_int
(paren
op_star
id|handler
)paren
(paren
r_int
r_int
comma
r_int
r_int
comma
r_int
r_int
comma
r_struct
id|file
op_star
id|filp
)paren
suffix:semicolon
r_struct
id|ioctl_trans
op_star
id|t
suffix:semicolon
id|filp
op_assign
id|fget
c_func
(paren
id|fd
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|filp
)paren
(brace
r_goto
id|out2
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|filp-&gt;f_op
op_logical_or
op_logical_neg
id|filp-&gt;f_op-&gt;ioctl
)paren
(brace
id|error
op_assign
id|sys_ioctl
(paren
id|fd
comma
id|cmd
comma
id|arg
)paren
suffix:semicolon
r_goto
id|out
suffix:semicolon
)brace
id|t
op_assign
(paren
r_struct
id|ioctl_trans
op_star
)paren
(paren
r_int
)paren
id|ioctl32_hash_table
(braket
id|ioctl32_hash
(paren
id|cmd
)paren
)braket
suffix:semicolon
r_while
c_loop
(paren
id|t
op_logical_and
id|t-&gt;cmd
op_ne
id|cmd
)paren
id|t
op_assign
(paren
r_struct
id|ioctl_trans
op_star
)paren
(paren
r_int
)paren
id|t-&gt;next
suffix:semicolon
r_if
c_cond
(paren
id|t
)paren
(brace
id|handler
op_assign
(paren
r_void
op_star
)paren
(paren
r_int
)paren
id|t-&gt;handler
suffix:semicolon
id|error
op_assign
id|handler
c_func
(paren
id|fd
comma
id|cmd
comma
id|arg
comma
id|filp
)paren
suffix:semicolon
)brace
r_else
(brace
r_static
r_int
id|count
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_increment
id|count
op_le
l_int|20
)paren
id|printk
c_func
(paren
l_string|&quot;sys32_ioctl: Unknown cmd fd(%d) &quot;
l_string|&quot;cmd(%08x) arg(%08x)&bslash;n&quot;
comma
(paren
r_int
)paren
id|fd
comma
(paren
r_int
r_int
)paren
id|cmd
comma
(paren
r_int
r_int
)paren
id|arg
)paren
suffix:semicolon
id|error
op_assign
op_minus
id|EINVAL
suffix:semicolon
)brace
id|out
suffix:colon
id|fput
c_func
(paren
id|filp
)paren
suffix:semicolon
id|out2
suffix:colon
r_return
id|error
suffix:semicolon
)brace
eof
