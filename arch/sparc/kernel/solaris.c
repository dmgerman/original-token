multiline_comment|/* solaris.c: Solaris binary emulation, whee...&n; *&n; * Copyright (C) 1996 David S. Miller (davem@caip.rutgers.edu)&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/fcntl.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/smp.h&gt;
macro_line|#include &lt;linux/smp_lock.h&gt;
macro_line|#include &lt;asm/errno.h&gt;
macro_line|#include &lt;asm/solerrno.h&gt;
r_extern
id|asmlinkage
r_int
id|sys_open
c_func
(paren
r_const
r_char
op_star
comma
r_int
comma
r_int
)paren
suffix:semicolon
DECL|function|solaris_open
id|asmlinkage
r_int
id|solaris_open
c_func
(paren
r_const
r_char
op_star
id|filename
comma
r_int
id|flags
comma
r_int
id|mode
)paren
(brace
r_int
id|newflags
suffix:semicolon
r_int
id|ret
suffix:semicolon
id|lock_kernel
c_func
(paren
)paren
suffix:semicolon
id|newflags
op_assign
id|flags
op_amp
l_int|0xf
suffix:semicolon
id|flags
op_and_assign
op_complement
l_int|0xf
suffix:semicolon
r_if
c_cond
(paren
id|flags
op_amp
l_int|0x8050
)paren
(brace
id|newflags
op_or_assign
id|FASYNC
suffix:semicolon
)brace
r_if
c_cond
(paren
id|flags
op_amp
l_int|0x80
)paren
(brace
id|newflags
op_or_assign
id|O_NONBLOCK
suffix:semicolon
)brace
r_if
c_cond
(paren
id|flags
op_amp
l_int|0x100
)paren
(brace
id|newflags
op_or_assign
id|O_CREAT
suffix:semicolon
)brace
r_if
c_cond
(paren
id|flags
op_amp
l_int|0x200
)paren
(brace
id|newflags
op_or_assign
id|O_TRUNC
suffix:semicolon
)brace
r_if
c_cond
(paren
id|flags
op_amp
l_int|0x400
)paren
(brace
id|newflags
op_or_assign
id|O_EXCL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|flags
op_amp
l_int|0x800
)paren
(brace
id|newflags
op_or_assign
id|O_NOCTTY
suffix:semicolon
)brace
id|ret
op_assign
id|sys_open
c_func
(paren
id|filename
comma
id|newflags
comma
id|mode
)paren
suffix:semicolon
id|unlock_kernel
c_func
(paren
)paren
suffix:semicolon
r_return
id|ret
suffix:semicolon
)brace
eof
