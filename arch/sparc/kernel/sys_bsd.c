multiline_comment|/* sys_bsd.c: {net, open}bsd specific system call handling.&n; *&n; * Copyright (C) 1995 David S. Miller (davem@caipfs.rutgers.edu)&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;asm/ptrace.h&gt;
macro_line|#include &lt;asm/bsderrno.h&gt;
DECL|variable|errno_trans
r_static
r_int
id|errno_trans
(braket
)braket
op_assign
(brace
l_int|0
comma
id|BSD_EPERM
comma
id|BSD_ENOENT
comma
id|BSD_ESRCH
comma
id|BSD_EINTR
comma
id|BSD_EIO
comma
id|BSD_ENXIO
comma
id|BSD_E2BIG
comma
id|BSD_ENOEXEC
comma
id|BSD_EBADF
comma
id|BSD_ECHILD
comma
id|BSD_EAGAIN
comma
id|BSD_ENOMEM
comma
id|BSD_EACCES
comma
id|BSD_EFAULT
comma
id|BSD_ENOTBLK
comma
id|BSD_EBUSY
comma
id|BSD_EEXIST
comma
id|BSD_EXDEV
comma
id|BSD_ENODEV
comma
id|BSD_ENOTDIR
comma
id|BSD_EISDIR
comma
id|BSD_EINVAL
comma
id|BSD_ENFILE
comma
id|BSD_EMFILE
comma
id|BSD_ENOTTY
comma
id|BSD_ETXTBSY
comma
id|BSD_EFBIG
comma
id|BSD_ENOSPC
comma
id|BSD_ESPIPE
comma
id|BSD_EROFS
comma
id|BSD_EMLINK
comma
id|BSD_EPIPE
comma
id|BSD_EDOM
comma
id|BSD_ERANGE
comma
id|BSD_EWOULDBLOCK
comma
id|BSD_EINPROGRESS
comma
id|BSD_EALREADY
comma
id|BSD_ENOTSOCK
comma
id|BSD_EDESTADDRREQ
comma
id|BSD_EMSGSIZE
comma
id|BSD_EPROTOTYPE
comma
id|BSD_ENOPROTOOPT
comma
id|BSD_EPROTONOSUPPORT
comma
id|BSD_ESOCKTNOSUPPORT
comma
id|BSD_EOPNOTSUPP
comma
id|BSD_EPFNOSUPPORT
comma
id|BSD_EAFNOSUPPORT
comma
id|BSD_EADDRINUSE
comma
id|BSD_EADDRNOTAVAIL
comma
id|BSD_ENETDOWN
comma
id|BSD_ENETUNREACH
comma
id|BSD_ENETRESET
comma
id|BSD_ECONNABORTED
comma
id|BSD_ECONNRESET
comma
id|BSD_ENOBUFS
comma
id|BSD_EISCONN
comma
id|BSD_ENOTCONN
comma
id|BSD_ESHUTDOWN
comma
id|BSD_ETOOMANYREFS
comma
id|BSD_ETIMEDOUT
comma
id|BSD_ECONNREFUSED
comma
id|BSD_ELOOP
comma
id|BSD_ENAMETOOLONG
comma
id|BSD_EHOSTDOWN
comma
id|BSD_EHOSTUNREACH
comma
id|BSD_ENOTEMPTY
comma
id|BSD_EPROCLIM
comma
id|BSD_EUSERS
comma
id|BSD_EDQUOT
comma
id|BSD_ESTALE
comma
id|BSD_EREMOTE
comma
id|BSD_ENOSTR
comma
id|BSD_ETIME
comma
id|BSD_ENOSR
comma
id|BSD_ENOMSG
comma
id|BSD_EBADMSG
comma
id|BSD_EIDRM
comma
id|BSD_EDEADLK
comma
id|BSD_ENOLCK
comma
id|BSD_ENONET
comma
id|BSD_ERREMOTE
comma
id|BSD_ENOLINK
comma
id|BSD_EADV
comma
id|BSD_ESRMNT
comma
id|BSD_ECOMM
comma
id|BSD_EPROTO
comma
id|BSD_EMULTIHOP
comma
id|BSD_EDOTDOT
comma
id|BSD_EREMCHG
comma
id|BSD_ENOSYS
)brace
suffix:semicolon
DECL|function|netbsd_nosys
id|asmlinkage
r_int
id|netbsd_nosys
c_func
(paren
r_void
)paren
(brace
r_struct
id|pt_regs
op_star
id|regs
suffix:semicolon
id|regs
op_assign
(paren
r_struct
id|pt_regs
op_star
)paren
(paren
id|current-&gt;saved_kernel_stack
op_plus
r_sizeof
(paren
r_struct
id|reg_window
)paren
)paren
suffix:semicolon
id|current-&gt;tss.sig_address
op_assign
id|regs-&gt;pc
suffix:semicolon
id|current-&gt;tss.sig_desc
op_assign
id|regs-&gt;u_regs
(braket
id|UREG_G1
)braket
suffix:semicolon
id|send_sig
c_func
(paren
id|SIGSYS
comma
id|current
comma
l_int|1
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;Process makes ni_syscall number %d, register dump:&bslash;n&quot;
comma
(paren
r_int
)paren
id|regs-&gt;u_regs
(braket
id|UREG_G1
)braket
)paren
suffix:semicolon
id|show_regs
c_func
(paren
id|regs
)paren
suffix:semicolon
r_return
op_minus
id|BSD_ENOSYS
suffix:semicolon
)brace
eof
