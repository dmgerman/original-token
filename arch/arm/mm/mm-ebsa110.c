multiline_comment|/*&n; * arch/arm/mm/mm-ebsa110.c&n; *&n; * Extra MM routines for the Archimedes architecture&n; *&n; * Copyright (C) 1998 Russell King&n; */
macro_line|#include &lt;asm/io.h&gt;
multiline_comment|/* map in IO */
DECL|function|setup_io_pagetables
r_void
id|setup_io_pagetables
c_func
(paren
r_void
)paren
(brace
r_int
r_int
id|address
op_assign
id|IO_START
suffix:semicolon
r_int
id|spi
op_assign
id|IO_BASE
op_rshift
id|PGDIR_SHIFT
suffix:semicolon
id|pgd_val
c_func
(paren
id|swapper_pg_dir
(braket
id|spi
op_minus
l_int|1
)braket
)paren
op_assign
l_int|0xc0000000
op_or
id|PMD_TYPE_SECT
op_or
id|PMD_DOMAIN
c_func
(paren
id|DOMAIN_KERNEL
)paren
op_or
id|PMD_SECT_AP_WRITE
suffix:semicolon
r_while
c_loop
(paren
id|address
OL
id|IO_START
op_plus
id|IO_SIZE
op_logical_and
id|address
)paren
(brace
id|pgd_val
c_func
(paren
id|swapper_pg_dir
(braket
id|spi
op_increment
)braket
)paren
op_assign
id|address
op_or
id|PMD_TYPE_SECT
op_or
id|PMD_DOMAIN
c_func
(paren
id|DOMAIN_IO
)paren
op_or
id|PMD_SECT_AP_WRITE
suffix:semicolon
id|address
op_add_assign
id|PGDIR_SIZE
suffix:semicolon
)brace
)brace
eof
