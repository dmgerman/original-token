multiline_comment|/*&n; *  linux/arch/arm/lib/getconsdata.c&n; *&n; *  Copyright (C) 1995-2000 Russell King&n; *&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License version 2 as&n; * published by the Free Software Foundation.&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;asm/pgtable.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
multiline_comment|/*&n; * Make sure that the compiler and target are compatible&n; */
macro_line|#if (defined(__APCS_32__) &amp;&amp; defined(CONFIG_CPU_26))
macro_line|#error Your compiler targets APCS-32 but this kernel requires APCS-26.
macro_line|#endif
macro_line|#if (defined(__APCS_26__) &amp;&amp; defined(CONFIG_CPU_32))
macro_line|#error Your compiler targets APCS-26 but this kernel requires APCS-32.
macro_line|#endif
DECL|macro|PAGE_READONLY
macro_line|#undef PAGE_READONLY
DECL|macro|OFF_TSK
mdefine_line|#define OFF_TSK(n) (unsigned long)&amp;(((struct task_struct *)0)-&gt;n)
DECL|macro|OFF_MM
mdefine_line|#define OFF_MM(n) (unsigned long)&amp;(((struct mm_struct *)0)-&gt;n)
DECL|variable|TSK_SIGPENDING
r_int
r_int
id|TSK_SIGPENDING
op_assign
id|OFF_TSK
c_func
(paren
id|sigpending
)paren
suffix:semicolon
DECL|variable|TSK_ADDR_LIMIT
r_int
r_int
id|TSK_ADDR_LIMIT
op_assign
id|OFF_TSK
c_func
(paren
id|addr_limit
)paren
suffix:semicolon
DECL|variable|TSK_NEED_RESCHED
r_int
r_int
id|TSK_NEED_RESCHED
op_assign
id|OFF_TSK
c_func
(paren
id|need_resched
)paren
suffix:semicolon
DECL|variable|TSK_PTRACE
r_int
r_int
id|TSK_PTRACE
op_assign
id|OFF_TSK
c_func
(paren
id|ptrace
)paren
suffix:semicolon
DECL|variable|TSK_USED_MATH
r_int
r_int
id|TSK_USED_MATH
op_assign
id|OFF_TSK
c_func
(paren
id|used_math
)paren
suffix:semicolon
DECL|variable|TSS_SAVE
r_int
r_int
id|TSS_SAVE
op_assign
id|OFF_TSK
c_func
(paren
id|thread.save
)paren
suffix:semicolon
DECL|variable|TSS_FPESAVE
r_int
r_int
id|TSS_FPESAVE
op_assign
id|OFF_TSK
c_func
(paren
id|thread.fpstate.soft.save
)paren
suffix:semicolon
macro_line|#ifdef CONFIG_CPU_32
DECL|variable|TSS_DOMAIN
r_int
r_int
id|TSS_DOMAIN
op_assign
id|OFF_TSK
c_func
(paren
id|thread.domain
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef _PAGE_PRESENT
DECL|variable|PAGE_PRESENT
r_int
r_int
id|PAGE_PRESENT
op_assign
id|_PAGE_PRESENT
suffix:semicolon
macro_line|#endif
macro_line|#ifdef _PAGE_RW
DECL|variable|PAGE_RW
r_int
r_int
id|PAGE_RW
op_assign
id|_PAGE_RW
suffix:semicolon
macro_line|#endif
macro_line|#ifdef _PAGE_USER
DECL|variable|PAGE_USER
r_int
r_int
id|PAGE_USER
op_assign
id|_PAGE_USER
suffix:semicolon
macro_line|#endif
macro_line|#ifdef _PAGE_ACCESSED
DECL|variable|PAGE_ACCESSED
r_int
r_int
id|PAGE_ACCESSED
op_assign
id|_PAGE_ACCESSED
suffix:semicolon
macro_line|#endif
macro_line|#ifdef _PAGE_DIRTY
DECL|variable|PAGE_DIRTY
r_int
r_int
id|PAGE_DIRTY
op_assign
id|_PAGE_DIRTY
suffix:semicolon
macro_line|#endif
macro_line|#ifdef _PAGE_READONLY
DECL|variable|PAGE_READONLY
r_int
r_int
id|PAGE_READONLY
op_assign
id|_PAGE_READONLY
suffix:semicolon
macro_line|#endif
macro_line|#ifdef _PAGE_NOT_USER
DECL|variable|PAGE_NOT_USER
r_int
r_int
id|PAGE_NOT_USER
op_assign
id|_PAGE_NOT_USER
suffix:semicolon
macro_line|#endif
macro_line|#ifdef _PAGE_OLD
DECL|variable|PAGE_OLD
r_int
r_int
id|PAGE_OLD
op_assign
id|_PAGE_OLD
suffix:semicolon
macro_line|#endif
macro_line|#ifdef _PAGE_CLEAN
DECL|variable|PAGE_CLEAN
r_int
r_int
id|PAGE_CLEAN
op_assign
id|_PAGE_CLEAN
suffix:semicolon
macro_line|#endif
macro_line|#ifdef PTE_TYPE_SMALL
DECL|variable|HPTE_TYPE_SMALL
r_int
r_int
id|HPTE_TYPE_SMALL
op_assign
id|PTE_TYPE_SMALL
suffix:semicolon
DECL|variable|HPTE_AP_READ
r_int
r_int
id|HPTE_AP_READ
op_assign
id|PTE_AP_READ
suffix:semicolon
DECL|variable|HPTE_AP_WRITE
r_int
r_int
id|HPTE_AP_WRITE
op_assign
id|PTE_AP_WRITE
suffix:semicolon
macro_line|#endif
macro_line|#ifdef L_PTE_PRESENT
DECL|variable|LPTE_PRESENT
r_int
r_int
id|LPTE_PRESENT
op_assign
id|L_PTE_PRESENT
suffix:semicolon
DECL|variable|LPTE_YOUNG
r_int
r_int
id|LPTE_YOUNG
op_assign
id|L_PTE_YOUNG
suffix:semicolon
DECL|variable|LPTE_BUFFERABLE
r_int
r_int
id|LPTE_BUFFERABLE
op_assign
id|L_PTE_BUFFERABLE
suffix:semicolon
DECL|variable|LPTE_CACHEABLE
r_int
r_int
id|LPTE_CACHEABLE
op_assign
id|L_PTE_CACHEABLE
suffix:semicolon
DECL|variable|LPTE_USER
r_int
r_int
id|LPTE_USER
op_assign
id|L_PTE_USER
suffix:semicolon
DECL|variable|LPTE_WRITE
r_int
r_int
id|LPTE_WRITE
op_assign
id|L_PTE_WRITE
suffix:semicolon
DECL|variable|LPTE_EXEC
r_int
r_int
id|LPTE_EXEC
op_assign
id|L_PTE_EXEC
suffix:semicolon
DECL|variable|LPTE_DIRTY
r_int
r_int
id|LPTE_DIRTY
op_assign
id|L_PTE_DIRTY
suffix:semicolon
macro_line|#endif
DECL|variable|PAGE_SZ
r_int
r_int
id|PAGE_SZ
op_assign
id|PAGE_SIZE
suffix:semicolon
DECL|variable|KSWI_BASE
r_int
r_int
id|KSWI_BASE
op_assign
l_int|0x900000
suffix:semicolon
DECL|variable|KSWI_SYS_BASE
r_int
r_int
id|KSWI_SYS_BASE
op_assign
l_int|0x9f0000
suffix:semicolon
DECL|variable|SYS_ERROR0
r_int
r_int
id|SYS_ERROR0
op_assign
l_int|0x9f0000
suffix:semicolon
DECL|variable|PGOFF_SHIFT
r_int
r_int
id|PGOFF_SHIFT
op_assign
id|PAGE_SHIFT
op_minus
l_int|12
suffix:semicolon
DECL|variable|PGOFF_MASK
r_int
r_int
id|PGOFF_MASK
op_assign
(paren
l_int|1
op_lshift
(paren
id|PAGE_SHIFT
op_minus
l_int|12
)paren
)paren
op_minus
l_int|1
suffix:semicolon
eof
