multiline_comment|/*&n; *  linux/arch/arm/lib/io-shark.c&n; *&n; *  by Alexander.Schulz@stud.uni-karlsruhe.de&n; *&n; * derived from:&n; * linux/arch/arm/lib/io-ebsa.S&n; * Copyright (C) 1995, 1996 Russell King&n; *&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License version 2 as&n; * published by the Free Software Foundation.&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;asm/io.h&gt;
DECL|function|print_warning
r_void
id|print_warning
c_func
(paren
r_void
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;ins?/outs? not implemented on this architecture&bslash;n&quot;
)paren
suffix:semicolon
)brace
DECL|function|insl
r_void
id|insl
c_func
(paren
r_int
r_int
id|port
comma
r_void
op_star
id|to
comma
r_int
id|len
)paren
(brace
id|print_warning
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|insb
r_void
id|insb
c_func
(paren
r_int
r_int
id|port
comma
r_void
op_star
id|to
comma
r_int
id|len
)paren
(brace
id|print_warning
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|outsl
r_void
id|outsl
c_func
(paren
r_int
r_int
id|port
comma
r_const
r_void
op_star
id|from
comma
r_int
id|len
)paren
(brace
id|print_warning
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|function|outsb
r_void
id|outsb
c_func
(paren
r_int
r_int
id|port
comma
r_const
r_void
op_star
id|from
comma
r_int
id|len
)paren
(brace
id|print_warning
c_func
(paren
)paren
suffix:semicolon
)brace
multiline_comment|/* these should be in assembler again */
multiline_comment|/*&n; * Purpose: read a block of data from a hardware register to memory.&n; * Proto  : insw(int from_port, void *to, int len_in_words);&n; * Proto  : inswb(int from_port, void *to, int len_in_bytes);&n; * Notes  : increment to&n; */
DECL|function|insw
r_void
id|insw
c_func
(paren
r_int
r_int
id|port
comma
r_void
op_star
id|to
comma
r_int
id|len
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|len
suffix:semicolon
id|i
op_increment
)paren
(paren
(paren
r_int
r_int
op_star
)paren
id|to
)paren
(braket
id|i
)braket
op_assign
id|inw
c_func
(paren
id|port
)paren
suffix:semicolon
)brace
DECL|function|inswb
r_void
id|inswb
c_func
(paren
r_int
r_int
id|port
comma
r_void
op_star
id|to
comma
r_int
id|len
)paren
(brace
id|insw
c_func
(paren
id|port
comma
id|to
comma
id|len
op_rshift
l_int|2
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Purpose: write a block of data from memory to a hardware register.&n; * Proto  : outsw(int to_reg, void *from, int len_in_words);&n; * Proto  : outswb(int to_reg, void *from, int len_in_bytes);&n; * Notes  : increments from&n; */
DECL|function|outsw
r_void
id|outsw
c_func
(paren
r_int
r_int
id|port
comma
r_const
r_void
op_star
id|from
comma
r_int
id|len
)paren
(brace
r_int
id|i
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|len
suffix:semicolon
id|i
op_increment
)paren
id|outw
c_func
(paren
(paren
(paren
r_int
r_int
op_star
)paren
id|from
)paren
(braket
id|i
)braket
comma
id|port
)paren
suffix:semicolon
)brace
DECL|function|outswb
r_void
id|outswb
c_func
(paren
r_int
r_int
id|port
comma
r_const
r_void
op_star
id|from
comma
r_int
id|len
)paren
(brace
id|outsw
c_func
(paren
id|port
comma
id|from
comma
id|len
op_rshift
l_int|2
)paren
suffix:semicolon
)brace
eof
