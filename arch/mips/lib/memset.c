multiline_comment|/* linux/arch/mips/lib/memset.c&n; *&n; * This is from GNU libc.&n; */
macro_line|#include &lt;linux/types.h&gt;
DECL|macro|op_t
mdefine_line|#define op_t unsigned long int
DECL|macro|OPSIZ
mdefine_line|#define OPSIZ (sizeof(op_t))
DECL|typedef|byte
r_typedef
r_int
r_char
id|byte
suffix:semicolon
DECL|function|memset
r_void
op_star
id|memset
c_func
(paren
r_void
op_star
id|dstpp
comma
r_char
id|c
comma
r_int
id|len
)paren
(brace
r_int
r_int
id|dstp
op_assign
(paren
r_int
r_int
)paren
id|dstpp
suffix:semicolon
r_if
c_cond
(paren
id|len
op_ge
l_int|8
)paren
(brace
r_int
id|xlen
suffix:semicolon
id|op_t
id|cccc
suffix:semicolon
id|cccc
op_assign
(paren
r_int
r_char
)paren
id|c
suffix:semicolon
id|cccc
op_or_assign
id|cccc
op_lshift
l_int|8
suffix:semicolon
id|cccc
op_or_assign
id|cccc
op_lshift
l_int|16
suffix:semicolon
multiline_comment|/* There are at least some bytes to set.&n;&t;&t;&t;   No need to test for LEN == 0 in this alignment loop.  */
r_while
c_loop
(paren
id|dstp
op_mod
id|OPSIZ
op_ne
l_int|0
)paren
(brace
(paren
(paren
id|byte
op_star
)paren
id|dstp
)paren
(braket
l_int|0
)braket
op_assign
id|c
suffix:semicolon
id|dstp
op_add_assign
l_int|1
suffix:semicolon
id|len
op_sub_assign
l_int|1
suffix:semicolon
)brace
multiline_comment|/* Write 8 `op_t&squot; per iteration until less&n;&t;&t;&t; * than 8 `op_t&squot; remain.&n;&t;&t;&t; */
id|xlen
op_assign
id|len
op_div
(paren
id|OPSIZ
op_star
l_int|8
)paren
suffix:semicolon
r_while
c_loop
(paren
id|xlen
OG
l_int|0
)paren
(brace
(paren
(paren
id|op_t
op_star
)paren
id|dstp
)paren
(braket
l_int|0
)braket
op_assign
id|cccc
suffix:semicolon
(paren
(paren
id|op_t
op_star
)paren
id|dstp
)paren
(braket
l_int|1
)braket
op_assign
id|cccc
suffix:semicolon
(paren
(paren
id|op_t
op_star
)paren
id|dstp
)paren
(braket
l_int|2
)braket
op_assign
id|cccc
suffix:semicolon
(paren
(paren
id|op_t
op_star
)paren
id|dstp
)paren
(braket
l_int|3
)braket
op_assign
id|cccc
suffix:semicolon
(paren
(paren
id|op_t
op_star
)paren
id|dstp
)paren
(braket
l_int|4
)braket
op_assign
id|cccc
suffix:semicolon
(paren
(paren
id|op_t
op_star
)paren
id|dstp
)paren
(braket
l_int|5
)braket
op_assign
id|cccc
suffix:semicolon
(paren
(paren
id|op_t
op_star
)paren
id|dstp
)paren
(braket
l_int|6
)braket
op_assign
id|cccc
suffix:semicolon
(paren
(paren
id|op_t
op_star
)paren
id|dstp
)paren
(braket
l_int|7
)braket
op_assign
id|cccc
suffix:semicolon
id|dstp
op_add_assign
l_int|8
op_star
id|OPSIZ
suffix:semicolon
id|xlen
op_sub_assign
l_int|1
suffix:semicolon
)brace
id|len
op_mod_assign
id|OPSIZ
op_star
l_int|8
suffix:semicolon
multiline_comment|/* Write 1 `op_t&squot; per iteration until less than&n;&t;&t;&t; * OPSIZ bytes remain.&n;&t;&t;&t; */
id|xlen
op_assign
id|len
op_div
id|OPSIZ
suffix:semicolon
r_while
c_loop
(paren
id|xlen
OG
l_int|0
)paren
(brace
(paren
(paren
id|op_t
op_star
)paren
id|dstp
)paren
(braket
l_int|0
)braket
op_assign
id|cccc
suffix:semicolon
id|dstp
op_add_assign
id|OPSIZ
suffix:semicolon
id|xlen
op_sub_assign
l_int|1
suffix:semicolon
)brace
id|len
op_mod_assign
id|OPSIZ
suffix:semicolon
)brace
multiline_comment|/* Write the last few bytes.  */
r_while
c_loop
(paren
id|len
OG
l_int|0
)paren
(brace
(paren
(paren
id|byte
op_star
)paren
id|dstp
)paren
(braket
l_int|0
)braket
op_assign
id|c
suffix:semicolon
id|dstp
op_add_assign
l_int|1
suffix:semicolon
id|len
op_sub_assign
l_int|1
suffix:semicolon
)brace
r_return
id|dstpp
suffix:semicolon
)brace
eof
