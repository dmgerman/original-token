multiline_comment|/* $Id: tfp.c,v 1.6 1998/10/16 19:22:44 ralf Exp $&n; *&n; * tfp.c: MMU and cache routines specific to the r8000 (TFP).&n; *&n; * Copyright (C) 1996 David S. Miller (dm@engr.sgi.com)&n; *&n; */
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;asm/page.h&gt;
macro_line|#include &lt;asm/pgtable.h&gt;
macro_line|#include &lt;asm/system.h&gt;
macro_line|#include &lt;asm/sgialib.h&gt;
macro_line|#include &lt;asm/mmu_context.h&gt;
r_extern
r_int
r_int
id|mips_tlb_entries
suffix:semicolon
multiline_comment|/* Cache operations. XXX Write these dave... */
DECL|function|tfp_flush_cache_all
r_static
r_inline
r_void
id|tfp_flush_cache_all
c_func
(paren
r_void
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_flush_cache_mm
r_static
r_void
id|tfp_flush_cache_mm
c_func
(paren
r_struct
id|mm_struct
op_star
id|mm
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_flush_cache_range
r_static
r_void
id|tfp_flush_cache_range
c_func
(paren
r_struct
id|mm_struct
op_star
id|mm
comma
r_int
r_int
id|start
comma
r_int
r_int
id|end
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_flush_cache_page
r_static
r_void
id|tfp_flush_cache_page
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|page
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_flush_page_to_ram
r_static
r_void
id|tfp_flush_page_to_ram
c_func
(paren
r_int
r_int
id|page
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_flush_cache_sigtramp
r_static
r_void
id|tfp_flush_cache_sigtramp
c_func
(paren
r_int
r_int
id|page
)paren
(brace
multiline_comment|/* XXX */
)brace
multiline_comment|/* TLB operations. XXX Write these dave... */
DECL|function|tfp_flush_tlb_all
r_static
r_inline
r_void
id|tfp_flush_tlb_all
c_func
(paren
r_void
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_flush_tlb_mm
r_static
r_void
id|tfp_flush_tlb_mm
c_func
(paren
r_struct
id|mm_struct
op_star
id|mm
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_flush_tlb_range
r_static
r_void
id|tfp_flush_tlb_range
c_func
(paren
r_struct
id|mm_struct
op_star
id|mm
comma
r_int
r_int
id|start
comma
r_int
r_int
id|end
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_flush_tlb_page
r_static
r_void
id|tfp_flush_tlb_page
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|page
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_load_pgd
r_static
r_void
id|tfp_load_pgd
c_func
(paren
r_int
r_int
id|pg_dir
)paren
(brace
)brace
DECL|function|tfp_pgd_init
r_static
r_void
id|tfp_pgd_init
c_func
(paren
r_int
r_int
id|page
)paren
(brace
)brace
DECL|function|tfp_add_wired_entry
r_static
r_void
id|tfp_add_wired_entry
c_func
(paren
r_int
r_int
id|entrylo0
comma
r_int
r_int
id|entrylo1
comma
r_int
r_int
id|entryhi
comma
r_int
r_int
id|pagemask
)paren
(brace
multiline_comment|/* XXX */
)brace
DECL|function|tfp_user_mode
r_static
r_int
id|tfp_user_mode
c_func
(paren
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
r_return
(paren
id|regs-&gt;cp0_status
op_amp
id|ST0_KSU
)paren
op_eq
id|KSU_USER
suffix:semicolon
)brace
DECL|function|__initfunc
id|__initfunc
c_func
(paren
r_void
id|ld_mmu_tfp
c_func
(paren
r_void
)paren
)paren
(brace
id|flush_cache_all
op_assign
id|tfp_flush_cache_all
suffix:semicolon
id|flush_cache_mm
op_assign
id|tfp_flush_cache_mm
suffix:semicolon
id|flush_cache_range
op_assign
id|tfp_flush_cache_range
suffix:semicolon
id|flush_cache_page
op_assign
id|tfp_flush_cache_page
suffix:semicolon
id|flush_cache_sigtramp
op_assign
id|tfp_flush_cache_sigtramp
suffix:semicolon
id|flush_page_to_ram
op_assign
id|tfp_flush_page_to_ram
suffix:semicolon
id|flush_tlb_all
op_assign
id|tfp_flush_tlb_all
suffix:semicolon
id|flush_tlb_mm
op_assign
id|tfp_flush_tlb_mm
suffix:semicolon
id|flush_tlb_range
op_assign
id|tfp_flush_tlb_range
suffix:semicolon
id|flush_tlb_page
op_assign
id|tfp_flush_tlb_page
suffix:semicolon
id|tfp_asid_setup
c_func
(paren
)paren
suffix:semicolon
id|add_wired_entry
op_assign
id|tfp_add_wired_entry
suffix:semicolon
id|user_mode
op_assign
id|tfp_user_mode
suffix:semicolon
id|load_pgd
op_assign
id|tfp_load_pgd
suffix:semicolon
id|pgd_init
op_assign
id|tfp_pgd_init
suffix:semicolon
id|flush_cache_all
c_func
(paren
)paren
suffix:semicolon
id|flush_tlb_all
c_func
(paren
)paren
suffix:semicolon
)brace
eof
