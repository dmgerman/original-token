macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;asm/system.h&gt;
macro_line|#include &lt;asm/baget/baget.h&gt;
DECL|macro|R3000_RESET_VEC
mdefine_line|#define R3000_RESET_VEC  0xbfc00000
DECL|typedef|vector
r_typedef
r_void
id|vector
c_func
(paren
r_void
)paren
suffix:semicolon
DECL|function|baget_reboot
r_static
r_void
id|baget_reboot
c_func
(paren
r_char
op_star
id|from_fun
)paren
(brace
id|cli
c_func
(paren
)paren
suffix:semicolon
id|baget_printk
c_func
(paren
l_string|&quot;&bslash;n%s: jumping to RESET code...&bslash;n&quot;
comma
id|from_fun
)paren
suffix:semicolon
(paren
op_star
(paren
id|vector
op_star
)paren
id|R3000_RESET_VEC
)paren
(paren
)paren
suffix:semicolon
)brace
multiline_comment|/* fixme: proper functionality */
DECL|function|baget_machine_restart
r_void
id|baget_machine_restart
c_func
(paren
r_char
op_star
id|command
)paren
(brace
id|baget_reboot
c_func
(paren
l_string|&quot;restart&quot;
)paren
suffix:semicolon
)brace
DECL|function|baget_machine_halt
r_void
id|baget_machine_halt
c_func
(paren
r_void
)paren
(brace
id|baget_reboot
c_func
(paren
l_string|&quot;halt&quot;
)paren
suffix:semicolon
)brace
DECL|function|baget_machine_power_off
r_void
id|baget_machine_power_off
c_func
(paren
r_void
)paren
(brace
id|baget_reboot
c_func
(paren
l_string|&quot;power off&quot;
)paren
suffix:semicolon
)brace
eof
