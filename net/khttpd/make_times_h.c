multiline_comment|/*&n;&n;This program generates the &quot;times.h&quot; file with the zulu-times of the first of&n;every month of a decade.&n;&n;*/
multiline_comment|/****************************************************************&n; *&t;This program is free software; you can redistribute it and/or modify&n; *&t;it under the terms of the GNU General Public License as published by&n; *&t;the Free Software Foundation; either version 2, or (at your option)&n; *&t;any later version.&n; *&n; *&t;This program is distributed in the hope that it will be useful,&n; *&t;but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *&t;MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *&t;GNU General Public License for more details.&n; *&n; *&t;You should have received a copy of the GNU General Public License&n; *&t;along with this program; if not, write to the Free Software&n; *&t;Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; *&n; ****************************************************************/
macro_line|#include &lt;time.h&gt;
macro_line|#include &lt;stdio.h&gt;
DECL|function|GetDay
r_static
id|time_t
id|GetDay
c_func
(paren
r_int
id|D
comma
r_int
id|M
comma
r_int
id|Y
)paren
(brace
r_struct
id|tm
id|TM
suffix:semicolon
id|TM.tm_sec
op_assign
l_int|0
suffix:semicolon
id|TM.tm_min
op_assign
l_int|0
suffix:semicolon
id|TM.tm_hour
op_assign
l_int|0
suffix:semicolon
id|TM.tm_mday
op_assign
id|D
suffix:semicolon
id|TM.tm_mon
op_assign
id|M
suffix:semicolon
id|TM.tm_wday
op_assign
l_int|0
suffix:semicolon
id|TM.tm_yday
op_assign
l_int|0
suffix:semicolon
id|TM.tm_year
op_assign
id|Y
op_minus
l_int|1900
suffix:semicolon
id|TM.tm_isdst
op_assign
l_int|0
suffix:semicolon
r_return
id|mktime
c_func
(paren
op_amp
id|TM
)paren
suffix:semicolon
)brace
DECL|function|WeekGetDay
r_static
r_int
id|WeekGetDay
c_func
(paren
r_int
id|D
comma
r_int
id|M
comma
r_int
id|Y
)paren
(brace
r_struct
id|tm
id|TM
suffix:semicolon
id|TM.tm_sec
op_assign
l_int|0
suffix:semicolon
id|TM.tm_min
op_assign
l_int|0
suffix:semicolon
id|TM.tm_hour
op_assign
l_int|0
suffix:semicolon
id|TM.tm_mday
op_assign
id|D
suffix:semicolon
id|TM.tm_mon
op_assign
id|M
suffix:semicolon
id|TM.tm_year
op_assign
id|Y
op_minus
l_int|1900
suffix:semicolon
id|TM.tm_isdst
op_assign
l_int|0
suffix:semicolon
id|TM.tm_wday
op_assign
l_int|0
suffix:semicolon
id|TM.tm_yday
op_assign
l_int|0
suffix:semicolon
(paren
r_void
)paren
id|mktime
c_func
(paren
op_amp
id|TM
)paren
suffix:semicolon
r_return
id|TM.tm_wday
suffix:semicolon
)brace
DECL|function|main
r_int
id|main
c_func
(paren
r_void
)paren
(brace
r_int
id|M
comma
id|Y
suffix:semicolon
id|FILE
op_star
id|file
suffix:semicolon
id|file
op_assign
id|fopen
c_func
(paren
l_string|&quot;times.h&quot;
comma
l_string|&quot;w&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|file
op_eq
l_int|NULL
)paren
r_return
l_int|0
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;static time_t TimeDays[10][13] = { &bslash;n&quot;
)paren
suffix:semicolon
id|Y
op_assign
l_int|1997
suffix:semicolon
r_while
c_loop
(paren
id|Y
OL
l_int|2007
)paren
(brace
id|M
op_assign
l_int|0
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot; { &quot;
)paren
suffix:semicolon
r_while
c_loop
(paren
id|M
OL
l_int|12
)paren
(brace
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;%i&quot;
comma
(paren
r_int
)paren
id|GetDay
c_func
(paren
l_int|1
comma
id|M
comma
id|Y
)paren
)paren
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;,&bslash;t&quot;
)paren
suffix:semicolon
id|M
op_increment
suffix:semicolon
)brace
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;%i } &quot;
comma
(paren
r_int
)paren
id|GetDay
c_func
(paren
l_int|1
comma
l_int|0
comma
id|Y
op_plus
l_int|1
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|Y
op_ne
l_int|2006
)paren
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;,&quot;
)paren
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|Y
op_increment
suffix:semicolon
)brace
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;};&bslash;n&quot;
)paren
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;static int WeekDays[10][13] = { &bslash;n&quot;
)paren
suffix:semicolon
id|Y
op_assign
l_int|1997
suffix:semicolon
r_while
c_loop
(paren
id|Y
OL
l_int|2007
)paren
(brace
id|M
op_assign
l_int|0
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot; { &quot;
)paren
suffix:semicolon
r_while
c_loop
(paren
id|M
OL
l_int|12
)paren
(brace
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;%i&quot;
comma
(paren
r_int
)paren
id|WeekGetDay
c_func
(paren
l_int|1
comma
id|M
comma
id|Y
)paren
)paren
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;,&bslash;t&quot;
)paren
suffix:semicolon
id|M
op_increment
suffix:semicolon
)brace
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;%i } &quot;
comma
(paren
r_int
)paren
id|WeekGetDay
c_func
(paren
l_int|1
comma
l_int|0
comma
id|Y
op_plus
l_int|1
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|Y
op_ne
l_int|2006
)paren
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;,&quot;
)paren
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|Y
op_increment
suffix:semicolon
)brace
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;};&bslash;n&quot;
)paren
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;#define KHTTPD_YEAROFFSET   1997&bslash;n&quot;
)paren
suffix:semicolon
id|fprintf
c_func
(paren
id|file
comma
l_string|&quot;#define KHTTPD_NUMYEARS     10&bslash;n&quot;
)paren
suffix:semicolon
(paren
r_void
)paren
id|fclose
c_func
(paren
id|file
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
eof
