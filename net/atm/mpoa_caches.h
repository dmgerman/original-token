macro_line|#ifndef MPOA_CACHES_H
DECL|macro|MPOA_CACHES_H
mdefine_line|#define MPOA_CACHES_H
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/atm.h&gt;
macro_line|#include &lt;linux/atmdev.h&gt;
macro_line|#include &lt;linux/atmmpc.h&gt;
r_struct
id|mpoa_client
suffix:semicolon
r_void
id|atm_mpoa_init_cache
c_func
(paren
r_struct
id|mpoa_client
op_star
id|mpc
)paren
suffix:semicolon
DECL|struct|in_cache_entry
r_typedef
r_struct
id|in_cache_entry
(brace
DECL|member|next
r_struct
id|in_cache_entry
op_star
id|next
suffix:semicolon
DECL|member|prev
r_struct
id|in_cache_entry
op_star
id|prev
suffix:semicolon
DECL|member|tv
r_struct
id|timeval
id|tv
suffix:semicolon
DECL|member|reply_wait
r_struct
id|timeval
id|reply_wait
suffix:semicolon
DECL|member|hold_down
r_struct
id|timeval
id|hold_down
suffix:semicolon
DECL|member|packets_fwded
r_uint32
id|packets_fwded
suffix:semicolon
DECL|member|entry_state
r_uint16
id|entry_state
suffix:semicolon
DECL|member|retry_time
r_uint32
id|retry_time
suffix:semicolon
DECL|member|refresh_time
r_uint32
id|refresh_time
suffix:semicolon
DECL|member|count
r_uint32
id|count
suffix:semicolon
DECL|member|shortcut
r_struct
id|atm_vcc
op_star
id|shortcut
suffix:semicolon
DECL|member|MPS_ctrl_ATM_addr
r_uint8
id|MPS_ctrl_ATM_addr
(braket
id|ATM_ESA_LEN
)braket
suffix:semicolon
DECL|member|ctrl_info
r_struct
id|in_ctrl_info
id|ctrl_info
suffix:semicolon
DECL|member|use
id|atomic_t
id|use
suffix:semicolon
DECL|typedef|in_cache_entry
)brace
id|in_cache_entry
suffix:semicolon
DECL|struct|in_cache_ops
r_struct
id|in_cache_ops
(brace
DECL|member|add_entry
id|in_cache_entry
op_star
(paren
op_star
id|add_entry
)paren
(paren
r_uint32
id|dst_ip
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|get
id|in_cache_entry
op_star
(paren
op_star
id|get
)paren
(paren
r_uint32
id|dst_ip
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|get_with_mask
id|in_cache_entry
op_star
(paren
op_star
id|get_with_mask
)paren
(paren
r_uint32
id|dst_ip
comma
r_struct
id|mpoa_client
op_star
id|client
comma
r_uint32
id|mask
)paren
suffix:semicolon
DECL|member|get_by_vcc
id|in_cache_entry
op_star
(paren
op_star
id|get_by_vcc
)paren
(paren
r_struct
id|atm_vcc
op_star
id|vcc
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|put
r_void
(paren
op_star
id|put
)paren
(paren
id|in_cache_entry
op_star
id|entry
)paren
suffix:semicolon
DECL|member|remove_entry
r_void
(paren
op_star
id|remove_entry
)paren
(paren
id|in_cache_entry
op_star
id|delEntry
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|cache_hit
r_int
(paren
op_star
id|cache_hit
)paren
(paren
id|in_cache_entry
op_star
id|entry
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|clear_count
r_void
(paren
op_star
id|clear_count
)paren
(paren
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|check_resolving
r_void
(paren
op_star
id|check_resolving
)paren
(paren
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|refresh
r_void
(paren
op_star
id|refresh
)paren
(paren
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|destroy_cache
r_void
(paren
op_star
id|destroy_cache
)paren
(paren
r_struct
id|mpoa_client
op_star
id|mpc
)paren
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|eg_cache_entry
r_typedef
r_struct
id|eg_cache_entry
(brace
DECL|member|next
r_struct
id|eg_cache_entry
op_star
id|next
suffix:semicolon
DECL|member|prev
r_struct
id|eg_cache_entry
op_star
id|prev
suffix:semicolon
DECL|member|tv
r_struct
id|timeval
id|tv
suffix:semicolon
DECL|member|MPS_ctrl_ATM_addr
r_uint8
id|MPS_ctrl_ATM_addr
(braket
id|ATM_ESA_LEN
)braket
suffix:semicolon
DECL|member|shortcut
r_struct
id|atm_vcc
op_star
id|shortcut
suffix:semicolon
DECL|member|packets_rcvd
r_uint32
id|packets_rcvd
suffix:semicolon
DECL|member|entry_state
r_uint16
id|entry_state
suffix:semicolon
DECL|member|latest_ip_addr
r_uint32
id|latest_ip_addr
suffix:semicolon
multiline_comment|/* The src IP address of the last packet */
DECL|member|ctrl_info
r_struct
id|eg_ctrl_info
id|ctrl_info
suffix:semicolon
DECL|member|use
id|atomic_t
id|use
suffix:semicolon
DECL|typedef|eg_cache_entry
)brace
id|eg_cache_entry
suffix:semicolon
DECL|struct|eg_cache_ops
r_struct
id|eg_cache_ops
(brace
DECL|member|add_entry
id|eg_cache_entry
op_star
(paren
op_star
id|add_entry
)paren
(paren
r_struct
id|k_message
op_star
id|msg
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|get_by_cache_id
id|eg_cache_entry
op_star
(paren
op_star
id|get_by_cache_id
)paren
(paren
r_uint32
id|cache_id
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|get_by_tag
id|eg_cache_entry
op_star
(paren
op_star
id|get_by_tag
)paren
(paren
r_uint32
id|cache_id
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|get_by_vcc
id|eg_cache_entry
op_star
(paren
op_star
id|get_by_vcc
)paren
(paren
r_struct
id|atm_vcc
op_star
id|vcc
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|get_by_src_ip
id|eg_cache_entry
op_star
(paren
op_star
id|get_by_src_ip
)paren
(paren
r_uint32
id|ipaddr
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|put
r_void
(paren
op_star
id|put
)paren
(paren
id|eg_cache_entry
op_star
id|entry
)paren
suffix:semicolon
DECL|member|remove_entry
r_void
(paren
op_star
id|remove_entry
)paren
(paren
id|eg_cache_entry
op_star
id|entry
comma
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|update
r_void
(paren
op_star
id|update
)paren
(paren
id|eg_cache_entry
op_star
id|entry
comma
r_uint16
id|holding_time
)paren
suffix:semicolon
DECL|member|clear_expired
r_void
(paren
op_star
id|clear_expired
)paren
(paren
r_struct
id|mpoa_client
op_star
id|client
)paren
suffix:semicolon
DECL|member|destroy_cache
r_void
(paren
op_star
id|destroy_cache
)paren
(paren
r_struct
id|mpoa_client
op_star
id|mpc
)paren
suffix:semicolon
)brace
suffix:semicolon
multiline_comment|/* Ingress cache entry states */
DECL|macro|INGRESS_REFRESHING
mdefine_line|#define INGRESS_REFRESHING 3
DECL|macro|INGRESS_RESOLVED
mdefine_line|#define INGRESS_RESOLVED   2
DECL|macro|INGRESS_RESOLVING
mdefine_line|#define INGRESS_RESOLVING  1
DECL|macro|INGRESS_INVALID
mdefine_line|#define INGRESS_INVALID    0
multiline_comment|/* VCC states */
DECL|macro|OPEN
mdefine_line|#define OPEN   1
DECL|macro|CLOSED
mdefine_line|#define CLOSED 0 
multiline_comment|/* Egress cache entry states */
DECL|macro|EGRESS_RESOLVED
mdefine_line|#define EGRESS_RESOLVED 2
DECL|macro|EGRESS_PURGE
mdefine_line|#define EGRESS_PURGE    1
DECL|macro|EGRESS_INVALID
mdefine_line|#define EGRESS_INVALID  0
macro_line|#endif
eof
