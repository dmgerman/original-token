multiline_comment|/* $Id: isdn_audio.c,v 1.21 2000/06/20 18:01:55 keil Exp $&n;&n; * Linux ISDN subsystem, audio conversion and compression (linklevel).&n; *&n; * Copyright 1994-1999 by Fritz Elfert (fritz@isdn4linux.de)&n; * DTMF code (c) 1996 by Christian Mock (cm@kukuruz.ping.at)&n; * Silence detection (c) 1998 by Armin Schindler (mac@gismo.telekom.de)&n; *&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License as published by&n; * the Free Software Foundation; either version 2, or (at your option)&n; * any later version.&n; *&n; * This program is distributed in the hope that it will be useful,&n; * but WITHOUT ANY WARRANTY; without even the implied warranty of&n; * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; * GNU General Public License for more details.&n; *&n; * You should have received a copy of the GNU General Public License&n; * along with this program; if not, write to the Free Software&n; * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; *&n; */
DECL|macro|__NO_VERSION__
mdefine_line|#define __NO_VERSION__
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/isdn.h&gt;
macro_line|#include &quot;isdn_audio.h&quot;
macro_line|#include &quot;isdn_common.h&quot;
DECL|variable|isdn_audio_revision
r_char
op_star
id|isdn_audio_revision
op_assign
l_string|&quot;$Revision: 1.21 $&quot;
suffix:semicolon
multiline_comment|/*&n; * Misc. lookup-tables.&n; */
multiline_comment|/* ulaw -&gt; signed 16-bit */
DECL|variable|isdn_audio_ulaw_to_s16
r_static
r_int
id|isdn_audio_ulaw_to_s16
(braket
)braket
op_assign
(brace
l_int|0x8284
comma
l_int|0x8684
comma
l_int|0x8a84
comma
l_int|0x8e84
comma
l_int|0x9284
comma
l_int|0x9684
comma
l_int|0x9a84
comma
l_int|0x9e84
comma
l_int|0xa284
comma
l_int|0xa684
comma
l_int|0xaa84
comma
l_int|0xae84
comma
l_int|0xb284
comma
l_int|0xb684
comma
l_int|0xba84
comma
l_int|0xbe84
comma
l_int|0xc184
comma
l_int|0xc384
comma
l_int|0xc584
comma
l_int|0xc784
comma
l_int|0xc984
comma
l_int|0xcb84
comma
l_int|0xcd84
comma
l_int|0xcf84
comma
l_int|0xd184
comma
l_int|0xd384
comma
l_int|0xd584
comma
l_int|0xd784
comma
l_int|0xd984
comma
l_int|0xdb84
comma
l_int|0xdd84
comma
l_int|0xdf84
comma
l_int|0xe104
comma
l_int|0xe204
comma
l_int|0xe304
comma
l_int|0xe404
comma
l_int|0xe504
comma
l_int|0xe604
comma
l_int|0xe704
comma
l_int|0xe804
comma
l_int|0xe904
comma
l_int|0xea04
comma
l_int|0xeb04
comma
l_int|0xec04
comma
l_int|0xed04
comma
l_int|0xee04
comma
l_int|0xef04
comma
l_int|0xf004
comma
l_int|0xf0c4
comma
l_int|0xf144
comma
l_int|0xf1c4
comma
l_int|0xf244
comma
l_int|0xf2c4
comma
l_int|0xf344
comma
l_int|0xf3c4
comma
l_int|0xf444
comma
l_int|0xf4c4
comma
l_int|0xf544
comma
l_int|0xf5c4
comma
l_int|0xf644
comma
l_int|0xf6c4
comma
l_int|0xf744
comma
l_int|0xf7c4
comma
l_int|0xf844
comma
l_int|0xf8a4
comma
l_int|0xf8e4
comma
l_int|0xf924
comma
l_int|0xf964
comma
l_int|0xf9a4
comma
l_int|0xf9e4
comma
l_int|0xfa24
comma
l_int|0xfa64
comma
l_int|0xfaa4
comma
l_int|0xfae4
comma
l_int|0xfb24
comma
l_int|0xfb64
comma
l_int|0xfba4
comma
l_int|0xfbe4
comma
l_int|0xfc24
comma
l_int|0xfc64
comma
l_int|0xfc94
comma
l_int|0xfcb4
comma
l_int|0xfcd4
comma
l_int|0xfcf4
comma
l_int|0xfd14
comma
l_int|0xfd34
comma
l_int|0xfd54
comma
l_int|0xfd74
comma
l_int|0xfd94
comma
l_int|0xfdb4
comma
l_int|0xfdd4
comma
l_int|0xfdf4
comma
l_int|0xfe14
comma
l_int|0xfe34
comma
l_int|0xfe54
comma
l_int|0xfe74
comma
l_int|0xfe8c
comma
l_int|0xfe9c
comma
l_int|0xfeac
comma
l_int|0xfebc
comma
l_int|0xfecc
comma
l_int|0xfedc
comma
l_int|0xfeec
comma
l_int|0xfefc
comma
l_int|0xff0c
comma
l_int|0xff1c
comma
l_int|0xff2c
comma
l_int|0xff3c
comma
l_int|0xff4c
comma
l_int|0xff5c
comma
l_int|0xff6c
comma
l_int|0xff7c
comma
l_int|0xff88
comma
l_int|0xff90
comma
l_int|0xff98
comma
l_int|0xffa0
comma
l_int|0xffa8
comma
l_int|0xffb0
comma
l_int|0xffb8
comma
l_int|0xffc0
comma
l_int|0xffc8
comma
l_int|0xffd0
comma
l_int|0xffd8
comma
l_int|0xffe0
comma
l_int|0xffe8
comma
l_int|0xfff0
comma
l_int|0xfff8
comma
l_int|0x0000
comma
l_int|0x7d7c
comma
l_int|0x797c
comma
l_int|0x757c
comma
l_int|0x717c
comma
l_int|0x6d7c
comma
l_int|0x697c
comma
l_int|0x657c
comma
l_int|0x617c
comma
l_int|0x5d7c
comma
l_int|0x597c
comma
l_int|0x557c
comma
l_int|0x517c
comma
l_int|0x4d7c
comma
l_int|0x497c
comma
l_int|0x457c
comma
l_int|0x417c
comma
l_int|0x3e7c
comma
l_int|0x3c7c
comma
l_int|0x3a7c
comma
l_int|0x387c
comma
l_int|0x367c
comma
l_int|0x347c
comma
l_int|0x327c
comma
l_int|0x307c
comma
l_int|0x2e7c
comma
l_int|0x2c7c
comma
l_int|0x2a7c
comma
l_int|0x287c
comma
l_int|0x267c
comma
l_int|0x247c
comma
l_int|0x227c
comma
l_int|0x207c
comma
l_int|0x1efc
comma
l_int|0x1dfc
comma
l_int|0x1cfc
comma
l_int|0x1bfc
comma
l_int|0x1afc
comma
l_int|0x19fc
comma
l_int|0x18fc
comma
l_int|0x17fc
comma
l_int|0x16fc
comma
l_int|0x15fc
comma
l_int|0x14fc
comma
l_int|0x13fc
comma
l_int|0x12fc
comma
l_int|0x11fc
comma
l_int|0x10fc
comma
l_int|0x0ffc
comma
l_int|0x0f3c
comma
l_int|0x0ebc
comma
l_int|0x0e3c
comma
l_int|0x0dbc
comma
l_int|0x0d3c
comma
l_int|0x0cbc
comma
l_int|0x0c3c
comma
l_int|0x0bbc
comma
l_int|0x0b3c
comma
l_int|0x0abc
comma
l_int|0x0a3c
comma
l_int|0x09bc
comma
l_int|0x093c
comma
l_int|0x08bc
comma
l_int|0x083c
comma
l_int|0x07bc
comma
l_int|0x075c
comma
l_int|0x071c
comma
l_int|0x06dc
comma
l_int|0x069c
comma
l_int|0x065c
comma
l_int|0x061c
comma
l_int|0x05dc
comma
l_int|0x059c
comma
l_int|0x055c
comma
l_int|0x051c
comma
l_int|0x04dc
comma
l_int|0x049c
comma
l_int|0x045c
comma
l_int|0x041c
comma
l_int|0x03dc
comma
l_int|0x039c
comma
l_int|0x036c
comma
l_int|0x034c
comma
l_int|0x032c
comma
l_int|0x030c
comma
l_int|0x02ec
comma
l_int|0x02cc
comma
l_int|0x02ac
comma
l_int|0x028c
comma
l_int|0x026c
comma
l_int|0x024c
comma
l_int|0x022c
comma
l_int|0x020c
comma
l_int|0x01ec
comma
l_int|0x01cc
comma
l_int|0x01ac
comma
l_int|0x018c
comma
l_int|0x0174
comma
l_int|0x0164
comma
l_int|0x0154
comma
l_int|0x0144
comma
l_int|0x0134
comma
l_int|0x0124
comma
l_int|0x0114
comma
l_int|0x0104
comma
l_int|0x00f4
comma
l_int|0x00e4
comma
l_int|0x00d4
comma
l_int|0x00c4
comma
l_int|0x00b4
comma
l_int|0x00a4
comma
l_int|0x0094
comma
l_int|0x0084
comma
l_int|0x0078
comma
l_int|0x0070
comma
l_int|0x0068
comma
l_int|0x0060
comma
l_int|0x0058
comma
l_int|0x0050
comma
l_int|0x0048
comma
l_int|0x0040
comma
l_int|0x0038
comma
l_int|0x0030
comma
l_int|0x0028
comma
l_int|0x0020
comma
l_int|0x0018
comma
l_int|0x0010
comma
l_int|0x0008
comma
l_int|0x0000
)brace
suffix:semicolon
multiline_comment|/* alaw -&gt; signed 16-bit */
DECL|variable|isdn_audio_alaw_to_s16
r_static
r_int
id|isdn_audio_alaw_to_s16
(braket
)braket
op_assign
(brace
l_int|0x13fc
comma
l_int|0xec04
comma
l_int|0x0144
comma
l_int|0xfebc
comma
l_int|0x517c
comma
l_int|0xae84
comma
l_int|0x051c
comma
l_int|0xfae4
comma
l_int|0x0a3c
comma
l_int|0xf5c4
comma
l_int|0x0048
comma
l_int|0xffb8
comma
l_int|0x287c
comma
l_int|0xd784
comma
l_int|0x028c
comma
l_int|0xfd74
comma
l_int|0x1bfc
comma
l_int|0xe404
comma
l_int|0x01cc
comma
l_int|0xfe34
comma
l_int|0x717c
comma
l_int|0x8e84
comma
l_int|0x071c
comma
l_int|0xf8e4
comma
l_int|0x0e3c
comma
l_int|0xf1c4
comma
l_int|0x00c4
comma
l_int|0xff3c
comma
l_int|0x387c
comma
l_int|0xc784
comma
l_int|0x039c
comma
l_int|0xfc64
comma
l_int|0x0ffc
comma
l_int|0xf004
comma
l_int|0x0104
comma
l_int|0xfefc
comma
l_int|0x417c
comma
l_int|0xbe84
comma
l_int|0x041c
comma
l_int|0xfbe4
comma
l_int|0x083c
comma
l_int|0xf7c4
comma
l_int|0x0008
comma
l_int|0xfff8
comma
l_int|0x207c
comma
l_int|0xdf84
comma
l_int|0x020c
comma
l_int|0xfdf4
comma
l_int|0x17fc
comma
l_int|0xe804
comma
l_int|0x018c
comma
l_int|0xfe74
comma
l_int|0x617c
comma
l_int|0x9e84
comma
l_int|0x061c
comma
l_int|0xf9e4
comma
l_int|0x0c3c
comma
l_int|0xf3c4
comma
l_int|0x0084
comma
l_int|0xff7c
comma
l_int|0x307c
comma
l_int|0xcf84
comma
l_int|0x030c
comma
l_int|0xfcf4
comma
l_int|0x15fc
comma
l_int|0xea04
comma
l_int|0x0164
comma
l_int|0xfe9c
comma
l_int|0x597c
comma
l_int|0xa684
comma
l_int|0x059c
comma
l_int|0xfa64
comma
l_int|0x0b3c
comma
l_int|0xf4c4
comma
l_int|0x0068
comma
l_int|0xff98
comma
l_int|0x2c7c
comma
l_int|0xd384
comma
l_int|0x02cc
comma
l_int|0xfd34
comma
l_int|0x1dfc
comma
l_int|0xe204
comma
l_int|0x01ec
comma
l_int|0xfe14
comma
l_int|0x797c
comma
l_int|0x8684
comma
l_int|0x07bc
comma
l_int|0xf844
comma
l_int|0x0f3c
comma
l_int|0xf0c4
comma
l_int|0x00e4
comma
l_int|0xff1c
comma
l_int|0x3c7c
comma
l_int|0xc384
comma
l_int|0x03dc
comma
l_int|0xfc24
comma
l_int|0x11fc
comma
l_int|0xee04
comma
l_int|0x0124
comma
l_int|0xfedc
comma
l_int|0x497c
comma
l_int|0xb684
comma
l_int|0x049c
comma
l_int|0xfb64
comma
l_int|0x093c
comma
l_int|0xf6c4
comma
l_int|0x0028
comma
l_int|0xffd8
comma
l_int|0x247c
comma
l_int|0xdb84
comma
l_int|0x024c
comma
l_int|0xfdb4
comma
l_int|0x19fc
comma
l_int|0xe604
comma
l_int|0x01ac
comma
l_int|0xfe54
comma
l_int|0x697c
comma
l_int|0x9684
comma
l_int|0x069c
comma
l_int|0xf964
comma
l_int|0x0d3c
comma
l_int|0xf2c4
comma
l_int|0x00a4
comma
l_int|0xff5c
comma
l_int|0x347c
comma
l_int|0xcb84
comma
l_int|0x034c
comma
l_int|0xfcb4
comma
l_int|0x12fc
comma
l_int|0xed04
comma
l_int|0x0134
comma
l_int|0xfecc
comma
l_int|0x4d7c
comma
l_int|0xb284
comma
l_int|0x04dc
comma
l_int|0xfb24
comma
l_int|0x09bc
comma
l_int|0xf644
comma
l_int|0x0038
comma
l_int|0xffc8
comma
l_int|0x267c
comma
l_int|0xd984
comma
l_int|0x026c
comma
l_int|0xfd94
comma
l_int|0x1afc
comma
l_int|0xe504
comma
l_int|0x01ac
comma
l_int|0xfe54
comma
l_int|0x6d7c
comma
l_int|0x9284
comma
l_int|0x06dc
comma
l_int|0xf924
comma
l_int|0x0dbc
comma
l_int|0xf244
comma
l_int|0x00b4
comma
l_int|0xff4c
comma
l_int|0x367c
comma
l_int|0xc984
comma
l_int|0x036c
comma
l_int|0xfc94
comma
l_int|0x0f3c
comma
l_int|0xf0c4
comma
l_int|0x00f4
comma
l_int|0xff0c
comma
l_int|0x3e7c
comma
l_int|0xc184
comma
l_int|0x03dc
comma
l_int|0xfc24
comma
l_int|0x07bc
comma
l_int|0xf844
comma
l_int|0x0008
comma
l_int|0xfff8
comma
l_int|0x1efc
comma
l_int|0xe104
comma
l_int|0x01ec
comma
l_int|0xfe14
comma
l_int|0x16fc
comma
l_int|0xe904
comma
l_int|0x0174
comma
l_int|0xfe8c
comma
l_int|0x5d7c
comma
l_int|0xa284
comma
l_int|0x05dc
comma
l_int|0xfa24
comma
l_int|0x0bbc
comma
l_int|0xf444
comma
l_int|0x0078
comma
l_int|0xff88
comma
l_int|0x2e7c
comma
l_int|0xd184
comma
l_int|0x02ec
comma
l_int|0xfd14
comma
l_int|0x14fc
comma
l_int|0xeb04
comma
l_int|0x0154
comma
l_int|0xfeac
comma
l_int|0x557c
comma
l_int|0xaa84
comma
l_int|0x055c
comma
l_int|0xfaa4
comma
l_int|0x0abc
comma
l_int|0xf544
comma
l_int|0x0058
comma
l_int|0xffa8
comma
l_int|0x2a7c
comma
l_int|0xd584
comma
l_int|0x02ac
comma
l_int|0xfd54
comma
l_int|0x1cfc
comma
l_int|0xe304
comma
l_int|0x01cc
comma
l_int|0xfe34
comma
l_int|0x757c
comma
l_int|0x8a84
comma
l_int|0x075c
comma
l_int|0xf8a4
comma
l_int|0x0ebc
comma
l_int|0xf144
comma
l_int|0x00d4
comma
l_int|0xff2c
comma
l_int|0x3a7c
comma
l_int|0xc584
comma
l_int|0x039c
comma
l_int|0xfc64
comma
l_int|0x10fc
comma
l_int|0xef04
comma
l_int|0x0114
comma
l_int|0xfeec
comma
l_int|0x457c
comma
l_int|0xba84
comma
l_int|0x045c
comma
l_int|0xfba4
comma
l_int|0x08bc
comma
l_int|0xf744
comma
l_int|0x0018
comma
l_int|0xffe8
comma
l_int|0x227c
comma
l_int|0xdd84
comma
l_int|0x022c
comma
l_int|0xfdd4
comma
l_int|0x18fc
comma
l_int|0xe704
comma
l_int|0x018c
comma
l_int|0xfe74
comma
l_int|0x657c
comma
l_int|0x9a84
comma
l_int|0x065c
comma
l_int|0xf9a4
comma
l_int|0x0cbc
comma
l_int|0xf344
comma
l_int|0x0094
comma
l_int|0xff6c
comma
l_int|0x327c
comma
l_int|0xcd84
comma
l_int|0x032c
comma
l_int|0xfcd4
)brace
suffix:semicolon
multiline_comment|/* alaw -&gt; ulaw */
DECL|variable|isdn_audio_alaw_to_ulaw
r_static
r_char
id|isdn_audio_alaw_to_ulaw
(braket
)braket
op_assign
(brace
l_int|0xab
comma
l_int|0x2b
comma
l_int|0xe3
comma
l_int|0x63
comma
l_int|0x8b
comma
l_int|0x0b
comma
l_int|0xc9
comma
l_int|0x49
comma
l_int|0xba
comma
l_int|0x3a
comma
l_int|0xf6
comma
l_int|0x76
comma
l_int|0x9b
comma
l_int|0x1b
comma
l_int|0xd7
comma
l_int|0x57
comma
l_int|0xa3
comma
l_int|0x23
comma
l_int|0xdd
comma
l_int|0x5d
comma
l_int|0x83
comma
l_int|0x03
comma
l_int|0xc1
comma
l_int|0x41
comma
l_int|0xb2
comma
l_int|0x32
comma
l_int|0xeb
comma
l_int|0x6b
comma
l_int|0x93
comma
l_int|0x13
comma
l_int|0xcf
comma
l_int|0x4f
comma
l_int|0xaf
comma
l_int|0x2f
comma
l_int|0xe7
comma
l_int|0x67
comma
l_int|0x8f
comma
l_int|0x0f
comma
l_int|0xcd
comma
l_int|0x4d
comma
l_int|0xbe
comma
l_int|0x3e
comma
l_int|0xfe
comma
l_int|0x7e
comma
l_int|0x9f
comma
l_int|0x1f
comma
l_int|0xdb
comma
l_int|0x5b
comma
l_int|0xa7
comma
l_int|0x27
comma
l_int|0xdf
comma
l_int|0x5f
comma
l_int|0x87
comma
l_int|0x07
comma
l_int|0xc5
comma
l_int|0x45
comma
l_int|0xb6
comma
l_int|0x36
comma
l_int|0xef
comma
l_int|0x6f
comma
l_int|0x97
comma
l_int|0x17
comma
l_int|0xd3
comma
l_int|0x53
comma
l_int|0xa9
comma
l_int|0x29
comma
l_int|0xe1
comma
l_int|0x61
comma
l_int|0x89
comma
l_int|0x09
comma
l_int|0xc7
comma
l_int|0x47
comma
l_int|0xb8
comma
l_int|0x38
comma
l_int|0xf2
comma
l_int|0x72
comma
l_int|0x99
comma
l_int|0x19
comma
l_int|0xd5
comma
l_int|0x55
comma
l_int|0xa1
comma
l_int|0x21
comma
l_int|0xdc
comma
l_int|0x5c
comma
l_int|0x81
comma
l_int|0x01
comma
l_int|0xbf
comma
l_int|0x3f
comma
l_int|0xb0
comma
l_int|0x30
comma
l_int|0xe9
comma
l_int|0x69
comma
l_int|0x91
comma
l_int|0x11
comma
l_int|0xce
comma
l_int|0x4e
comma
l_int|0xad
comma
l_int|0x2d
comma
l_int|0xe5
comma
l_int|0x65
comma
l_int|0x8d
comma
l_int|0x0d
comma
l_int|0xcb
comma
l_int|0x4b
comma
l_int|0xbc
comma
l_int|0x3c
comma
l_int|0xfa
comma
l_int|0x7a
comma
l_int|0x9d
comma
l_int|0x1d
comma
l_int|0xd9
comma
l_int|0x59
comma
l_int|0xa5
comma
l_int|0x25
comma
l_int|0xde
comma
l_int|0x5e
comma
l_int|0x85
comma
l_int|0x05
comma
l_int|0xc3
comma
l_int|0x43
comma
l_int|0xb4
comma
l_int|0x34
comma
l_int|0xed
comma
l_int|0x6d
comma
l_int|0x95
comma
l_int|0x15
comma
l_int|0xd1
comma
l_int|0x51
comma
l_int|0xac
comma
l_int|0x2c
comma
l_int|0xe4
comma
l_int|0x64
comma
l_int|0x8c
comma
l_int|0x0c
comma
l_int|0xca
comma
l_int|0x4a
comma
l_int|0xbb
comma
l_int|0x3b
comma
l_int|0xf8
comma
l_int|0x78
comma
l_int|0x9c
comma
l_int|0x1c
comma
l_int|0xd8
comma
l_int|0x58
comma
l_int|0xa4
comma
l_int|0x24
comma
l_int|0xde
comma
l_int|0x5e
comma
l_int|0x84
comma
l_int|0x04
comma
l_int|0xc2
comma
l_int|0x42
comma
l_int|0xb3
comma
l_int|0x33
comma
l_int|0xec
comma
l_int|0x6c
comma
l_int|0x94
comma
l_int|0x14
comma
l_int|0xd0
comma
l_int|0x50
comma
l_int|0xb0
comma
l_int|0x30
comma
l_int|0xe8
comma
l_int|0x68
comma
l_int|0x90
comma
l_int|0x10
comma
l_int|0xce
comma
l_int|0x4e
comma
l_int|0xbf
comma
l_int|0x3f
comma
l_int|0xfe
comma
l_int|0x7e
comma
l_int|0xa0
comma
l_int|0x20
comma
l_int|0xdc
comma
l_int|0x5c
comma
l_int|0xa8
comma
l_int|0x28
comma
l_int|0xe0
comma
l_int|0x60
comma
l_int|0x88
comma
l_int|0x08
comma
l_int|0xc6
comma
l_int|0x46
comma
l_int|0xb7
comma
l_int|0x37
comma
l_int|0xf0
comma
l_int|0x70
comma
l_int|0x98
comma
l_int|0x18
comma
l_int|0xd4
comma
l_int|0x54
comma
l_int|0xaa
comma
l_int|0x2a
comma
l_int|0xe2
comma
l_int|0x62
comma
l_int|0x8a
comma
l_int|0x0a
comma
l_int|0xc8
comma
l_int|0x48
comma
l_int|0xb9
comma
l_int|0x39
comma
l_int|0xf4
comma
l_int|0x74
comma
l_int|0x9a
comma
l_int|0x1a
comma
l_int|0xd6
comma
l_int|0x56
comma
l_int|0xa2
comma
l_int|0x22
comma
l_int|0xdd
comma
l_int|0x5d
comma
l_int|0x82
comma
l_int|0x02
comma
l_int|0xc0
comma
l_int|0x40
comma
l_int|0xb1
comma
l_int|0x31
comma
l_int|0xea
comma
l_int|0x6a
comma
l_int|0x92
comma
l_int|0x12
comma
l_int|0xcf
comma
l_int|0x4f
comma
l_int|0xae
comma
l_int|0x2e
comma
l_int|0xe6
comma
l_int|0x66
comma
l_int|0x8e
comma
l_int|0x0e
comma
l_int|0xcc
comma
l_int|0x4c
comma
l_int|0xbd
comma
l_int|0x3d
comma
l_int|0xfc
comma
l_int|0x7c
comma
l_int|0x9e
comma
l_int|0x1e
comma
l_int|0xda
comma
l_int|0x5a
comma
l_int|0xa6
comma
l_int|0x26
comma
l_int|0xdf
comma
l_int|0x5f
comma
l_int|0x86
comma
l_int|0x06
comma
l_int|0xc4
comma
l_int|0x44
comma
l_int|0xb5
comma
l_int|0x35
comma
l_int|0xee
comma
l_int|0x6e
comma
l_int|0x96
comma
l_int|0x16
comma
l_int|0xd2
comma
l_int|0x52
)brace
suffix:semicolon
multiline_comment|/* ulaw -&gt; alaw */
DECL|variable|isdn_audio_ulaw_to_alaw
r_static
r_char
id|isdn_audio_ulaw_to_alaw
(braket
)braket
op_assign
(brace
l_int|0xab
comma
l_int|0x55
comma
l_int|0xd5
comma
l_int|0x15
comma
l_int|0x95
comma
l_int|0x75
comma
l_int|0xf5
comma
l_int|0x35
comma
l_int|0xb5
comma
l_int|0x45
comma
l_int|0xc5
comma
l_int|0x05
comma
l_int|0x85
comma
l_int|0x65
comma
l_int|0xe5
comma
l_int|0x25
comma
l_int|0xa5
comma
l_int|0x5d
comma
l_int|0xdd
comma
l_int|0x1d
comma
l_int|0x9d
comma
l_int|0x7d
comma
l_int|0xfd
comma
l_int|0x3d
comma
l_int|0xbd
comma
l_int|0x4d
comma
l_int|0xcd
comma
l_int|0x0d
comma
l_int|0x8d
comma
l_int|0x6d
comma
l_int|0xed
comma
l_int|0x2d
comma
l_int|0xad
comma
l_int|0x51
comma
l_int|0xd1
comma
l_int|0x11
comma
l_int|0x91
comma
l_int|0x71
comma
l_int|0xf1
comma
l_int|0x31
comma
l_int|0xb1
comma
l_int|0x41
comma
l_int|0xc1
comma
l_int|0x01
comma
l_int|0x81
comma
l_int|0x61
comma
l_int|0xe1
comma
l_int|0x21
comma
l_int|0x59
comma
l_int|0xd9
comma
l_int|0x19
comma
l_int|0x99
comma
l_int|0x79
comma
l_int|0xf9
comma
l_int|0x39
comma
l_int|0xb9
comma
l_int|0x49
comma
l_int|0xc9
comma
l_int|0x09
comma
l_int|0x89
comma
l_int|0x69
comma
l_int|0xe9
comma
l_int|0x29
comma
l_int|0xa9
comma
l_int|0xd7
comma
l_int|0x17
comma
l_int|0x97
comma
l_int|0x77
comma
l_int|0xf7
comma
l_int|0x37
comma
l_int|0xb7
comma
l_int|0x47
comma
l_int|0xc7
comma
l_int|0x07
comma
l_int|0x87
comma
l_int|0x67
comma
l_int|0xe7
comma
l_int|0x27
comma
l_int|0xa7
comma
l_int|0xdf
comma
l_int|0x9f
comma
l_int|0x7f
comma
l_int|0xff
comma
l_int|0x3f
comma
l_int|0xbf
comma
l_int|0x4f
comma
l_int|0xcf
comma
l_int|0x0f
comma
l_int|0x8f
comma
l_int|0x6f
comma
l_int|0xef
comma
l_int|0x2f
comma
l_int|0x53
comma
l_int|0x13
comma
l_int|0x73
comma
l_int|0x33
comma
l_int|0xb3
comma
l_int|0x43
comma
l_int|0xc3
comma
l_int|0x03
comma
l_int|0x83
comma
l_int|0x63
comma
l_int|0xe3
comma
l_int|0x23
comma
l_int|0xa3
comma
l_int|0x5b
comma
l_int|0xdb
comma
l_int|0x1b
comma
l_int|0x9b
comma
l_int|0x7b
comma
l_int|0xfb
comma
l_int|0x3b
comma
l_int|0xbb
comma
l_int|0xbb
comma
l_int|0x4b
comma
l_int|0x4b
comma
l_int|0xcb
comma
l_int|0xcb
comma
l_int|0x0b
comma
l_int|0x0b
comma
l_int|0x8b
comma
l_int|0x8b
comma
l_int|0x6b
comma
l_int|0x6b
comma
l_int|0xeb
comma
l_int|0xeb
comma
l_int|0x2b
comma
l_int|0x2b
comma
l_int|0xab
comma
l_int|0x54
comma
l_int|0xd4
comma
l_int|0x14
comma
l_int|0x94
comma
l_int|0x74
comma
l_int|0xf4
comma
l_int|0x34
comma
l_int|0xb4
comma
l_int|0x44
comma
l_int|0xc4
comma
l_int|0x04
comma
l_int|0x84
comma
l_int|0x64
comma
l_int|0xe4
comma
l_int|0x24
comma
l_int|0xa4
comma
l_int|0x5c
comma
l_int|0xdc
comma
l_int|0x1c
comma
l_int|0x9c
comma
l_int|0x7c
comma
l_int|0xfc
comma
l_int|0x3c
comma
l_int|0xbc
comma
l_int|0x4c
comma
l_int|0xcc
comma
l_int|0x0c
comma
l_int|0x8c
comma
l_int|0x6c
comma
l_int|0xec
comma
l_int|0x2c
comma
l_int|0xac
comma
l_int|0x50
comma
l_int|0xd0
comma
l_int|0x10
comma
l_int|0x90
comma
l_int|0x70
comma
l_int|0xf0
comma
l_int|0x30
comma
l_int|0xb0
comma
l_int|0x40
comma
l_int|0xc0
comma
l_int|0x00
comma
l_int|0x80
comma
l_int|0x60
comma
l_int|0xe0
comma
l_int|0x20
comma
l_int|0x58
comma
l_int|0xd8
comma
l_int|0x18
comma
l_int|0x98
comma
l_int|0x78
comma
l_int|0xf8
comma
l_int|0x38
comma
l_int|0xb8
comma
l_int|0x48
comma
l_int|0xc8
comma
l_int|0x08
comma
l_int|0x88
comma
l_int|0x68
comma
l_int|0xe8
comma
l_int|0x28
comma
l_int|0xa8
comma
l_int|0xd6
comma
l_int|0x16
comma
l_int|0x96
comma
l_int|0x76
comma
l_int|0xf6
comma
l_int|0x36
comma
l_int|0xb6
comma
l_int|0x46
comma
l_int|0xc6
comma
l_int|0x06
comma
l_int|0x86
comma
l_int|0x66
comma
l_int|0xe6
comma
l_int|0x26
comma
l_int|0xa6
comma
l_int|0xde
comma
l_int|0x9e
comma
l_int|0x7e
comma
l_int|0xfe
comma
l_int|0x3e
comma
l_int|0xbe
comma
l_int|0x4e
comma
l_int|0xce
comma
l_int|0x0e
comma
l_int|0x8e
comma
l_int|0x6e
comma
l_int|0xee
comma
l_int|0x2e
comma
l_int|0x52
comma
l_int|0x12
comma
l_int|0x72
comma
l_int|0x32
comma
l_int|0xb2
comma
l_int|0x42
comma
l_int|0xc2
comma
l_int|0x02
comma
l_int|0x82
comma
l_int|0x62
comma
l_int|0xe2
comma
l_int|0x22
comma
l_int|0xa2
comma
l_int|0x5a
comma
l_int|0xda
comma
l_int|0x1a
comma
l_int|0x9a
comma
l_int|0x7a
comma
l_int|0xfa
comma
l_int|0x3a
comma
l_int|0xba
comma
l_int|0xba
comma
l_int|0x4a
comma
l_int|0x4a
comma
l_int|0xca
comma
l_int|0xca
comma
l_int|0x0a
comma
l_int|0x0a
comma
l_int|0x8a
comma
l_int|0x8a
comma
l_int|0x6a
comma
l_int|0x6a
comma
l_int|0xea
comma
l_int|0xea
comma
l_int|0x2a
comma
l_int|0x2a
)brace
suffix:semicolon
DECL|macro|NCOEFF
mdefine_line|#define NCOEFF           16     /* number of frequencies to be analyzed       */
DECL|macro|DTMF_TRESH
mdefine_line|#define DTMF_TRESH    25000     /* above this is dtmf                         */
DECL|macro|SILENCE_TRESH
mdefine_line|#define SILENCE_TRESH   200     /* below this is silence                      */
DECL|macro|H2_TRESH
mdefine_line|#define H2_TRESH      20000     /* 2nd harmonic                               */
DECL|macro|AMP_BITS
mdefine_line|#define AMP_BITS          9     /* bits per sample, reduced to avoid overflow */
DECL|macro|LOGRP
mdefine_line|#define LOGRP             0
DECL|macro|HIGRP
mdefine_line|#define HIGRP             1
r_typedef
r_struct
(brace
DECL|member|grp
r_int
id|grp
suffix:semicolon
multiline_comment|/* low/high group     */
DECL|member|k
r_int
id|k
suffix:semicolon
multiline_comment|/* k                  */
DECL|member|k2
r_int
id|k2
suffix:semicolon
multiline_comment|/* k fuer 2. harmonic */
DECL|typedef|dtmf_t
)brace
id|dtmf_t
suffix:semicolon
multiline_comment|/* For DTMF recognition:&n; * 2 * cos(2 * PI * k / N) precalculated for all k&n; */
DECL|variable|cos2pik
r_static
r_int
id|cos2pik
(braket
id|NCOEFF
)braket
op_assign
(brace
l_int|55812
comma
l_int|29528
comma
l_int|53603
comma
l_int|24032
comma
l_int|51193
comma
l_int|14443
comma
l_int|48590
comma
l_int|6517
comma
l_int|38113
comma
op_minus
l_int|21204
comma
l_int|33057
comma
op_minus
l_int|32186
comma
l_int|25889
comma
op_minus
l_int|45081
comma
l_int|18332
comma
op_minus
l_int|55279
)brace
suffix:semicolon
DECL|variable|dtmf_tones
r_static
id|dtmf_t
id|dtmf_tones
(braket
l_int|8
)braket
op_assign
(brace
(brace
id|LOGRP
comma
l_int|0
comma
l_int|1
)brace
comma
multiline_comment|/*  697 Hz */
(brace
id|LOGRP
comma
l_int|2
comma
l_int|3
)brace
comma
multiline_comment|/*  770 Hz */
(brace
id|LOGRP
comma
l_int|4
comma
l_int|5
)brace
comma
multiline_comment|/*  852 Hz */
(brace
id|LOGRP
comma
l_int|6
comma
l_int|7
)brace
comma
multiline_comment|/*  941 Hz */
(brace
id|HIGRP
comma
l_int|8
comma
l_int|9
)brace
comma
multiline_comment|/* 1209 Hz */
(brace
id|HIGRP
comma
l_int|10
comma
l_int|11
)brace
comma
multiline_comment|/* 1336 Hz */
(brace
id|HIGRP
comma
l_int|12
comma
l_int|13
)brace
comma
multiline_comment|/* 1477 Hz */
(brace
id|HIGRP
comma
l_int|14
comma
l_int|15
)brace
multiline_comment|/* 1633 Hz */
)brace
suffix:semicolon
DECL|variable|dtmf_matrix
r_static
r_char
id|dtmf_matrix
(braket
l_int|4
)braket
(braket
l_int|4
)braket
op_assign
(brace
(brace
l_char|&squot;1&squot;
comma
l_char|&squot;2&squot;
comma
l_char|&squot;3&squot;
comma
l_char|&squot;A&squot;
)brace
comma
(brace
l_char|&squot;4&squot;
comma
l_char|&squot;5&squot;
comma
l_char|&squot;6&squot;
comma
l_char|&squot;B&squot;
)brace
comma
(brace
l_char|&squot;7&squot;
comma
l_char|&squot;8&squot;
comma
l_char|&squot;9&squot;
comma
l_char|&squot;C&squot;
)brace
comma
(brace
l_char|&squot;*&squot;
comma
l_char|&squot;0&squot;
comma
l_char|&squot;#&squot;
comma
l_char|&squot;D&squot;
)brace
)brace
suffix:semicolon
r_static
r_inline
r_void
DECL|function|isdn_audio_tlookup
id|isdn_audio_tlookup
c_func
(paren
r_const
id|u_char
op_star
id|table
comma
id|u_char
op_star
id|buff
comma
r_int
r_int
id|n
)paren
(brace
macro_line|#ifdef __i386__
r_int
r_int
id|d0
comma
id|d1
comma
id|d2
comma
id|d3
suffix:semicolon
id|__asm__
id|__volatile__
c_func
(paren
l_string|&quot;cld&bslash;n&quot;
l_string|&quot;1:&bslash;tlodsb&bslash;n&bslash;t&quot;
l_string|&quot;xlatb&bslash;n&bslash;t&quot;
l_string|&quot;stosb&bslash;n&bslash;t&quot;
l_string|&quot;loop 1b&bslash;n&bslash;t&quot;
suffix:colon
l_string|&quot;=&amp;b&quot;
(paren
id|d0
)paren
comma
l_string|&quot;=&amp;c&quot;
(paren
id|d1
)paren
comma
l_string|&quot;=&amp;D&quot;
(paren
id|d2
)paren
comma
l_string|&quot;=&amp;S&quot;
(paren
id|d3
)paren
suffix:colon
l_string|&quot;0&quot;
(paren
(paren
r_int
)paren
id|table
)paren
comma
l_string|&quot;1&quot;
(paren
id|n
)paren
comma
l_string|&quot;2&quot;
(paren
(paren
r_int
)paren
id|buff
)paren
comma
l_string|&quot;3&quot;
(paren
(paren
r_int
)paren
id|buff
)paren
suffix:colon
l_string|&quot;memory&quot;
comma
l_string|&quot;ax&quot;
)paren
suffix:semicolon
macro_line|#else
r_while
c_loop
(paren
id|n
op_decrement
)paren
op_star
id|buff
op_increment
op_assign
id|table
(braket
op_star
(paren
r_int
r_char
op_star
)paren
id|buff
)braket
suffix:semicolon
macro_line|#endif
)brace
r_void
DECL|function|isdn_audio_ulaw2alaw
id|isdn_audio_ulaw2alaw
c_func
(paren
r_int
r_char
op_star
id|buff
comma
r_int
r_int
id|len
)paren
(brace
id|isdn_audio_tlookup
c_func
(paren
id|isdn_audio_ulaw_to_alaw
comma
id|buff
comma
id|len
)paren
suffix:semicolon
)brace
r_void
DECL|function|isdn_audio_alaw2ulaw
id|isdn_audio_alaw2ulaw
c_func
(paren
r_int
r_char
op_star
id|buff
comma
r_int
r_int
id|len
)paren
(brace
id|isdn_audio_tlookup
c_func
(paren
id|isdn_audio_alaw_to_ulaw
comma
id|buff
comma
id|len
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * linear &lt;-&gt; adpcm conversion stuff&n; * Most parts from the mgetty-package.&n; * (C) by Gert Doering and Klaus Weidner&n; * Used by permission of Gert Doering&n; */
DECL|macro|ZEROTRAP
mdefine_line|#define ZEROTRAP                /* turn on the trap as per the MIL-STD */
DECL|macro|ZEROTRAP
macro_line|#undef ZEROTRAP
DECL|macro|BIAS
mdefine_line|#define BIAS 0x84               /* define the add-in bias for 16 bit samples */
DECL|macro|CLIP
mdefine_line|#define CLIP 32635
r_static
r_int
r_char
DECL|function|isdn_audio_linear2ulaw
id|isdn_audio_linear2ulaw
c_func
(paren
r_int
id|sample
)paren
(brace
r_static
r_int
id|exp_lut
(braket
l_int|256
)braket
op_assign
(brace
l_int|0
comma
l_int|0
comma
l_int|1
comma
l_int|1
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|2
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|3
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|4
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|5
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|6
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
comma
l_int|7
)brace
suffix:semicolon
r_int
id|sign
comma
id|exponent
comma
id|mantissa
suffix:semicolon
r_int
r_char
id|ulawbyte
suffix:semicolon
multiline_comment|/* Get the sample into sign-magnitude. */
id|sign
op_assign
(paren
id|sample
op_rshift
l_int|8
)paren
op_amp
l_int|0x80
suffix:semicolon
multiline_comment|/* set aside the sign  */
r_if
c_cond
(paren
id|sign
op_ne
l_int|0
)paren
id|sample
op_assign
op_minus
id|sample
suffix:semicolon
multiline_comment|/* get magnitude       */
r_if
c_cond
(paren
id|sample
OG
id|CLIP
)paren
id|sample
op_assign
id|CLIP
suffix:semicolon
multiline_comment|/* clip the magnitude  */
multiline_comment|/* Convert from 16 bit linear to ulaw. */
id|sample
op_assign
id|sample
op_plus
id|BIAS
suffix:semicolon
id|exponent
op_assign
id|exp_lut
(braket
(paren
id|sample
op_rshift
l_int|7
)paren
op_amp
l_int|0xFF
)braket
suffix:semicolon
id|mantissa
op_assign
(paren
id|sample
op_rshift
(paren
id|exponent
op_plus
l_int|3
)paren
)paren
op_amp
l_int|0x0F
suffix:semicolon
id|ulawbyte
op_assign
op_complement
(paren
id|sign
op_or
(paren
id|exponent
op_lshift
l_int|4
)paren
op_or
id|mantissa
)paren
suffix:semicolon
macro_line|#ifdef ZEROTRAP
multiline_comment|/* optional CCITT trap */
r_if
c_cond
(paren
id|ulawbyte
op_eq
l_int|0
)paren
id|ulawbyte
op_assign
l_int|0x02
suffix:semicolon
macro_line|#endif
r_return
(paren
id|ulawbyte
)paren
suffix:semicolon
)brace
DECL|variable|Mx
r_static
r_int
id|Mx
(braket
l_int|3
)braket
(braket
l_int|8
)braket
op_assign
(brace
(brace
l_int|0x3800
comma
l_int|0x5600
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
(brace
l_int|0x399a
comma
l_int|0x3a9f
comma
l_int|0x4d14
comma
l_int|0x6607
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
)brace
comma
(brace
l_int|0x3556
comma
l_int|0x3556
comma
l_int|0x399A
comma
l_int|0x3A9F
comma
l_int|0x4200
comma
l_int|0x4D14
comma
l_int|0x6607
comma
l_int|0x6607
)brace
comma
)brace
suffix:semicolon
DECL|variable|bitmask
r_static
r_int
id|bitmask
(braket
l_int|9
)braket
op_assign
(brace
l_int|0
comma
l_int|0x01
comma
l_int|0x03
comma
l_int|0x07
comma
l_int|0x0f
comma
l_int|0x1f
comma
l_int|0x3f
comma
l_int|0x7f
comma
l_int|0xff
)brace
suffix:semicolon
r_static
r_int
DECL|function|isdn_audio_get_bits
id|isdn_audio_get_bits
c_func
(paren
id|adpcm_state
op_star
id|s
comma
r_int
r_char
op_star
op_star
id|in
comma
r_int
op_star
id|len
)paren
(brace
r_while
c_loop
(paren
id|s-&gt;nleft
OL
id|s-&gt;nbits
)paren
(brace
r_int
id|d
op_assign
op_star
(paren
(paren
op_star
id|in
)paren
op_increment
)paren
suffix:semicolon
(paren
op_star
id|len
)paren
op_decrement
suffix:semicolon
id|s-&gt;word
op_assign
(paren
id|s-&gt;word
op_lshift
l_int|8
)paren
op_or
id|d
suffix:semicolon
id|s-&gt;nleft
op_add_assign
l_int|8
suffix:semicolon
)brace
id|s-&gt;nleft
op_sub_assign
id|s-&gt;nbits
suffix:semicolon
r_return
(paren
id|s-&gt;word
op_rshift
id|s-&gt;nleft
)paren
op_amp
id|bitmask
(braket
id|s-&gt;nbits
)braket
suffix:semicolon
)brace
r_static
r_void
DECL|function|isdn_audio_put_bits
id|isdn_audio_put_bits
c_func
(paren
r_int
id|data
comma
r_int
id|nbits
comma
id|adpcm_state
op_star
id|s
comma
r_int
r_char
op_star
op_star
id|out
comma
r_int
op_star
id|len
)paren
(brace
id|s-&gt;word
op_assign
(paren
id|s-&gt;word
op_lshift
id|nbits
)paren
op_or
(paren
id|data
op_amp
id|bitmask
(braket
id|nbits
)braket
)paren
suffix:semicolon
id|s-&gt;nleft
op_add_assign
id|nbits
suffix:semicolon
r_while
c_loop
(paren
id|s-&gt;nleft
op_ge
l_int|8
)paren
(brace
r_int
id|d
op_assign
(paren
id|s-&gt;word
op_rshift
(paren
id|s-&gt;nleft
op_minus
l_int|8
)paren
)paren
suffix:semicolon
op_star
(paren
id|out
(braket
l_int|0
)braket
op_increment
)paren
op_assign
id|d
op_amp
l_int|255
suffix:semicolon
(paren
op_star
id|len
)paren
op_increment
suffix:semicolon
id|s-&gt;nleft
op_sub_assign
l_int|8
suffix:semicolon
)brace
)brace
id|adpcm_state
op_star
DECL|function|isdn_audio_adpcm_init
id|isdn_audio_adpcm_init
c_func
(paren
id|adpcm_state
op_star
id|s
comma
r_int
id|nbits
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|s
)paren
id|s
op_assign
(paren
id|adpcm_state
op_star
)paren
id|kmalloc
c_func
(paren
r_sizeof
(paren
id|adpcm_state
)paren
comma
id|GFP_ATOMIC
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s
)paren
(brace
id|s-&gt;a
op_assign
l_int|0
suffix:semicolon
id|s-&gt;d
op_assign
l_int|5
suffix:semicolon
id|s-&gt;word
op_assign
l_int|0
suffix:semicolon
id|s-&gt;nleft
op_assign
l_int|0
suffix:semicolon
id|s-&gt;nbits
op_assign
id|nbits
suffix:semicolon
)brace
r_return
id|s
suffix:semicolon
)brace
id|dtmf_state
op_star
DECL|function|isdn_audio_dtmf_init
id|isdn_audio_dtmf_init
c_func
(paren
id|dtmf_state
op_star
id|s
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|s
)paren
id|s
op_assign
(paren
id|dtmf_state
op_star
)paren
id|kmalloc
c_func
(paren
r_sizeof
(paren
id|dtmf_state
)paren
comma
id|GFP_ATOMIC
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s
)paren
(brace
id|s-&gt;idx
op_assign
l_int|0
suffix:semicolon
id|s-&gt;last
op_assign
l_char|&squot; &squot;
suffix:semicolon
)brace
r_return
id|s
suffix:semicolon
)brace
multiline_comment|/*&n; * Decompression of adpcm data to a/u-law&n; *&n; */
r_int
DECL|function|isdn_audio_adpcm2xlaw
id|isdn_audio_adpcm2xlaw
c_func
(paren
id|adpcm_state
op_star
id|s
comma
r_int
id|fmt
comma
r_int
r_char
op_star
id|in
comma
r_int
r_char
op_star
id|out
comma
r_int
id|len
)paren
(brace
r_int
id|a
op_assign
id|s-&gt;a
suffix:semicolon
r_int
id|d
op_assign
id|s-&gt;d
suffix:semicolon
r_int
id|nbits
op_assign
id|s-&gt;nbits
suffix:semicolon
r_int
id|olen
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|len
)paren
(brace
r_int
id|e
op_assign
id|isdn_audio_get_bits
c_func
(paren
id|s
comma
op_amp
id|in
comma
op_amp
id|len
)paren
suffix:semicolon
r_int
id|sign
suffix:semicolon
r_if
c_cond
(paren
id|nbits
op_eq
l_int|4
op_logical_and
id|e
op_eq
l_int|0
)paren
id|d
op_assign
l_int|4
suffix:semicolon
id|sign
op_assign
(paren
id|e
op_rshift
(paren
id|nbits
op_minus
l_int|1
)paren
)paren
ques
c_cond
op_minus
l_int|1
suffix:colon
l_int|1
suffix:semicolon
id|e
op_and_assign
id|bitmask
(braket
id|nbits
op_minus
l_int|1
)braket
suffix:semicolon
id|a
op_add_assign
id|sign
op_star
(paren
(paren
id|e
op_lshift
l_int|1
)paren
op_plus
l_int|1
)paren
op_star
id|d
op_rshift
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|d
op_amp
l_int|1
)paren
id|a
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|fmt
)paren
op_star
id|out
op_increment
op_assign
id|isdn_audio_ulaw_to_alaw
(braket
id|isdn_audio_linear2ulaw
c_func
(paren
id|a
op_lshift
l_int|2
)paren
)braket
suffix:semicolon
r_else
op_star
id|out
op_increment
op_assign
id|isdn_audio_linear2ulaw
c_func
(paren
id|a
op_lshift
l_int|2
)paren
suffix:semicolon
id|olen
op_increment
suffix:semicolon
id|d
op_assign
(paren
id|d
op_star
id|Mx
(braket
id|nbits
op_minus
l_int|2
)braket
(braket
id|e
)braket
op_plus
l_int|0x2000
)paren
op_rshift
l_int|14
suffix:semicolon
r_if
c_cond
(paren
id|d
OL
l_int|5
)paren
id|d
op_assign
l_int|5
suffix:semicolon
)brace
id|s-&gt;a
op_assign
id|a
suffix:semicolon
id|s-&gt;d
op_assign
id|d
suffix:semicolon
r_return
id|olen
suffix:semicolon
)brace
r_int
DECL|function|isdn_audio_2adpcm_flush
id|isdn_audio_2adpcm_flush
c_func
(paren
id|adpcm_state
op_star
id|s
comma
r_int
r_char
op_star
id|out
)paren
(brace
r_int
id|olen
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;nleft
)paren
id|isdn_audio_put_bits
c_func
(paren
l_int|0
comma
l_int|8
op_minus
id|s-&gt;nleft
comma
id|s
comma
op_amp
id|out
comma
op_amp
id|olen
)paren
suffix:semicolon
r_return
id|olen
suffix:semicolon
)brace
r_int
DECL|function|isdn_audio_xlaw2adpcm
id|isdn_audio_xlaw2adpcm
c_func
(paren
id|adpcm_state
op_star
id|s
comma
r_int
id|fmt
comma
r_int
r_char
op_star
id|in
comma
r_int
r_char
op_star
id|out
comma
r_int
id|len
)paren
(brace
r_int
id|a
op_assign
id|s-&gt;a
suffix:semicolon
r_int
id|d
op_assign
id|s-&gt;d
suffix:semicolon
r_int
id|nbits
op_assign
id|s-&gt;nbits
suffix:semicolon
r_int
id|olen
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
)paren
(brace
r_int
id|e
op_assign
l_int|0
comma
id|nmax
op_assign
l_int|1
op_lshift
(paren
id|nbits
op_minus
l_int|1
)paren
suffix:semicolon
r_int
id|sign
comma
id|delta
suffix:semicolon
r_if
c_cond
(paren
id|fmt
)paren
id|delta
op_assign
(paren
id|isdn_audio_alaw_to_s16
(braket
op_star
id|in
op_increment
)braket
op_rshift
l_int|2
)paren
op_minus
id|a
suffix:semicolon
r_else
id|delta
op_assign
(paren
id|isdn_audio_ulaw_to_s16
(braket
op_star
id|in
op_increment
)braket
op_rshift
l_int|2
)paren
op_minus
id|a
suffix:semicolon
r_if
c_cond
(paren
id|delta
OL
l_int|0
)paren
(brace
id|e
op_assign
id|nmax
suffix:semicolon
id|delta
op_assign
op_minus
id|delta
suffix:semicolon
)brace
r_while
c_loop
(paren
op_decrement
id|nmax
op_logical_and
id|delta
OG
id|d
)paren
(brace
id|delta
op_sub_assign
id|d
suffix:semicolon
id|e
op_increment
suffix:semicolon
)brace
r_if
c_cond
(paren
id|nbits
op_eq
l_int|4
op_logical_and
(paren
(paren
id|e
op_amp
l_int|0x0f
)paren
op_eq
l_int|0
)paren
)paren
id|e
op_assign
l_int|8
suffix:semicolon
id|isdn_audio_put_bits
c_func
(paren
id|e
comma
id|nbits
comma
id|s
comma
op_amp
id|out
comma
op_amp
id|olen
)paren
suffix:semicolon
id|sign
op_assign
(paren
id|e
op_rshift
(paren
id|nbits
op_minus
l_int|1
)paren
)paren
ques
c_cond
op_minus
l_int|1
suffix:colon
l_int|1
suffix:semicolon
id|e
op_and_assign
id|bitmask
(braket
id|nbits
op_minus
l_int|1
)braket
suffix:semicolon
id|a
op_add_assign
id|sign
op_star
(paren
(paren
id|e
op_lshift
l_int|1
)paren
op_plus
l_int|1
)paren
op_star
id|d
op_rshift
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|d
op_amp
l_int|1
)paren
id|a
op_increment
suffix:semicolon
id|d
op_assign
(paren
id|d
op_star
id|Mx
(braket
id|nbits
op_minus
l_int|2
)braket
(braket
id|e
)braket
op_plus
l_int|0x2000
)paren
op_rshift
l_int|14
suffix:semicolon
r_if
c_cond
(paren
id|d
OL
l_int|5
)paren
id|d
op_assign
l_int|5
suffix:semicolon
)brace
id|s-&gt;a
op_assign
id|a
suffix:semicolon
id|s-&gt;d
op_assign
id|d
suffix:semicolon
r_return
id|olen
suffix:semicolon
)brace
multiline_comment|/*&n; * Goertzel algorithm.&n; * See http://ptolemy.eecs.berkeley.edu/~pino/Ptolemy/papers/96/dtmf_ict/&n; * for more info.&n; * Result is stored into an sk_buff and queued up for later&n; * evaluation.&n; */
r_static
r_void
DECL|function|isdn_audio_goertzel
id|isdn_audio_goertzel
c_func
(paren
r_int
op_star
id|sample
comma
id|modem_info
op_star
id|info
)paren
(brace
r_int
id|sk
comma
id|sk1
comma
id|sk2
suffix:semicolon
r_int
id|k
comma
id|n
suffix:semicolon
r_struct
id|sk_buff
op_star
id|skb
suffix:semicolon
r_int
op_star
id|result
suffix:semicolon
id|skb
op_assign
id|dev_alloc_skb
c_func
(paren
r_sizeof
(paren
r_int
)paren
op_star
id|NCOEFF
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|skb
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;isdn_audio: Could not alloc DTMF result for ttyI%d&bslash;n&quot;
comma
id|info-&gt;line
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|result
op_assign
(paren
r_int
op_star
)paren
id|skb_put
c_func
(paren
id|skb
comma
r_sizeof
(paren
r_int
)paren
op_star
id|NCOEFF
)paren
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|NCOEFF
suffix:semicolon
id|k
op_increment
)paren
(brace
id|sk
op_assign
id|sk1
op_assign
id|sk2
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|n
op_assign
l_int|0
suffix:semicolon
id|n
OL
id|DTMF_NPOINTS
suffix:semicolon
id|n
op_increment
)paren
(brace
id|sk
op_assign
id|sample
(braket
id|n
)braket
op_plus
(paren
(paren
id|cos2pik
(braket
id|k
)braket
op_star
id|sk1
)paren
op_rshift
l_int|15
)paren
op_minus
id|sk2
suffix:semicolon
id|sk2
op_assign
id|sk1
suffix:semicolon
id|sk1
op_assign
id|sk
suffix:semicolon
)brace
id|result
(braket
id|k
)braket
op_assign
(paren
(paren
id|sk
op_star
id|sk
)paren
op_rshift
id|AMP_BITS
)paren
op_minus
(paren
(paren
(paren
(paren
id|cos2pik
(braket
id|k
)braket
op_star
id|sk
)paren
op_rshift
l_int|15
)paren
op_star
id|sk2
)paren
op_rshift
id|AMP_BITS
)paren
op_plus
(paren
(paren
id|sk2
op_star
id|sk2
)paren
op_rshift
id|AMP_BITS
)paren
suffix:semicolon
)brace
id|skb_queue_tail
c_func
(paren
op_amp
id|info-&gt;dtmf_queue
comma
id|skb
)paren
suffix:semicolon
id|isdn_timer_ctrl
c_func
(paren
id|ISDN_TIMER_MODEMREAD
comma
l_int|1
)paren
suffix:semicolon
)brace
r_void
DECL|function|isdn_audio_eval_dtmf
id|isdn_audio_eval_dtmf
c_func
(paren
id|modem_info
op_star
id|info
)paren
(brace
r_struct
id|sk_buff
op_star
id|skb
suffix:semicolon
r_int
op_star
id|result
suffix:semicolon
id|dtmf_state
op_star
id|s
suffix:semicolon
r_int
id|silence
suffix:semicolon
r_int
id|i
suffix:semicolon
r_int
id|di
suffix:semicolon
r_int
id|ch
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|grp
(braket
l_int|2
)braket
suffix:semicolon
r_char
id|what
suffix:semicolon
r_char
op_star
id|p
suffix:semicolon
r_while
c_loop
(paren
(paren
id|skb
op_assign
id|skb_dequeue
c_func
(paren
op_amp
id|info-&gt;dtmf_queue
)paren
)paren
)paren
(brace
id|result
op_assign
(paren
r_int
op_star
)paren
id|skb-&gt;data
suffix:semicolon
id|s
op_assign
id|info-&gt;dtmf_state
suffix:semicolon
id|grp
(braket
id|LOGRP
)braket
op_assign
id|grp
(braket
id|HIGRP
)braket
op_assign
op_minus
l_int|2
suffix:semicolon
id|silence
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|8
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
(paren
id|result
(braket
id|dtmf_tones
(braket
id|i
)braket
dot
id|k
)braket
OG
id|DTMF_TRESH
)paren
op_logical_and
(paren
id|result
(braket
id|dtmf_tones
(braket
id|i
)braket
dot
id|k2
)braket
OL
id|H2_TRESH
)paren
)paren
id|grp
(braket
id|dtmf_tones
(braket
id|i
)braket
dot
id|grp
)braket
op_assign
(paren
id|grp
(braket
id|dtmf_tones
(braket
id|i
)braket
dot
id|grp
)braket
op_eq
op_minus
l_int|2
)paren
ques
c_cond
id|i
suffix:colon
op_minus
l_int|1
suffix:semicolon
r_else
r_if
c_cond
(paren
(paren
id|result
(braket
id|dtmf_tones
(braket
id|i
)braket
dot
id|k
)braket
OL
id|SILENCE_TRESH
)paren
op_logical_and
(paren
id|result
(braket
id|dtmf_tones
(braket
id|i
)braket
dot
id|k2
)braket
OL
id|SILENCE_TRESH
)paren
)paren
id|silence
op_increment
suffix:semicolon
)brace
r_if
c_cond
(paren
id|silence
op_eq
l_int|8
)paren
id|what
op_assign
l_char|&squot; &squot;
suffix:semicolon
r_else
(brace
r_if
c_cond
(paren
(paren
id|grp
(braket
id|LOGRP
)braket
op_ge
l_int|0
)paren
op_logical_and
(paren
id|grp
(braket
id|HIGRP
)braket
op_ge
l_int|0
)paren
)paren
(brace
id|what
op_assign
id|dtmf_matrix
(braket
id|grp
(braket
id|LOGRP
)braket
)braket
(braket
id|grp
(braket
id|HIGRP
)braket
op_minus
l_int|4
)braket
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;last
op_ne
l_char|&squot; &squot;
op_logical_and
id|s-&gt;last
op_ne
l_char|&squot;.&squot;
)paren
id|s-&gt;last
op_assign
id|what
suffix:semicolon
multiline_comment|/* min. 1 non-DTMF between DTMF */
)brace
r_else
id|what
op_assign
l_char|&squot;.&squot;
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|what
op_ne
id|s-&gt;last
)paren
op_logical_and
(paren
id|what
op_ne
l_char|&squot; &squot;
)paren
op_logical_and
(paren
id|what
op_ne
l_char|&squot;.&squot;
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;dtmf: tt=&squot;%c&squot;&bslash;n&quot;
comma
id|what
)paren
suffix:semicolon
id|p
op_assign
id|skb-&gt;data
suffix:semicolon
op_star
id|p
op_increment
op_assign
l_int|0x10
suffix:semicolon
op_star
id|p
op_assign
id|what
suffix:semicolon
id|skb_trim
c_func
(paren
id|skb
comma
l_int|2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|skb_headroom
c_func
(paren
id|skb
)paren
OL
r_sizeof
(paren
id|isdn_audio_skb
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;isdn_audio: insufficient skb_headroom, dropping&bslash;n&quot;
)paren
suffix:semicolon
id|kfree_skb
c_func
(paren
id|skb
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|ISDN_AUDIO_SKB_DLECOUNT
c_func
(paren
id|skb
)paren
op_assign
l_int|0
suffix:semicolon
id|ISDN_AUDIO_SKB_LOCK
c_func
(paren
id|skb
)paren
op_assign
l_int|0
suffix:semicolon
id|save_flags
c_func
(paren
id|flags
)paren
suffix:semicolon
id|cli
c_func
(paren
)paren
suffix:semicolon
id|di
op_assign
id|info-&gt;isdn_driver
suffix:semicolon
id|ch
op_assign
id|info-&gt;isdn_channel
suffix:semicolon
id|__skb_queue_tail
c_func
(paren
op_amp
id|dev-&gt;drv
(braket
id|di
)braket
op_member_access_from_pointer
id|rpqueue
(braket
id|ch
)braket
comma
id|skb
)paren
suffix:semicolon
id|dev-&gt;drv
(braket
id|di
)braket
op_member_access_from_pointer
id|rcvcount
(braket
id|ch
)braket
op_add_assign
l_int|2
suffix:semicolon
id|restore_flags
c_func
(paren
id|flags
)paren
suffix:semicolon
multiline_comment|/* Schedule dequeuing */
r_if
c_cond
(paren
(paren
id|dev-&gt;modempoll
)paren
op_logical_and
(paren
id|info-&gt;rcvsched
)paren
)paren
id|isdn_timer_ctrl
c_func
(paren
id|ISDN_TIMER_MODEMREAD
comma
l_int|1
)paren
suffix:semicolon
id|wake_up_interruptible
c_func
(paren
op_amp
id|dev-&gt;drv
(braket
id|di
)braket
op_member_access_from_pointer
id|rcv_waitq
(braket
id|ch
)braket
)paren
suffix:semicolon
)brace
r_else
id|kfree_skb
c_func
(paren
id|skb
)paren
suffix:semicolon
id|s-&gt;last
op_assign
id|what
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * Decode DTMF tones, queue result in separate sk_buf for&n; * later examination.&n; * Parameters:&n; *   s    = pointer to state-struct.&n; *   buf  = input audio data&n; *   len  = size of audio data.&n; *   fmt  = audio data format (0 = ulaw, 1 = alaw)&n; */
r_void
DECL|function|isdn_audio_calc_dtmf
id|isdn_audio_calc_dtmf
c_func
(paren
id|modem_info
op_star
id|info
comma
r_int
r_char
op_star
id|buf
comma
r_int
id|len
comma
r_int
id|fmt
)paren
(brace
id|dtmf_state
op_star
id|s
op_assign
id|info-&gt;dtmf_state
suffix:semicolon
r_int
id|i
suffix:semicolon
r_int
id|c
suffix:semicolon
r_while
c_loop
(paren
id|len
)paren
(brace
id|c
op_assign
id|MIN
c_func
(paren
id|len
comma
(paren
id|DTMF_NPOINTS
op_minus
id|s-&gt;idx
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|c
op_le
l_int|0
)paren
r_break
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|c
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|fmt
)paren
id|s-&gt;buf
(braket
id|s-&gt;idx
op_increment
)braket
op_assign
id|isdn_audio_alaw_to_s16
(braket
op_star
id|buf
op_increment
)braket
op_rshift
(paren
l_int|15
op_minus
id|AMP_BITS
)paren
suffix:semicolon
r_else
id|s-&gt;buf
(braket
id|s-&gt;idx
op_increment
)braket
op_assign
id|isdn_audio_ulaw_to_s16
(braket
op_star
id|buf
op_increment
)braket
op_rshift
(paren
l_int|15
op_minus
id|AMP_BITS
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|s-&gt;idx
op_eq
id|DTMF_NPOINTS
)paren
(brace
id|isdn_audio_goertzel
c_func
(paren
id|s-&gt;buf
comma
id|info
)paren
suffix:semicolon
id|s-&gt;idx
op_assign
l_int|0
suffix:semicolon
)brace
id|len
op_sub_assign
id|c
suffix:semicolon
)brace
)brace
id|silence_state
op_star
DECL|function|isdn_audio_silence_init
id|isdn_audio_silence_init
c_func
(paren
id|silence_state
op_star
id|s
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|s
)paren
id|s
op_assign
(paren
id|silence_state
op_star
)paren
id|kmalloc
c_func
(paren
r_sizeof
(paren
id|silence_state
)paren
comma
id|GFP_ATOMIC
)paren
suffix:semicolon
r_if
c_cond
(paren
id|s
)paren
(brace
id|s-&gt;idx
op_assign
l_int|0
suffix:semicolon
id|s-&gt;state
op_assign
l_int|0
suffix:semicolon
)brace
r_return
id|s
suffix:semicolon
)brace
r_void
DECL|function|isdn_audio_calc_silence
id|isdn_audio_calc_silence
c_func
(paren
id|modem_info
op_star
id|info
comma
r_int
r_char
op_star
id|buf
comma
r_int
id|len
comma
r_int
id|fmt
)paren
(brace
id|silence_state
op_star
id|s
op_assign
id|info-&gt;silence_state
suffix:semicolon
r_int
id|i
suffix:semicolon
r_int
r_char
id|c
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|info-&gt;emu.vpar
(braket
l_int|1
)braket
)paren
r_return
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|len
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|fmt
)paren
id|c
op_assign
id|isdn_audio_alaw_to_ulaw
(braket
op_star
id|buf
op_increment
)braket
suffix:semicolon
r_else
id|c
op_assign
op_star
id|buf
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|c
OG
l_int|0
)paren
id|c
op_sub_assign
l_int|128
suffix:semicolon
id|c
op_assign
id|abs
c_func
(paren
id|c
)paren
suffix:semicolon
r_if
c_cond
(paren
id|c
OG
(paren
id|info-&gt;emu.vpar
(braket
l_int|1
)braket
op_star
l_int|4
)paren
)paren
(brace
id|s-&gt;idx
op_assign
l_int|0
suffix:semicolon
id|s-&gt;state
op_assign
l_int|1
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|s-&gt;idx
OL
l_int|210000
)paren
id|s-&gt;idx
op_increment
suffix:semicolon
)brace
)brace
)brace
r_void
DECL|function|isdn_audio_put_dle_code
id|isdn_audio_put_dle_code
c_func
(paren
id|modem_info
op_star
id|info
comma
id|u_char
id|code
)paren
(brace
r_struct
id|sk_buff
op_star
id|skb
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
r_int
id|di
suffix:semicolon
r_int
id|ch
suffix:semicolon
r_char
op_star
id|p
suffix:semicolon
id|skb
op_assign
id|dev_alloc_skb
c_func
(paren
l_int|2
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|skb
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;isdn_audio: Could not alloc skb for ttyI%d&bslash;n&quot;
comma
id|info-&gt;line
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|p
op_assign
(paren
r_char
op_star
)paren
id|skb_put
c_func
(paren
id|skb
comma
l_int|2
)paren
suffix:semicolon
id|p
(braket
l_int|0
)braket
op_assign
l_int|0x10
suffix:semicolon
id|p
(braket
l_int|1
)braket
op_assign
id|code
suffix:semicolon
r_if
c_cond
(paren
id|skb_headroom
c_func
(paren
id|skb
)paren
OL
r_sizeof
(paren
id|isdn_audio_skb
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;isdn_audio: insufficient skb_headroom, dropping&bslash;n&quot;
)paren
suffix:semicolon
id|kfree_skb
c_func
(paren
id|skb
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|ISDN_AUDIO_SKB_DLECOUNT
c_func
(paren
id|skb
)paren
op_assign
l_int|0
suffix:semicolon
id|ISDN_AUDIO_SKB_LOCK
c_func
(paren
id|skb
)paren
op_assign
l_int|0
suffix:semicolon
id|save_flags
c_func
(paren
id|flags
)paren
suffix:semicolon
id|cli
c_func
(paren
)paren
suffix:semicolon
id|di
op_assign
id|info-&gt;isdn_driver
suffix:semicolon
id|ch
op_assign
id|info-&gt;isdn_channel
suffix:semicolon
id|__skb_queue_tail
c_func
(paren
op_amp
id|dev-&gt;drv
(braket
id|di
)braket
op_member_access_from_pointer
id|rpqueue
(braket
id|ch
)braket
comma
id|skb
)paren
suffix:semicolon
id|dev-&gt;drv
(braket
id|di
)braket
op_member_access_from_pointer
id|rcvcount
(braket
id|ch
)braket
op_add_assign
l_int|2
suffix:semicolon
id|restore_flags
c_func
(paren
id|flags
)paren
suffix:semicolon
multiline_comment|/* Schedule dequeuing */
r_if
c_cond
(paren
(paren
id|dev-&gt;modempoll
)paren
op_logical_and
(paren
id|info-&gt;rcvsched
)paren
)paren
id|isdn_timer_ctrl
c_func
(paren
id|ISDN_TIMER_MODEMREAD
comma
l_int|1
)paren
suffix:semicolon
id|wake_up_interruptible
c_func
(paren
op_amp
id|dev-&gt;drv
(braket
id|di
)braket
op_member_access_from_pointer
id|rcv_waitq
(braket
id|ch
)braket
)paren
suffix:semicolon
)brace
r_void
DECL|function|isdn_audio_eval_silence
id|isdn_audio_eval_silence
c_func
(paren
id|modem_info
op_star
id|info
)paren
(brace
id|silence_state
op_star
id|s
op_assign
id|info-&gt;silence_state
suffix:semicolon
r_char
id|what
suffix:semicolon
id|what
op_assign
l_char|&squot; &squot;
suffix:semicolon
r_if
c_cond
(paren
id|s-&gt;idx
OG
(paren
id|info-&gt;emu.vpar
(braket
l_int|2
)braket
op_star
l_int|800
)paren
)paren
(brace
id|s-&gt;idx
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|s-&gt;state
)paren
(brace
multiline_comment|/* silence from beginning of rec */
id|what
op_assign
l_char|&squot;s&squot;
suffix:semicolon
)brace
r_else
(brace
id|what
op_assign
l_char|&squot;q&squot;
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
(paren
id|what
op_eq
l_char|&squot;s&squot;
)paren
op_logical_or
(paren
id|what
op_eq
l_char|&squot;q&squot;
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_DEBUG
l_string|&quot;ttyI%d: %s&bslash;n&quot;
comma
id|info-&gt;line
comma
(paren
id|what
op_eq
l_char|&squot;s&squot;
)paren
ques
c_cond
l_string|&quot;silence&quot;
suffix:colon
l_string|&quot;quiet&quot;
)paren
suffix:semicolon
id|isdn_audio_put_dle_code
c_func
(paren
id|info
comma
id|what
)paren
suffix:semicolon
)brace
)brace
eof
