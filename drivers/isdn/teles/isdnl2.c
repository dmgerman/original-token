multiline_comment|/* $Id: isdnl2.c,v 1.2 1996/05/17 03:46:15 fritz Exp $&n; *&n; * $Log: isdnl2.c,v $&n; * Revision 1.2  1996/05/17 03:46:15  fritz&n; * General cleanup.&n; *&n; * Revision 1.1  1996/04/13 10:24:16  fritz&n; * Initial revision&n; *&n; *&n; */
DECL|macro|__NO_VERSION__
mdefine_line|#define __NO_VERSION__
macro_line|#include &quot;teles.h&quot;
DECL|macro|TIMER_1
mdefine_line|#define TIMER_1 2000
r_static
r_void
id|l2m_debug
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_char
op_star
id|s
)paren
suffix:semicolon
DECL|variable|l2fsm
r_struct
id|Fsm
id|l2fsm
op_assign
(brace
l_int|NULL
comma
l_int|0
comma
l_int|0
)brace
suffix:semicolon
r_enum
(brace
DECL|enumerator|ST_L2_1
id|ST_L2_1
comma
DECL|enumerator|ST_L2_3
id|ST_L2_3
comma
DECL|enumerator|ST_L2_4
id|ST_L2_4
comma
DECL|enumerator|ST_L2_5
id|ST_L2_5
comma
DECL|enumerator|ST_L2_6
id|ST_L2_6
comma
DECL|enumerator|ST_L2_7
id|ST_L2_7
comma
DECL|enumerator|ST_L2_8
id|ST_L2_8
comma
)brace
suffix:semicolon
DECL|macro|L2_STATE_COUNT
mdefine_line|#define L2_STATE_COUNT (ST_L2_8+1)
DECL|variable|strL2State
r_static
r_char
op_star
id|strL2State
(braket
)braket
op_assign
(brace
l_string|&quot;ST_L2_1&quot;
comma
l_string|&quot;ST_L2_3&quot;
comma
l_string|&quot;ST_L2_4&quot;
comma
l_string|&quot;ST_L2_5&quot;
comma
l_string|&quot;ST_L2_6&quot;
comma
l_string|&quot;ST_L2_7&quot;
comma
l_string|&quot;ST_L2_8&quot;
comma
)brace
suffix:semicolon
r_enum
(brace
DECL|enumerator|EV_L2_UI
id|EV_L2_UI
comma
DECL|enumerator|EV_L2_SABMX
id|EV_L2_SABMX
comma
DECL|enumerator|EV_L2_UA
id|EV_L2_UA
comma
DECL|enumerator|EV_L2_DISC
id|EV_L2_DISC
comma
DECL|enumerator|EV_L2_I
id|EV_L2_I
comma
DECL|enumerator|EV_L2_RR
id|EV_L2_RR
comma
DECL|enumerator|EV_L2_REJ
id|EV_L2_REJ
comma
DECL|enumerator|EV_L2_FRMR
id|EV_L2_FRMR
comma
DECL|enumerator|EV_L2_DL_DATA
id|EV_L2_DL_DATA
comma
DECL|enumerator|EV_L2_DL_ESTABLISH
id|EV_L2_DL_ESTABLISH
comma
DECL|enumerator|EV_L2_MDL_ASSIGN
id|EV_L2_MDL_ASSIGN
comma
DECL|enumerator|EV_L2_DL_UNIT_DATA
id|EV_L2_DL_UNIT_DATA
comma
DECL|enumerator|EV_L2_DL_RELEASE
id|EV_L2_DL_RELEASE
comma
DECL|enumerator|EV_L2_MDL_NOTEIPROC
id|EV_L2_MDL_NOTEIPROC
comma
DECL|enumerator|EV_L2_T200
id|EV_L2_T200
comma
DECL|enumerator|EV_L2_ACK_PULL
id|EV_L2_ACK_PULL
comma
DECL|enumerator|EV_L2_T203
id|EV_L2_T203
comma
DECL|enumerator|EV_L2_RNR
id|EV_L2_RNR
comma
)brace
suffix:semicolon
DECL|macro|L2_EVENT_COUNT
mdefine_line|#define L2_EVENT_COUNT (EV_L2_RNR+1)
DECL|variable|strL2Event
r_static
r_char
op_star
id|strL2Event
(braket
)braket
op_assign
(brace
l_string|&quot;EV_L2_UI&quot;
comma
l_string|&quot;EV_L2_SABMX&quot;
comma
l_string|&quot;EV_L2_UA&quot;
comma
l_string|&quot;EV_L2_DISC&quot;
comma
l_string|&quot;EV_L2_I&quot;
comma
l_string|&quot;EV_L2_RR&quot;
comma
l_string|&quot;EV_L2_REJ&quot;
comma
l_string|&quot;EV_L2_FRMR&quot;
comma
l_string|&quot;EV_L2_DL_DATA&quot;
comma
l_string|&quot;EV_L2_DL_ESTABLISH&quot;
comma
l_string|&quot;EV_L2_MDL_ASSIGN&quot;
comma
l_string|&quot;EV_L2_DL_UNIT_DATA&quot;
comma
l_string|&quot;EV_L2_DL_RELEASE&quot;
comma
l_string|&quot;EV_L2_MDL_NOTEIPROC&quot;
comma
l_string|&quot;EV_L2_T200&quot;
comma
l_string|&quot;EV_L2_ACK_PULL&quot;
comma
l_string|&quot;EV_L2_T203&quot;
comma
l_string|&quot;EV_L2_RNR&quot;
comma
)brace
suffix:semicolon
DECL|variable|errcount
r_int
id|errcount
op_assign
l_int|0
suffix:semicolon
r_static
r_int
id|l2addrsize
c_func
(paren
r_struct
id|Layer2
op_star
id|tsp
)paren
suffix:semicolon
r_static
r_int
DECL|function|cansend
id|cansend
c_func
(paren
r_struct
id|PStack
op_star
id|st
)paren
(brace
r_int
id|p1
suffix:semicolon
id|p1
op_assign
(paren
id|st-&gt;l2.va
op_plus
id|st-&gt;l2.window
)paren
op_mod
(paren
id|st-&gt;l2.extended
ques
c_cond
l_int|128
suffix:colon
l_int|8
)paren
suffix:semicolon
r_return
(paren
id|st-&gt;l2.vs
op_ne
id|p1
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|discard_i_queue
id|discard_i_queue
c_func
(paren
r_struct
id|PStack
op_star
id|st
)paren
(brace
r_struct
id|BufHeader
op_star
id|ibh
suffix:semicolon
r_while
c_loop
(paren
op_logical_neg
id|BufQueueUnlink
c_func
(paren
op_amp
id|ibh
comma
op_amp
id|st-&gt;l2.i_queue
)paren
)paren
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
)brace
r_int
DECL|function|l2headersize
id|l2headersize
c_func
(paren
r_struct
id|Layer2
op_star
id|tsp
comma
r_int
id|UI
)paren
(brace
r_return
(paren
(paren
id|tsp-&gt;extended
op_logical_and
(paren
op_logical_neg
id|UI
)paren
ques
c_cond
l_int|2
suffix:colon
l_int|1
)paren
op_plus
(paren
id|tsp-&gt;laptype
op_eq
id|LAPD
ques
c_cond
l_int|2
suffix:colon
l_int|1
)paren
)paren
suffix:semicolon
)brace
r_int
DECL|function|l2addrsize
id|l2addrsize
c_func
(paren
r_struct
id|Layer2
op_star
id|tsp
)paren
(brace
r_return
(paren
id|tsp-&gt;laptype
op_eq
id|LAPD
ques
c_cond
l_int|2
suffix:colon
l_int|1
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|sethdraddr
id|sethdraddr
c_func
(paren
r_struct
id|Layer2
op_star
id|tsp
comma
r_struct
id|BufHeader
op_star
id|ibh
comma
r_int
id|rsp
)paren
(brace
id|byte
op_star
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_int
id|crbit
suffix:semicolon
r_if
c_cond
(paren
id|tsp-&gt;laptype
op_eq
id|LAPD
)paren
(brace
id|crbit
op_assign
id|rsp
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|tsp-&gt;orig
)paren
id|crbit
op_assign
op_logical_neg
id|crbit
suffix:semicolon
op_star
id|ptr
op_increment
op_assign
(paren
id|tsp-&gt;sap
op_lshift
l_int|2
)paren
op_or
(paren
id|crbit
ques
c_cond
l_int|2
suffix:colon
l_int|0
)paren
suffix:semicolon
op_star
id|ptr
op_increment
op_assign
(paren
id|tsp-&gt;tei
op_lshift
l_int|1
)paren
op_or
l_int|1
suffix:semicolon
r_return
(paren
l_int|2
)paren
suffix:semicolon
)brace
r_else
(brace
id|crbit
op_assign
id|rsp
suffix:semicolon
r_if
c_cond
(paren
id|tsp-&gt;orig
)paren
id|crbit
op_assign
op_logical_neg
id|crbit
suffix:semicolon
r_if
c_cond
(paren
id|crbit
)paren
op_star
id|ptr
op_increment
op_assign
l_int|1
suffix:semicolon
r_else
op_star
id|ptr
op_increment
op_assign
l_int|3
suffix:semicolon
r_return
(paren
l_int|1
)paren
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|enqueue_ui
id|enqueue_ui
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_struct
id|BufHeader
op_star
id|ibh
)paren
(brace
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_DATA
comma
id|ibh
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|enqueue_super
id|enqueue_super
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_struct
id|BufHeader
op_star
id|ibh
)paren
(brace
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_DATA
comma
id|ibh
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|legalnr
id|legalnr
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_int
id|nr
)paren
(brace
r_struct
id|Layer2
op_star
id|l2
op_assign
op_amp
id|st-&gt;l2
suffix:semicolon
r_int
id|lnr
comma
id|lvs
suffix:semicolon
id|lvs
op_assign
(paren
id|l2-&gt;vs
op_ge
id|l2-&gt;va
)paren
ques
c_cond
id|l2-&gt;vs
suffix:colon
(paren
id|l2-&gt;vs
op_plus
id|l2-&gt;extended
ques
c_cond
l_int|128
suffix:colon
l_int|8
)paren
suffix:semicolon
id|lnr
op_assign
(paren
id|nr
op_ge
id|l2-&gt;va
)paren
ques
c_cond
id|nr
suffix:colon
(paren
id|nr
op_plus
id|l2-&gt;extended
ques
c_cond
l_int|128
suffix:colon
l_int|8
)paren
suffix:semicolon
r_return
(paren
id|lnr
op_le
id|lvs
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|setva
id|setva
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_int
id|nr
)paren
(brace
r_struct
id|Layer2
op_star
id|l2
op_assign
op_amp
id|st-&gt;l2
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;va
op_ne
id|nr
)paren
(brace
r_while
c_loop
(paren
id|l2-&gt;va
op_ne
id|nr
)paren
(brace
id|l2-&gt;va
op_assign
(paren
id|l2-&gt;va
op_plus
l_int|1
)paren
op_mod
(paren
id|l2-&gt;extended
ques
c_cond
l_int|128
suffix:colon
l_int|8
)paren
suffix:semicolon
id|BufPoolRelease
c_func
(paren
id|l2-&gt;windowar
(braket
id|l2-&gt;sow
)braket
)paren
suffix:semicolon
id|l2-&gt;sow
op_assign
(paren
id|l2-&gt;sow
op_plus
l_int|1
)paren
op_mod
id|l2-&gt;window
suffix:semicolon
)brace
r_if
c_cond
(paren
id|st-&gt;l4.l2writewakeup
)paren
id|st-&gt;l4
dot
id|l2writewakeup
c_func
(paren
id|st
)paren
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|l2s1
id|l2s1
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
id|st-&gt;l2
dot
id|l2tei
c_func
(paren
id|st
comma
id|MDL_ASSIGN
comma
(paren
r_void
op_star
)paren
id|st-&gt;l2.ces
)paren
suffix:semicolon
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_3
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s2
id|l2s2
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_int
id|i
suffix:semicolon
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
(paren
id|st-&gt;l2
)paren
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
op_star
id|ptr
op_assign
l_int|0x3
suffix:semicolon
id|enqueue_ui
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s3
id|l2s3
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
id|st-&gt;l2
dot
id|l2l3
c_func
(paren
id|st
comma
id|DL_UNIT_DATA
comma
id|ibh
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|establishlink
id|establishlink
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
suffix:semicolon
r_int
id|i
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_5
)paren
suffix:semicolon
id|st-&gt;l2.rc
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
id|st-&gt;l2.t200
comma
id|EV_L2_T200
comma
l_int|NULL
comma
l_int|1
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 1&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|BufPoolGet
c_func
(paren
op_amp
id|ibh
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|15
)paren
)paren
r_return
suffix:semicolon
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
id|st-&gt;l2
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.extended
)paren
op_star
id|ptr
op_assign
l_int|0x7f
suffix:semicolon
r_else
op_star
id|ptr
op_assign
l_int|0x3f
suffix:semicolon
id|ibh-&gt;datasize
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s11
id|l2s11
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
id|establishlink
c_func
(paren
id|fi
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s13
id|l2s13
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|Channel
op_star
id|chanp
op_assign
id|st-&gt;l4.userdata
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
suffix:semicolon
r_int
id|i
suffix:semicolon
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_6
)paren
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.t200_running
)paren
(brace
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|2
)paren
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
l_int|0
suffix:semicolon
)brace
id|st-&gt;l2.rc
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
id|st-&gt;l2.t200
comma
id|EV_L2_T200
comma
l_int|NULL
comma
l_int|2
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 2&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|chanp-&gt;impair
op_eq
l_int|2
)paren
op_logical_and
(paren
id|st-&gt;l2.laptype
op_eq
id|LAPB
)paren
)paren
r_goto
id|nodisc
suffix:semicolon
r_if
c_cond
(paren
id|BufPoolGet
c_func
(paren
op_amp
id|ibh
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|9
)paren
)paren
r_return
suffix:semicolon
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
(paren
id|st-&gt;l2
)paren
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
op_star
id|ptr
op_assign
l_int|0x53
suffix:semicolon
id|ibh-&gt;datasize
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
id|nodisc
suffix:colon
id|discard_i_queue
c_func
(paren
id|st
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s12
id|l2s12
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_int
id|i
suffix:semicolon
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|st-&gt;l2.vs
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.va
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.vr
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.sow
op_assign
l_int|0
suffix:semicolon
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_7
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
id|st-&gt;l2.t203
comma
id|EV_L2_T203
comma
l_int|NULL
comma
l_int|3
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 3&quot;
)paren
suffix:semicolon
id|st-&gt;l2
dot
id|l2man
c_func
(paren
id|st
comma
id|DL_ESTABLISH
comma
l_int|NULL
)paren
suffix:semicolon
r_if
c_cond
(paren
id|BufPoolGet
c_func
(paren
op_amp
id|ibh
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|10
)paren
)paren
r_return
suffix:semicolon
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
(paren
id|st-&gt;l2
)paren
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
op_star
id|ptr
op_assign
l_int|0x73
suffix:semicolon
id|ibh-&gt;datasize
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s14
id|l2s14
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
r_struct
id|Channel
op_star
id|chanp
op_assign
id|st-&gt;l4.userdata
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_int
id|i
comma
id|p
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|l2addrsize
c_func
(paren
op_amp
(paren
id|st-&gt;l2
)paren
)paren
suffix:semicolon
id|p
op_assign
(paren
op_star
id|ptr
)paren
op_amp
l_int|0x10
suffix:semicolon
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_4
)paren
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
l_int|3
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.t200_running
)paren
(brace
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|4
)paren
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
id|chanp-&gt;impair
op_eq
l_int|1
)paren
op_logical_and
(paren
id|st-&gt;l2.laptype
op_eq
id|LAPB
)paren
)paren
r_goto
id|noresponse
suffix:semicolon
r_if
c_cond
(paren
id|BufPoolGet
c_func
(paren
op_amp
id|ibh
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|11
)paren
)paren
r_return
suffix:semicolon
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
(paren
id|st-&gt;l2
)paren
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
op_star
id|ptr
op_assign
l_int|0x63
op_or
(paren
id|p
ques
c_cond
l_int|0x10
suffix:colon
l_int|0x0
)paren
suffix:semicolon
id|ibh-&gt;datasize
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
id|noresponse
suffix:colon
id|st-&gt;l2
dot
id|l2man
c_func
(paren
id|st
comma
id|DL_RELEASE
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s5
id|l2s5
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
r_int
id|f
suffix:semicolon
id|byte
op_star
id|data
suffix:semicolon
id|data
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|data
op_add_assign
id|l2addrsize
c_func
(paren
op_amp
(paren
id|st-&gt;l2
)paren
)paren
suffix:semicolon
id|f
op_assign
op_star
id|data
op_amp
l_int|0x10
suffix:semicolon
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|f
)paren
(brace
id|st-&gt;l2.vs
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.va
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.vr
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.sow
op_assign
l_int|0
suffix:semicolon
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_7
)paren
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|5
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
id|st-&gt;l2.t203
comma
id|EV_L2_T203
comma
l_int|NULL
comma
l_int|4
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 4&quot;
)paren
suffix:semicolon
id|st-&gt;l2
dot
id|l2man
c_func
(paren
id|st
comma
id|DL_ESTABLISH
comma
l_int|NULL
)paren
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|l2s15
id|l2s15
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
r_int
id|f
suffix:semicolon
id|byte
op_star
id|data
suffix:semicolon
id|data
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|data
op_add_assign
id|l2addrsize
c_func
(paren
op_amp
id|st-&gt;l2
)paren
suffix:semicolon
id|f
op_assign
op_star
id|data
op_amp
l_int|0x10
suffix:semicolon
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|f
)paren
(brace
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|6
)paren
suffix:semicolon
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_4
)paren
suffix:semicolon
id|st-&gt;l2
dot
id|l2man
c_func
(paren
id|st
comma
id|DL_RELEASE
comma
l_int|NULL
)paren
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|l2s6
id|l2s6
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|Channel
op_star
id|chanp
op_assign
id|st-&gt;l4.userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
r_int
id|p
comma
id|i
comma
id|seq
comma
id|rsp
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_struct
id|Layer2
op_star
id|l2
suffix:semicolon
id|l2
op_assign
op_amp
id|st-&gt;l2
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;laptype
op_eq
id|LAPD
)paren
(brace
id|rsp
op_assign
id|ptr
(braket
l_int|0
)braket
op_amp
l_int|0x2
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;orig
)paren
id|rsp
op_assign
op_logical_neg
id|rsp
suffix:semicolon
)brace
r_else
(brace
id|rsp
op_assign
id|ptr
(braket
l_int|0
)braket
op_eq
l_int|0x3
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;orig
)paren
id|rsp
op_assign
op_logical_neg
id|rsp
suffix:semicolon
)brace
id|ptr
op_add_assign
id|l2addrsize
c_func
(paren
id|l2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;extended
)paren
(brace
id|p
op_assign
(paren
id|ptr
(braket
l_int|1
)braket
op_amp
l_int|0x1
)paren
op_eq
l_int|0x1
suffix:semicolon
id|seq
op_assign
id|ptr
(braket
l_int|1
)braket
op_rshift
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|p
op_assign
(paren
id|ptr
(braket
l_int|0
)braket
op_amp
l_int|0x10
)paren
suffix:semicolon
id|seq
op_assign
(paren
id|ptr
(braket
l_int|0
)braket
op_rshift
l_int|5
)paren
op_amp
l_int|0x7
suffix:semicolon
)brace
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|chanp-&gt;impair
op_eq
l_int|4
)paren
op_logical_and
(paren
id|st-&gt;l2.laptype
op_eq
id|LAPB
)paren
)paren
r_goto
id|noresp
suffix:semicolon
r_if
c_cond
(paren
(paren
op_logical_neg
id|rsp
)paren
op_logical_and
id|p
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|BufPoolGet
c_func
(paren
op_amp
id|ibh
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|12
)paren
)paren
(brace
id|i
op_assign
id|sethdraddr
c_func
(paren
id|l2
comma
id|ibh
comma
op_logical_neg
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;extended
)paren
(brace
op_star
id|ptr
op_increment
op_assign
l_int|0x1
suffix:semicolon
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|1
)paren
op_or
(paren
id|p
ques
c_cond
l_int|1
suffix:colon
l_int|0
)paren
suffix:semicolon
id|i
op_add_assign
l_int|2
suffix:semicolon
)brace
r_else
(brace
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|5
)paren
op_or
l_int|0x1
op_or
(paren
id|p
ques
c_cond
l_int|0x10
suffix:colon
l_int|0x0
)paren
suffix:semicolon
id|i
op_add_assign
l_int|1
suffix:semicolon
)brace
id|ibh-&gt;datasize
op_assign
id|i
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
)brace
)brace
id|noresp
suffix:colon
r_if
c_cond
(paren
id|legalnr
c_func
(paren
id|st
comma
id|seq
)paren
)paren
r_if
c_cond
(paren
id|seq
op_eq
id|st-&gt;l2.vs
)paren
(brace
id|setva
c_func
(paren
id|st
comma
id|seq
)paren
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|7
)paren
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
l_int|0
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
l_int|8
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
id|st-&gt;l2.t203
comma
id|EV_L2_T203
comma
l_int|NULL
comma
l_int|5
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 5&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.i_queue.head
)paren
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_REQUEST_PULL
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|st-&gt;l2.va
op_ne
id|seq
)paren
(brace
id|setva
c_func
(paren
id|st
comma
id|seq
)paren
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|9
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
id|st-&gt;l2.t200
comma
id|EV_L2_T200
comma
l_int|NULL
comma
l_int|6
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 6&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.i_queue.head
)paren
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_REQUEST_PULL
comma
l_int|NULL
)paren
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|l2s7
id|l2s7
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
r_int
id|i
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_struct
id|IsdnCardState
op_star
id|sp
op_assign
id|st-&gt;l1.hardware
suffix:semicolon
r_char
id|str
(braket
l_int|64
)braket
suffix:semicolon
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
id|st-&gt;l2
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.laptype
op_eq
id|LAPD
)paren
r_if
c_cond
(paren
id|sp-&gt;dlogflag
)paren
(brace
id|sprintf
c_func
(paren
id|str
comma
l_string|&quot;Q.931 frame user-&gt;network tei %d&quot;
comma
id|st-&gt;l2.tei
)paren
suffix:semicolon
id|dlogframe
c_func
(paren
id|sp
comma
id|ptr
op_plus
id|st-&gt;l2.ihsize
comma
id|ibh-&gt;datasize
op_minus
id|st-&gt;l2.ihsize
comma
id|str
)paren
suffix:semicolon
)brace
id|BufQueueLink
c_func
(paren
op_amp
id|st-&gt;l2.i_queue
comma
id|ibh
)paren
suffix:semicolon
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_REQUEST_PULL
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s8
id|l2s8
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|Channel
op_star
id|chanp
op_assign
id|st-&gt;l4.userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh2
suffix:semicolon
r_struct
id|IsdnCardState
op_star
id|sp
op_assign
id|st-&gt;l1.hardware
suffix:semicolon
r_struct
id|Layer2
op_star
id|l2
op_assign
op_amp
(paren
id|st-&gt;l2
)paren
suffix:semicolon
r_int
id|i
comma
id|p
comma
id|seq
comma
id|nr
comma
id|wasok
suffix:semicolon
r_char
id|str
(braket
l_int|64
)braket
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|l2addrsize
c_func
(paren
id|l2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;extended
)paren
(brace
id|p
op_assign
(paren
id|ptr
(braket
l_int|1
)braket
op_amp
l_int|0x1
)paren
op_eq
l_int|0x1
suffix:semicolon
id|seq
op_assign
id|ptr
(braket
l_int|0
)braket
op_rshift
l_int|1
suffix:semicolon
id|nr
op_assign
(paren
id|ptr
(braket
l_int|1
)braket
op_rshift
l_int|1
)paren
op_amp
l_int|0x7f
suffix:semicolon
)brace
r_else
(brace
id|p
op_assign
(paren
id|ptr
(braket
l_int|0
)braket
op_amp
l_int|0x10
)paren
suffix:semicolon
id|seq
op_assign
(paren
id|ptr
(braket
l_int|0
)braket
op_rshift
l_int|1
)paren
op_amp
l_int|0x7
suffix:semicolon
id|nr
op_assign
(paren
id|ptr
(braket
l_int|0
)braket
op_rshift
l_int|5
)paren
op_amp
l_int|0x7
suffix:semicolon
)brace
r_if
c_cond
(paren
id|l2-&gt;vr
op_eq
id|seq
)paren
(brace
id|wasok
op_assign
op_logical_neg
l_int|0
suffix:semicolon
id|l2-&gt;vr
op_assign
(paren
id|l2-&gt;vr
op_plus
l_int|1
)paren
op_mod
(paren
id|l2-&gt;extended
ques
c_cond
l_int|128
suffix:colon
l_int|8
)paren
suffix:semicolon
id|l2-&gt;rejexp
op_assign
l_int|0
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.laptype
op_eq
id|LAPD
)paren
r_if
c_cond
(paren
id|sp-&gt;dlogflag
)paren
(brace
id|sprintf
c_func
(paren
id|str
comma
l_string|&quot;Q.931 frame network-&gt;user tei %d&quot;
comma
id|st-&gt;l2.tei
)paren
suffix:semicolon
id|dlogframe
c_func
(paren
id|st-&gt;l1.hardware
comma
id|ptr
op_plus
id|l2-&gt;ihsize
comma
id|ibh-&gt;datasize
op_minus
id|l2-&gt;ihsize
comma
id|str
)paren
suffix:semicolon
)brace
id|label8_1
suffix:colon
r_if
c_cond
(paren
(paren
id|chanp-&gt;impair
op_eq
l_int|3
)paren
op_logical_and
(paren
id|st-&gt;l2.laptype
op_eq
id|LAPB
)paren
)paren
r_goto
id|noRR
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|BufPoolGet
c_func
(paren
op_amp
id|ibh2
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|13
)paren
)paren
(brace
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
(paren
id|st-&gt;l2
)paren
comma
id|ibh2
comma
id|p
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh2
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;extended
)paren
(brace
op_star
id|ptr
op_increment
op_assign
l_int|0x1
suffix:semicolon
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|1
)paren
op_or
(paren
id|p
ques
c_cond
l_int|1
suffix:colon
l_int|0
)paren
suffix:semicolon
id|i
op_add_assign
l_int|2
suffix:semicolon
)brace
r_else
(brace
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|5
)paren
op_or
l_int|0x1
op_or
(paren
id|p
ques
c_cond
l_int|0x10
suffix:colon
l_int|0x0
)paren
suffix:semicolon
id|i
op_add_assign
l_int|1
suffix:semicolon
)brace
id|ibh2-&gt;datasize
op_assign
id|i
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh2
)paren
suffix:semicolon
id|noRR
suffix:colon
)brace
)brace
r_else
(brace
multiline_comment|/* n(s)!=v(r) */
id|wasok
op_assign
l_int|0
suffix:semicolon
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.rejexp
)paren
(brace
r_if
c_cond
(paren
id|p
)paren
r_goto
id|label8_1
suffix:semicolon
)brace
r_else
(brace
id|st-&gt;l2.rejexp
op_assign
op_logical_neg
l_int|0
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|BufPoolGet
c_func
(paren
op_amp
id|ibh2
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|14
)paren
)paren
(brace
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
(paren
id|st-&gt;l2
)paren
comma
id|ibh2
comma
id|p
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh2
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;extended
)paren
(brace
op_star
id|ptr
op_increment
op_assign
l_int|0x9
suffix:semicolon
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|1
)paren
op_or
(paren
id|p
ques
c_cond
l_int|1
suffix:colon
l_int|0
)paren
suffix:semicolon
id|i
op_add_assign
l_int|2
suffix:semicolon
)brace
r_else
(brace
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|5
)paren
op_or
l_int|0x9
op_or
(paren
id|p
ques
c_cond
l_int|0x10
suffix:colon
l_int|0x0
)paren
suffix:semicolon
id|i
op_add_assign
l_int|1
suffix:semicolon
)brace
id|ibh2-&gt;datasize
op_assign
id|i
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh2
)paren
suffix:semicolon
)brace
)brace
)brace
r_if
c_cond
(paren
id|legalnr
c_func
(paren
id|st
comma
id|nr
)paren
)paren
r_if
c_cond
(paren
id|nr
op_eq
id|st-&gt;l2.vs
)paren
(brace
id|setva
c_func
(paren
id|st
comma
id|nr
)paren
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|10
)paren
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
l_int|0
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
l_int|11
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
id|st-&gt;l2.t203
comma
id|EV_L2_T203
comma
l_int|NULL
comma
l_int|7
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 5&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.i_queue.head
)paren
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_REQUEST_PULL
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|nr
op_ne
id|st-&gt;l2.va
)paren
(brace
id|setva
c_func
(paren
id|st
comma
id|nr
)paren
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|12
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
id|st-&gt;l2.t200
comma
id|EV_L2_T200
comma
l_int|NULL
comma
l_int|8
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 6&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.i_queue.head
)paren
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_REQUEST_PULL
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|wasok
)paren
id|st-&gt;l2
dot
id|l2l3
c_func
(paren
id|st
comma
id|DL_DATA
comma
id|ibh
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s17
id|l2s17
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
id|st-&gt;l2.tei
op_assign
(paren
r_int
)paren
id|arg
suffix:semicolon
id|establishlink
c_func
(paren
id|fi
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|enquiry_response
id|enquiry_response
c_func
(paren
r_struct
id|PStack
op_star
id|st
)paren
(brace
r_struct
id|BufHeader
op_star
id|ibh2
suffix:semicolon
r_int
id|i
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_struct
id|Layer2
op_star
id|l2
suffix:semicolon
id|l2
op_assign
op_amp
id|st-&gt;l2
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|BufPoolGet
c_func
(paren
op_amp
id|ibh2
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|16
)paren
)paren
(brace
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
(paren
id|st-&gt;l2
)paren
comma
id|ibh2
comma
op_logical_neg
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh2
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;extended
)paren
(brace
op_star
id|ptr
op_increment
op_assign
l_int|0x1
suffix:semicolon
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|1
)paren
op_or
l_int|0x1
suffix:semicolon
id|i
op_add_assign
l_int|2
suffix:semicolon
)brace
r_else
(brace
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|5
)paren
op_or
l_int|0x1
op_or
l_int|0x10
suffix:semicolon
id|i
op_add_assign
l_int|1
suffix:semicolon
)brace
id|ibh2-&gt;datasize
op_assign
id|i
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh2
)paren
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|invoke_retransmission
id|invoke_retransmission
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_int
id|nr
)paren
(brace
r_struct
id|Layer2
op_star
id|l2
op_assign
op_amp
id|st-&gt;l2
suffix:semicolon
r_int
id|p1
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;vs
op_ne
id|nr
)paren
(brace
r_while
c_loop
(paren
id|l2-&gt;vs
op_ne
id|nr
)paren
(brace
id|l2-&gt;vs
op_assign
id|l2-&gt;vs
op_minus
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;vs
OL
l_int|0
)paren
id|l2-&gt;vs
op_add_assign
id|l2-&gt;extended
ques
c_cond
l_int|128
suffix:colon
l_int|8
suffix:semicolon
id|p1
op_assign
id|l2-&gt;vs
op_minus
id|l2-&gt;va
suffix:semicolon
r_if
c_cond
(paren
id|p1
OL
l_int|0
)paren
id|p1
op_add_assign
id|l2-&gt;extended
ques
c_cond
l_int|128
suffix:colon
l_int|8
suffix:semicolon
id|p1
op_assign
(paren
id|p1
op_plus
id|l2-&gt;sow
)paren
op_mod
id|l2-&gt;window
suffix:semicolon
id|BufQueueLinkFront
c_func
(paren
op_amp
id|l2-&gt;i_queue
comma
id|l2-&gt;windowar
(braket
id|p1
)braket
)paren
suffix:semicolon
)brace
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_REQUEST_PULL
comma
l_int|NULL
)paren
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|l2s16
id|l2s16
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
r_int
id|p
comma
id|seq
comma
id|rsp
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_struct
id|Layer2
op_star
id|l2
suffix:semicolon
id|l2
op_assign
op_amp
(paren
id|st-&gt;l2
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;laptype
op_eq
id|LAPD
)paren
(brace
id|rsp
op_assign
id|ptr
(braket
l_int|0
)braket
op_amp
l_int|0x2
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;orig
)paren
id|rsp
op_assign
op_logical_neg
id|rsp
suffix:semicolon
)brace
r_else
(brace
id|rsp
op_assign
id|ptr
(braket
l_int|0
)braket
op_eq
l_int|0x3
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;orig
)paren
id|rsp
op_assign
op_logical_neg
id|rsp
suffix:semicolon
)brace
id|ptr
op_add_assign
id|l2addrsize
c_func
(paren
id|l2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;extended
)paren
(brace
id|p
op_assign
(paren
id|ptr
(braket
l_int|1
)braket
op_amp
l_int|0x1
)paren
op_eq
l_int|0x1
suffix:semicolon
id|seq
op_assign
id|ptr
(braket
l_int|1
)braket
op_rshift
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|p
op_assign
(paren
id|ptr
(braket
l_int|0
)braket
op_amp
l_int|0x10
)paren
suffix:semicolon
id|seq
op_assign
(paren
id|ptr
(braket
l_int|0
)braket
op_rshift
l_int|5
)paren
op_amp
l_int|0x7
suffix:semicolon
)brace
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
op_logical_neg
id|rsp
)paren
op_logical_and
id|p
)paren
id|enquiry_response
c_func
(paren
id|st
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|legalnr
c_func
(paren
id|st
comma
id|seq
)paren
)paren
r_return
suffix:semicolon
id|setva
c_func
(paren
id|st
comma
id|seq
)paren
suffix:semicolon
id|invoke_retransmission
c_func
(paren
id|st
comma
id|seq
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s19
id|l2s19
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_4
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s20
id|l2s20
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_int
id|i
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.rc
op_eq
id|st-&gt;l2.n200
)paren
(brace
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_4
)paren
suffix:semicolon
id|st-&gt;l2
dot
id|l2man
c_func
(paren
id|st
comma
id|DL_RELEASE
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_else
(brace
id|st-&gt;l2.rc
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
id|st-&gt;l2.t200
comma
id|EV_L2_T200
comma
l_int|NULL
comma
l_int|9
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 7&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|BufPoolGet
c_func
(paren
op_amp
id|ibh
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|15
)paren
)paren
r_return
suffix:semicolon
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
id|st-&gt;l2
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.extended
)paren
op_star
id|ptr
op_assign
l_int|0x7f
suffix:semicolon
r_else
op_star
id|ptr
op_assign
l_int|0x3f
suffix:semicolon
id|ibh-&gt;datasize
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|l2s21
id|l2s21
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|Channel
op_star
id|chanp
op_assign
id|st-&gt;l4.userdata
suffix:semicolon
r_int
id|i
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.rc
op_eq
id|st-&gt;l2.n200
)paren
(brace
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_4
)paren
suffix:semicolon
id|st-&gt;l2
dot
id|l2man
c_func
(paren
id|st
comma
id|DL_RELEASE
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_else
(brace
id|st-&gt;l2.rc
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
id|st-&gt;l2.t200
comma
id|EV_L2_T200
comma
l_int|NULL
comma
l_int|10
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 8&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|chanp-&gt;impair
op_eq
l_int|2
)paren
op_logical_and
(paren
id|st-&gt;l2.laptype
op_eq
id|LAPB
)paren
)paren
r_goto
id|nodisc
suffix:semicolon
r_if
c_cond
(paren
id|BufPoolGet
c_func
(paren
op_amp
id|ibh
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|15
)paren
)paren
r_return
suffix:semicolon
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
id|st-&gt;l2
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
op_star
id|ptr
op_assign
l_int|0x53
suffix:semicolon
id|ibh-&gt;datasize
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
id|nodisc
suffix:colon
)brace
)brace
r_static
r_void
DECL|function|l2s22
id|l2s22
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
suffix:semicolon
r_struct
id|Layer2
op_star
id|l2
op_assign
op_amp
id|st-&gt;l2
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_int
id|p1
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|cansend
c_func
(paren
id|st
)paren
)paren
r_return
suffix:semicolon
r_if
c_cond
(paren
id|BufQueueUnlink
c_func
(paren
op_amp
id|ibh
comma
op_amp
id|l2-&gt;i_queue
)paren
)paren
r_return
suffix:semicolon
id|p1
op_assign
id|l2-&gt;vs
op_minus
id|l2-&gt;va
suffix:semicolon
r_if
c_cond
(paren
id|p1
OL
l_int|0
)paren
id|p1
op_add_assign
id|l2-&gt;extended
ques
c_cond
l_int|128
suffix:colon
l_int|8
suffix:semicolon
id|p1
op_assign
(paren
id|p1
op_plus
id|l2-&gt;sow
)paren
op_mod
id|l2-&gt;window
suffix:semicolon
id|l2-&gt;windowar
(braket
id|p1
)braket
op_assign
id|ibh
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|l2addrsize
c_func
(paren
id|l2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;extended
)paren
(brace
op_star
id|ptr
op_increment
op_assign
id|l2-&gt;vs
op_lshift
l_int|1
suffix:semicolon
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|1
)paren
op_or
l_int|0x1
suffix:semicolon
id|l2-&gt;vs
op_assign
(paren
id|l2-&gt;vs
op_plus
l_int|1
)paren
op_mod
l_int|128
suffix:semicolon
)brace
r_else
(brace
op_star
id|ptr
op_increment
op_assign
(paren
id|l2-&gt;vr
op_lshift
l_int|5
)paren
op_or
(paren
id|l2-&gt;vs
op_lshift
l_int|1
)paren
op_or
l_int|0x10
suffix:semicolon
id|l2-&gt;vs
op_assign
(paren
id|l2-&gt;vs
op_plus
l_int|1
)paren
op_mod
l_int|8
suffix:semicolon
)brace
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_DATA_PULLED
comma
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|st-&gt;l2.t200_running
)paren
(brace
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
l_int|13
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
id|st-&gt;l2.t200
comma
id|EV_L2_T200
comma
l_int|NULL
comma
l_int|11
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 9&quot;
)paren
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
op_logical_neg
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|l2-&gt;i_queue.head
op_logical_and
id|cansend
c_func
(paren
id|st
)paren
)paren
id|st-&gt;l2
dot
id|l2l1
c_func
(paren
id|st
comma
id|PH_REQUEST_PULL
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|transmit_enquiry
id|transmit_enquiry
c_func
(paren
r_struct
id|PStack
op_star
id|st
)paren
(brace
r_struct
id|BufHeader
op_star
id|ibh
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|BufPoolGet
c_func
(paren
op_amp
id|ibh
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|12
)paren
)paren
(brace
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|sethdraddr
c_func
(paren
op_amp
id|st-&gt;l2
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.extended
)paren
(brace
op_star
id|ptr
op_increment
op_assign
l_int|0x1
suffix:semicolon
op_star
id|ptr
op_increment
op_assign
(paren
id|st-&gt;l2.vr
op_lshift
l_int|1
)paren
op_or
l_int|1
suffix:semicolon
)brace
r_else
(brace
op_star
id|ptr
op_increment
op_assign
(paren
id|st-&gt;l2.vr
op_lshift
l_int|5
)paren
op_or
l_int|0x11
suffix:semicolon
)brace
id|ibh-&gt;datasize
op_assign
id|ptr
op_minus
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
id|st-&gt;l2.t200
comma
id|EV_L2_T200
comma
l_int|NULL
comma
l_int|12
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 10&quot;
)paren
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
op_logical_neg
l_int|0
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|l2s23
id|l2s23
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.rc
op_assign
l_int|1
suffix:semicolon
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_8
)paren
suffix:semicolon
id|transmit_enquiry
c_func
(paren
id|st
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s24
id|l2s24
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
r_int
id|p
comma
id|seq
comma
id|rsp
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_struct
id|Layer2
op_star
id|l2
suffix:semicolon
id|l2
op_assign
op_amp
id|st-&gt;l2
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;laptype
op_eq
id|LAPD
)paren
(brace
id|rsp
op_assign
id|ptr
(braket
l_int|0
)braket
op_amp
l_int|0x2
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;orig
)paren
id|rsp
op_assign
op_logical_neg
id|rsp
suffix:semicolon
)brace
r_else
(brace
id|rsp
op_assign
id|ptr
(braket
l_int|0
)braket
op_eq
l_int|0x3
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;orig
)paren
id|rsp
op_assign
op_logical_neg
id|rsp
suffix:semicolon
)brace
id|ptr
op_add_assign
id|l2addrsize
c_func
(paren
id|l2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|l2-&gt;extended
)paren
(brace
id|p
op_assign
(paren
id|ptr
(braket
l_int|1
)braket
op_amp
l_int|0x1
)paren
op_eq
l_int|0x1
suffix:semicolon
id|seq
op_assign
id|ptr
(braket
l_int|1
)braket
op_rshift
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|p
op_assign
(paren
id|ptr
(braket
l_int|0
)braket
op_amp
l_int|0x10
)paren
suffix:semicolon
id|seq
op_assign
(paren
id|ptr
(braket
l_int|0
)braket
op_rshift
l_int|5
)paren
op_amp
l_int|0x7
suffix:semicolon
)brace
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rsp
op_logical_and
id|p
)paren
(brace
r_if
c_cond
(paren
id|legalnr
c_func
(paren
id|st
comma
id|seq
)paren
)paren
(brace
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_7
)paren
suffix:semicolon
id|setva
c_func
(paren
id|st
comma
id|seq
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.t200_running
)paren
(brace
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|14
)paren
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
id|st-&gt;l2.t203
comma
id|EV_L2_T203
comma
l_int|NULL
comma
l_int|13
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 11&quot;
)paren
suffix:semicolon
id|invoke_retransmission
c_func
(paren
id|st
comma
id|seq
)paren
suffix:semicolon
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
op_logical_neg
id|rsp
op_logical_and
id|p
)paren
id|enquiry_response
c_func
(paren
id|st
)paren
suffix:semicolon
r_if
c_cond
(paren
id|legalnr
c_func
(paren
id|st
comma
id|seq
)paren
)paren
(brace
id|setva
c_func
(paren
id|st
comma
id|seq
)paren
suffix:semicolon
)brace
)brace
)brace
r_static
r_void
DECL|function|l2s25
id|l2s25
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
id|st-&gt;l2.rc
op_assign
l_int|0
suffix:semicolon
id|FsmChangeState
c_func
(paren
id|fi
comma
id|ST_L2_8
)paren
suffix:semicolon
id|transmit_enquiry
c_func
(paren
id|st
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s26
id|l2s26
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.rc
op_eq
id|st-&gt;l2.n200
)paren
(brace
id|l2s13
c_func
(paren
id|fi
comma
id|event
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_else
(brace
id|st-&gt;l2.rc
op_increment
suffix:semicolon
id|transmit_enquiry
c_func
(paren
id|st
)paren
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|l2s27
id|l2s27
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_int
id|i
comma
id|p
comma
id|est
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|l2addrsize
c_func
(paren
op_amp
id|st-&gt;l2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.extended
)paren
id|p
op_assign
id|ptr
(braket
l_int|1
)braket
op_amp
l_int|0x1
suffix:semicolon
r_else
id|p
op_assign
id|ptr
(braket
l_int|0
)braket
op_amp
l_int|0x10
suffix:semicolon
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|BufPoolGet
c_func
(paren
op_amp
id|ibh
comma
id|st-&gt;l1.smallpool
comma
id|GFP_ATOMIC
comma
(paren
r_void
op_star
)paren
id|st
comma
l_int|10
)paren
)paren
r_return
suffix:semicolon
id|i
op_assign
id|sethdraddr
c_func
(paren
op_amp
id|st-&gt;l2
comma
id|ibh
comma
l_int|0
)paren
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|i
suffix:semicolon
op_star
id|ptr
op_assign
l_int|0x63
op_or
id|p
suffix:semicolon
id|ibh-&gt;datasize
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
id|enqueue_super
c_func
(paren
id|st
comma
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.vs
op_ne
id|st-&gt;l2.va
)paren
(brace
id|discard_i_queue
c_func
(paren
id|st
)paren
suffix:semicolon
id|est
op_assign
op_logical_neg
l_int|0
suffix:semicolon
)brace
r_else
id|est
op_assign
l_int|0
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|15
)paren
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|FsmAddTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
id|st-&gt;l2.t203
comma
id|EV_L2_T203
comma
l_int|NULL
comma
l_int|3
)paren
)paren
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
l_string|&quot;FAT 12&quot;
)paren
suffix:semicolon
id|st-&gt;l2.vs
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.va
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.vr
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.sow
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|est
)paren
id|st-&gt;l2
dot
id|l2man
c_func
(paren
id|st
comma
id|DL_ESTABLISH
comma
l_int|NULL
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2s28
id|l2s28
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_int
id|event
comma
r_void
op_star
id|arg
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_struct
id|BufHeader
op_star
id|ibh
op_assign
id|arg
suffix:semicolon
id|byte
op_star
id|ptr
suffix:semicolon
r_char
id|tmp
(braket
l_int|64
)braket
suffix:semicolon
id|ptr
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|ptr
op_add_assign
id|l2addrsize
c_func
(paren
op_amp
id|st-&gt;l2
)paren
suffix:semicolon
id|ptr
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|st-&gt;l2.l2m.debug
)paren
(brace
r_if
c_cond
(paren
id|st-&gt;l2.extended
)paren
id|sprintf
c_func
(paren
id|tmp
comma
l_string|&quot;FRMR information %2x %2x %2x %2x %2x&quot;
comma
id|ptr
(braket
l_int|0
)braket
comma
id|ptr
(braket
l_int|1
)braket
comma
id|ptr
(braket
l_int|2
)braket
comma
id|ptr
(braket
l_int|3
)braket
comma
id|ptr
(braket
l_int|4
)braket
)paren
suffix:semicolon
r_else
id|sprintf
c_func
(paren
id|tmp
comma
l_string|&quot;FRMR information %2x %2x %2x&quot;
comma
id|ptr
(braket
l_int|0
)braket
comma
id|ptr
(braket
l_int|1
)braket
comma
id|ptr
(braket
l_int|2
)braket
)paren
suffix:semicolon
id|l2m_debug
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|tmp
)paren
suffix:semicolon
)brace
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|IsUI
id|IsUI
c_func
(paren
id|byte
op_star
id|data
comma
r_int
id|ext
)paren
(brace
r_return
(paren
(paren
id|data
(braket
l_int|0
)braket
op_amp
l_int|0xef
)paren
op_eq
l_int|0x3
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|IsUA
id|IsUA
c_func
(paren
id|byte
op_star
id|data
comma
r_int
id|ext
)paren
(brace
r_return
(paren
(paren
id|data
(braket
l_int|0
)braket
op_amp
l_int|0xef
)paren
op_eq
l_int|0x63
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|IsDISC
id|IsDISC
c_func
(paren
id|byte
op_star
id|data
comma
r_int
id|ext
)paren
(brace
r_return
(paren
(paren
id|data
(braket
l_int|0
)braket
op_amp
l_int|0xef
)paren
op_eq
l_int|0x43
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|IsRR
id|IsRR
c_func
(paren
id|byte
op_star
id|data
comma
r_int
id|ext
)paren
(brace
r_if
c_cond
(paren
id|ext
)paren
r_return
(paren
id|data
(braket
l_int|0
)braket
op_eq
l_int|0x1
)paren
suffix:semicolon
r_else
r_return
(paren
(paren
id|data
(braket
l_int|0
)braket
op_amp
l_int|0xf
)paren
op_eq
l_int|1
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|IsI
id|IsI
c_func
(paren
id|byte
op_star
id|data
comma
r_int
id|ext
)paren
(brace
r_return
(paren
(paren
id|data
(braket
l_int|0
)braket
op_amp
l_int|0x1
)paren
op_eq
l_int|0x0
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|IsSABMX
id|IsSABMX
c_func
(paren
id|byte
op_star
id|data
comma
r_int
id|ext
)paren
(brace
r_return
(paren
id|ext
ques
c_cond
id|data
(braket
l_int|0
)braket
op_eq
l_int|0x7f
suffix:colon
id|data
(braket
l_int|0
)braket
op_eq
l_int|0x3f
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|IsREJ
id|IsREJ
c_func
(paren
id|byte
op_star
id|data
comma
r_int
id|ext
)paren
(brace
r_return
(paren
id|ext
ques
c_cond
id|data
(braket
l_int|0
)braket
op_eq
l_int|0x9
suffix:colon
(paren
id|data
(braket
l_int|0
)braket
op_amp
l_int|0xf
)paren
op_eq
l_int|0x9
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|IsFRMR
id|IsFRMR
c_func
(paren
id|byte
op_star
id|data
comma
r_int
id|ext
)paren
(brace
r_return
(paren
(paren
id|data
(braket
l_int|0
)braket
op_amp
l_int|0xef
)paren
op_eq
l_int|0x87
)paren
suffix:semicolon
)brace
r_static
r_int
DECL|function|IsRNR
id|IsRNR
c_func
(paren
id|byte
op_star
id|data
comma
r_int
id|ext
)paren
(brace
r_if
c_cond
(paren
id|ext
)paren
r_return
(paren
id|data
(braket
l_int|0
)braket
op_eq
l_int|0x5
)paren
suffix:semicolon
r_else
r_return
(paren
(paren
id|data
(braket
l_int|0
)braket
op_amp
l_int|0xf
)paren
op_eq
l_int|5
)paren
suffix:semicolon
)brace
DECL|variable|L2FnList
r_static
r_struct
id|FsmNode
id|L2FnList
(braket
)braket
op_assign
(brace
(brace
id|ST_L2_1
comma
id|EV_L2_DL_ESTABLISH
comma
id|l2s1
)brace
comma
(brace
id|ST_L2_1
comma
id|EV_L2_MDL_NOTEIPROC
comma
id|l2s19
)brace
comma
(brace
id|ST_L2_3
comma
id|EV_L2_MDL_ASSIGN
comma
id|l2s17
)brace
comma
(brace
id|ST_L2_4
comma
id|EV_L2_DL_UNIT_DATA
comma
id|l2s2
)brace
comma
(brace
id|ST_L2_4
comma
id|EV_L2_DL_ESTABLISH
comma
id|l2s11
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_DL_UNIT_DATA
comma
id|l2s2
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_DL_DATA
comma
id|l2s7
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_DL_RELEASE
comma
id|l2s13
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_ACK_PULL
comma
id|l2s22
)brace
comma
(brace
id|ST_L2_8
comma
id|EV_L2_DL_RELEASE
comma
id|l2s13
)brace
comma
(brace
id|ST_L2_1
comma
id|EV_L2_UI
comma
id|l2s3
)brace
comma
(brace
id|ST_L2_4
comma
id|EV_L2_UI
comma
id|l2s3
)brace
comma
(brace
id|ST_L2_4
comma
id|EV_L2_SABMX
comma
id|l2s12
)brace
comma
(brace
id|ST_L2_5
comma
id|EV_L2_UA
comma
id|l2s5
)brace
comma
(brace
id|ST_L2_6
comma
id|EV_L2_UA
comma
id|l2s15
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_UI
comma
id|l2s3
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_DISC
comma
id|l2s14
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_I
comma
id|l2s8
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_RR
comma
id|l2s6
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_REJ
comma
id|l2s16
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_SABMX
comma
id|l2s27
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_FRMR
comma
id|l2s28
)brace
comma
(brace
id|ST_L2_8
comma
id|EV_L2_RR
comma
id|l2s24
)brace
comma
(brace
id|ST_L2_8
comma
id|EV_L2_DISC
comma
id|l2s14
)brace
comma
(brace
id|ST_L2_8
comma
id|EV_L2_FRMR
comma
id|l2s28
)brace
comma
(brace
id|ST_L2_5
comma
id|EV_L2_T200
comma
id|l2s20
)brace
comma
(brace
id|ST_L2_6
comma
id|EV_L2_T200
comma
id|l2s21
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_T200
comma
id|l2s23
)brace
comma
(brace
id|ST_L2_7
comma
id|EV_L2_T203
comma
id|l2s25
)brace
comma
(brace
id|ST_L2_8
comma
id|EV_L2_T200
comma
id|l2s26
)brace
comma
)brace
suffix:semicolon
DECL|macro|L2_FN_COUNT
mdefine_line|#define L2_FN_COUNT (sizeof(L2FnList)/sizeof(struct FsmNode))
r_static
r_void
DECL|function|isdnl2_l1l2
id|isdnl2_l1l2
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_int
id|pr
comma
r_struct
id|BufHeader
op_star
id|arg
)paren
(brace
r_struct
id|BufHeader
op_star
id|ibh
suffix:semicolon
id|byte
op_star
id|datap
suffix:semicolon
r_int
id|ret
op_assign
op_logical_neg
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|pr
)paren
(brace
r_case
(paren
id|PH_DATA
)paren
suffix:colon
id|ibh
op_assign
id|arg
suffix:semicolon
id|datap
op_assign
id|DATAPTR
c_func
(paren
id|ibh
)paren
suffix:semicolon
id|datap
op_add_assign
id|l2addrsize
c_func
(paren
op_amp
id|st-&gt;l2
)paren
suffix:semicolon
r_if
c_cond
(paren
id|IsI
c_func
(paren
id|datap
comma
id|st-&gt;l2.extended
)paren
)paren
id|ret
op_assign
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_I
comma
id|ibh
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|IsRR
c_func
(paren
id|datap
comma
id|st-&gt;l2.extended
)paren
)paren
id|ret
op_assign
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_RR
comma
id|ibh
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|IsUI
c_func
(paren
id|datap
comma
id|st-&gt;l2.extended
)paren
)paren
id|ret
op_assign
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_UI
comma
id|ibh
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|IsSABMX
c_func
(paren
id|datap
comma
id|st-&gt;l2.extended
)paren
)paren
id|ret
op_assign
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_SABMX
comma
id|ibh
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|IsUA
c_func
(paren
id|datap
comma
id|st-&gt;l2.extended
)paren
)paren
id|ret
op_assign
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_UA
comma
id|ibh
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|IsDISC
c_func
(paren
id|datap
comma
id|st-&gt;l2.extended
)paren
)paren
id|ret
op_assign
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_DISC
comma
id|ibh
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|IsREJ
c_func
(paren
id|datap
comma
id|st-&gt;l2.extended
)paren
)paren
id|ret
op_assign
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_REJ
comma
id|ibh
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|IsFRMR
c_func
(paren
id|datap
comma
id|st-&gt;l2.extended
)paren
)paren
id|ret
op_assign
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_FRMR
comma
id|ibh
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|IsRNR
c_func
(paren
id|datap
comma
id|st-&gt;l2.extended
)paren
)paren
id|ret
op_assign
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_RNR
comma
id|ibh
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ret
)paren
id|BufPoolRelease
c_func
(paren
id|ibh
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
(paren
id|PH_PULL_ACK
)paren
suffix:colon
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_ACK_PULL
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|isdnl2_l3l2
id|isdnl2_l3l2
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_int
id|pr
comma
r_void
op_star
id|arg
)paren
(brace
r_switch
c_cond
(paren
id|pr
)paren
(brace
r_case
(paren
id|DL_DATA
)paren
suffix:colon
r_if
c_cond
(paren
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_DL_DATA
comma
id|arg
)paren
)paren
id|BufPoolRelease
c_func
(paren
(paren
r_struct
id|BufHeader
op_star
)paren
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
(paren
id|DL_UNIT_DATA
)paren
suffix:colon
r_if
c_cond
(paren
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_DL_UNIT_DATA
comma
id|arg
)paren
)paren
id|BufPoolRelease
c_func
(paren
(paren
r_struct
id|BufHeader
op_star
)paren
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|isdnl2_manl2
id|isdnl2_manl2
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_int
id|pr
comma
r_void
op_star
id|arg
)paren
(brace
r_switch
c_cond
(paren
id|pr
)paren
(brace
r_case
(paren
id|DL_ESTABLISH
)paren
suffix:colon
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_DL_ESTABLISH
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
(paren
id|DL_RELEASE
)paren
suffix:colon
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_DL_RELEASE
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
(paren
id|MDL_NOTEIPROC
)paren
suffix:colon
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_MDL_NOTEIPROC
comma
l_int|NULL
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_static
r_void
DECL|function|isdnl2_teil2
id|isdnl2_teil2
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_int
id|pr
comma
r_void
op_star
id|arg
)paren
(brace
r_switch
c_cond
(paren
id|pr
)paren
(brace
r_case
(paren
id|MDL_ASSIGN
)paren
suffix:colon
id|FsmEvent
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
id|EV_L2_MDL_ASSIGN
comma
id|arg
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
r_void
DECL|function|releasestack_isdnl2
id|releasestack_isdnl2
c_func
(paren
r_struct
id|PStack
op_star
id|st
)paren
(brace
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t200_timer
comma
l_int|15
)paren
suffix:semicolon
id|FsmDelTimer
c_func
(paren
op_amp
id|st-&gt;l2.t203_timer
comma
l_int|16
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|l2m_debug
id|l2m_debug
c_func
(paren
r_struct
id|FsmInst
op_star
id|fi
comma
r_char
op_star
id|s
)paren
(brace
r_struct
id|PStack
op_star
id|st
op_assign
id|fi-&gt;userdata
suffix:semicolon
r_char
id|tm
(braket
l_int|32
)braket
comma
id|str
(braket
l_int|256
)braket
suffix:semicolon
id|jiftime
c_func
(paren
id|tm
comma
id|jiffies
)paren
suffix:semicolon
id|sprintf
c_func
(paren
id|str
comma
l_string|&quot;%s %s %s&bslash;n&quot;
comma
id|tm
comma
id|st-&gt;l2.debug_id
comma
id|s
)paren
suffix:semicolon
id|teles_putstatus
c_func
(paren
id|str
)paren
suffix:semicolon
)brace
r_void
DECL|function|setstack_isdnl2
id|setstack_isdnl2
c_func
(paren
r_struct
id|PStack
op_star
id|st
comma
r_char
op_star
id|debug_id
)paren
(brace
id|st-&gt;l1.l1l2
op_assign
id|isdnl2_l1l2
suffix:semicolon
id|st-&gt;l3.l3l2
op_assign
id|isdnl2_l3l2
suffix:semicolon
id|st-&gt;ma.manl2
op_assign
id|isdnl2_manl2
suffix:semicolon
id|st-&gt;ma.teil2
op_assign
id|isdnl2_teil2
suffix:semicolon
id|st-&gt;l2.uihsize
op_assign
id|l2headersize
c_func
(paren
op_amp
id|st-&gt;l2
comma
op_logical_neg
l_int|0
)paren
suffix:semicolon
id|st-&gt;l2.ihsize
op_assign
id|l2headersize
c_func
(paren
op_amp
id|st-&gt;l2
comma
l_int|0
)paren
suffix:semicolon
id|BufQueueInit
c_func
(paren
op_amp
(paren
id|st-&gt;l2.i_queue
)paren
)paren
suffix:semicolon
id|st-&gt;l2.rejexp
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.debug
op_assign
l_int|1
suffix:semicolon
id|st-&gt;l2.l2m.fsm
op_assign
op_amp
id|l2fsm
suffix:semicolon
id|st-&gt;l2.l2m.state
op_assign
id|ST_L2_1
suffix:semicolon
id|st-&gt;l2.l2m.debug
op_assign
l_int|0
suffix:semicolon
id|st-&gt;l2.l2m.userdata
op_assign
id|st
suffix:semicolon
id|st-&gt;l2.l2m.printdebug
op_assign
id|l2m_debug
suffix:semicolon
id|strcpy
c_func
(paren
id|st-&gt;l2.debug_id
comma
id|debug_id
)paren
suffix:semicolon
id|FsmInitTimer
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
op_amp
id|st-&gt;l2.t200_timer
)paren
suffix:semicolon
id|FsmInitTimer
c_func
(paren
op_amp
id|st-&gt;l2.l2m
comma
op_amp
id|st-&gt;l2.t203_timer
)paren
suffix:semicolon
id|st-&gt;l2.t200_running
op_assign
l_int|0
suffix:semicolon
)brace
r_void
DECL|function|setstack_transl2
id|setstack_transl2
c_func
(paren
r_struct
id|PStack
op_star
id|st
)paren
(brace
)brace
r_void
DECL|function|releasestack_transl2
id|releasestack_transl2
c_func
(paren
r_struct
id|PStack
op_star
id|st
)paren
(brace
)brace
r_void
DECL|function|Isdnl2New
id|Isdnl2New
c_func
(paren
r_void
)paren
(brace
id|l2fsm.state_count
op_assign
id|L2_STATE_COUNT
suffix:semicolon
id|l2fsm.event_count
op_assign
id|L2_EVENT_COUNT
suffix:semicolon
id|l2fsm.strEvent
op_assign
id|strL2Event
suffix:semicolon
id|l2fsm.strState
op_assign
id|strL2State
suffix:semicolon
id|FsmNew
c_func
(paren
op_amp
id|l2fsm
comma
id|L2FnList
comma
id|L2_FN_COUNT
)paren
suffix:semicolon
)brace
r_void
DECL|function|Isdnl2Free
id|Isdnl2Free
c_func
(paren
r_void
)paren
(brace
id|FsmFree
c_func
(paren
op_amp
id|l2fsm
)paren
suffix:semicolon
)brace
eof
