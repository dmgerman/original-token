multiline_comment|/******************************************************************************&n; *&n; *&t;(C)Copyright 1998,1999 SysKonnect,&n; *&t;a business unit of Schneider &amp; Koch &amp; Co. Datensysteme GmbH.&n; *&n; *&t;See the file &quot;skfddi.c&quot; for further information.&n; *&n; *&t;This program is free software; you can redistribute it and/or modify&n; *&t;it under the terms of the GNU General Public License as published by&n; *&t;the Free Software Foundation; either version 2 of the License, or&n; *&t;(at your option) any later version.&n; *&n; *&t;The information in this file is provided &quot;AS IS&quot; without warranty.&n; *&n; ******************************************************************************/
multiline_comment|/*&n;&t;Parameter Management Frame processing for SMT 7.2&n;*/
macro_line|#include &quot;h/types.h&quot;
macro_line|#include &quot;h/fddi.h&quot;
macro_line|#include &quot;h/smc.h&quot;
macro_line|#include &quot;h/smt_p.h&quot;
DECL|macro|KERNEL
mdefine_line|#define KERNEL
macro_line|#include &quot;h/smtstate.h&quot;
macro_line|#ifndef&t;SLIM_SMT
macro_line|#ifndef&t;lint
DECL|variable|ID_sccs
r_static
r_const
r_char
id|ID_sccs
(braket
)braket
op_assign
l_string|&quot;@(#)pmf.c&t;1.37 97/08/04 (C) SK &quot;
suffix:semicolon
macro_line|#endif
r_static
r_int
id|smt_authorize
c_func
(paren
)paren
suffix:semicolon
r_static
r_int
id|smt_check_set_count
c_func
(paren
)paren
suffix:semicolon
r_static
r_const
r_struct
id|s_p_tab
op_star
id|smt_get_ptab
c_func
(paren
)paren
suffix:semicolon
r_static
r_int
id|smt_mib_phys
c_func
(paren
)paren
suffix:semicolon
r_int
id|smt_set_para
c_func
(paren
)paren
suffix:semicolon
r_void
id|smt_add_para
c_func
(paren
)paren
suffix:semicolon
DECL|macro|MOFFSS
mdefine_line|#define MOFFSS(e)&t;((int)&amp;(((struct fddi_mib *)0)-&gt;e))
DECL|macro|MOFFSA
mdefine_line|#define MOFFSA(e)&t;((int) (((struct fddi_mib *)0)-&gt;e))
DECL|macro|MOFFMS
mdefine_line|#define MOFFMS(e)&t;((int)&amp;(((struct fddi_mib_m *)0)-&gt;e))
DECL|macro|MOFFMA
mdefine_line|#define MOFFMA(e)&t;((int) (((struct fddi_mib_m *)0)-&gt;e))
DECL|macro|MOFFAS
mdefine_line|#define MOFFAS(e)&t;((int)&amp;(((struct fddi_mib_a *)0)-&gt;e))
DECL|macro|MOFFAA
mdefine_line|#define MOFFAA(e)&t;((int) (((struct fddi_mib_a *)0)-&gt;e))
DECL|macro|MOFFPS
mdefine_line|#define MOFFPS(e)&t;((int)&amp;(((struct fddi_mib_p *)0)-&gt;e))
DECL|macro|MOFFPA
mdefine_line|#define MOFFPA(e)&t;((int) (((struct fddi_mib_p *)0)-&gt;e))
DECL|macro|AC_G
mdefine_line|#define AC_G&t;0x01&t;&t;/* Get */
DECL|macro|AC_GR
mdefine_line|#define AC_GR&t;0x02&t;&t;/* Get/Set */
DECL|macro|AC_S
mdefine_line|#define AC_S&t;0x04&t;&t;/* Set */
DECL|macro|AC_NA
mdefine_line|#define AC_NA&t;0x08
DECL|macro|AC_GROUP
mdefine_line|#define AC_GROUP&t;0x10&t;&t;/* Group */
DECL|macro|MS2BCLK
mdefine_line|#define MS2BCLK(x)&t;((x)*12500L)
multiline_comment|/*&n;&t;F&t;LFag (byte)&n;&t;B&t;byte&n;&t;S&t;u_short&t;16 bit&n;&t;C&t;Counter 32 bit&n;&t;L&t;Long 32 bit&n;&t;T&t;Timer_2&t;32 bit&n;&t;P&t;TimeStamp ;&n;&t;A&t;LongAddress (6 byte)&n;&t;E&t;Enum 16 bit&n;&t;R&t;ResId 16 Bit&n;*/
DECL|struct|s_p_tab
r_static
r_const
r_struct
id|s_p_tab
(brace
DECL|member|p_num
id|u_short
id|p_num
suffix:semicolon
multiline_comment|/* parameter code */
DECL|member|p_access
id|u_char
id|p_access
suffix:semicolon
multiline_comment|/* access rights */
DECL|member|p_offset
id|u_short
id|p_offset
suffix:semicolon
multiline_comment|/* offset in mib */
DECL|member|p_swap
r_char
id|p_swap
(braket
l_int|3
)braket
suffix:semicolon
multiline_comment|/* format string */
DECL|variable|p_tab
)brace
id|p_tab
(braket
)braket
op_assign
(brace
multiline_comment|/* StationIdGrp */
(brace
id|SMT_P100A
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P100B
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTStationId
)paren
comma
l_string|&quot;8&quot;
)brace
comma
(brace
id|SMT_P100D
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTOpVersionId
)paren
comma
l_string|&quot;S&quot;
)brace
comma
(brace
id|SMT_P100E
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTHiVersionId
)paren
comma
l_string|&quot;S&quot;
)brace
comma
(brace
id|SMT_P100F
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTLoVersionId
)paren
comma
l_string|&quot;S&quot;
)brace
comma
(brace
id|SMT_P1010
comma
id|AC_G
comma
id|MOFFSA
c_func
(paren
id|fddiSMTManufacturerData
)paren
comma
l_string|&quot;D&quot;
)brace
comma
(brace
id|SMT_P1011
comma
id|AC_GR
comma
id|MOFFSA
c_func
(paren
id|fddiSMTUserData
)paren
comma
l_string|&quot;D&quot;
)brace
comma
(brace
id|SMT_P1012
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTMIBVersionId
)paren
comma
l_string|&quot;S&quot;
)brace
comma
multiline_comment|/* StationConfigGrp */
(brace
id|SMT_P1014
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P1015
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTMac_Ct
)paren
comma
l_string|&quot;B&quot;
)brace
comma
(brace
id|SMT_P1016
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTNonMaster_Ct
)paren
comma
l_string|&quot;B&quot;
)brace
comma
(brace
id|SMT_P1017
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTMaster_Ct
)paren
comma
l_string|&quot;B&quot;
)brace
comma
(brace
id|SMT_P1018
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTAvailablePaths
)paren
comma
l_string|&quot;B&quot;
)brace
comma
(brace
id|SMT_P1019
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTConfigCapabilities
)paren
comma
l_string|&quot;S&quot;
)brace
comma
(brace
id|SMT_P101A
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiSMTConfigPolicy
)paren
comma
l_string|&quot;wS&quot;
)brace
comma
(brace
id|SMT_P101B
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiSMTConnectionPolicy
)paren
comma
l_string|&quot;wS&quot;
)brace
comma
(brace
id|SMT_P101D
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiSMTTT_Notify
)paren
comma
l_string|&quot;wS&quot;
)brace
comma
(brace
id|SMT_P101E
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiSMTStatRptPolicy
)paren
comma
l_string|&quot;bB&quot;
)brace
comma
(brace
id|SMT_P101F
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiSMTTrace_MaxExpiration
)paren
comma
l_string|&quot;lL&quot;
)brace
comma
(brace
id|SMT_P1020
comma
id|AC_G
comma
id|MOFFSA
c_func
(paren
id|fddiSMTPORTIndexes
)paren
comma
l_string|&quot;II&quot;
)brace
comma
(brace
id|SMT_P1021
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTMACIndexes
)paren
comma
l_string|&quot;I&quot;
)brace
comma
(brace
id|SMT_P1022
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTBypassPresent
)paren
comma
l_string|&quot;F&quot;
)brace
comma
multiline_comment|/* StatusGrp */
(brace
id|SMT_P1028
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P1029
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTECMState
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P102A
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTCF_State
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P102C
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTRemoteDisconnectFlag
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P102D
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTStationStatus
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P102E
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTPeerWrapFlag
)paren
comma
l_string|&quot;F&quot;
)brace
comma
multiline_comment|/* MIBOperationGrp */
(brace
id|SMT_P1032
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P1033
comma
id|AC_G
comma
id|MOFFSA
c_func
(paren
id|fddiSMTTimeStamp
)paren
comma
l_string|&quot;P&quot;
)brace
comma
(brace
id|SMT_P1034
comma
id|AC_G
comma
id|MOFFSA
c_func
(paren
id|fddiSMTTransitionTimeStamp
)paren
comma
l_string|&quot;P&quot;
)brace
comma
multiline_comment|/* NOTE : SMT_P1035 is already swapped ! SMT_P_SETCOUNT */
(brace
id|SMT_P1035
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTSetCount
)paren
comma
l_string|&quot;4P&quot;
)brace
comma
(brace
id|SMT_P1036
comma
id|AC_G
comma
id|MOFFSS
c_func
(paren
id|fddiSMTLastSetStationId
)paren
comma
l_string|&quot;8&quot;
)brace
comma
(brace
id|SMT_P103C
comma
id|AC_S
comma
l_int|0
comma
l_string|&quot;wS&quot;
)brace
comma
multiline_comment|/*&n;&t; * PRIVATE EXTENSIONS&n;&t; * only accessable locally to get/set passwd&n;&t; */
(brace
id|SMT_P10F0
comma
id|AC_GR
comma
id|MOFFSA
c_func
(paren
id|fddiPRPMFPasswd
)paren
comma
l_string|&quot;8&quot;
)brace
comma
(brace
id|SMT_P10F1
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiPRPMFStation
)paren
comma
l_string|&quot;8&quot;
)brace
comma
macro_line|#ifdef&t;ESS
(brace
id|SMT_P10F2
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiESSPayload
)paren
comma
l_string|&quot;lL&quot;
)brace
comma
(brace
id|SMT_P10F3
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiESSOverhead
)paren
comma
l_string|&quot;lL&quot;
)brace
comma
(brace
id|SMT_P10F4
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiESSMaxTNeg
)paren
comma
l_string|&quot;lL&quot;
)brace
comma
(brace
id|SMT_P10F5
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiESSMinSegmentSize
)paren
comma
l_string|&quot;lL&quot;
)brace
comma
(brace
id|SMT_P10F6
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiESSCategory
)paren
comma
l_string|&quot;lL&quot;
)brace
comma
(brace
id|SMT_P10F7
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiESSSynchTxMode
)paren
comma
l_string|&quot;wS&quot;
)brace
comma
macro_line|#endif
macro_line|#ifdef&t;SBA
(brace
id|SMT_P10F8
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiSBACommand
)paren
comma
l_string|&quot;bF&quot;
)brace
comma
(brace
id|SMT_P10F9
comma
id|AC_GR
comma
id|MOFFSS
c_func
(paren
id|fddiSBAAvailable
)paren
comma
l_string|&quot;bF&quot;
)brace
comma
macro_line|#endif
multiline_comment|/* MAC Attributes */
(brace
id|SMT_P200A
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P200B
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACFrameStatusFunctions
)paren
comma
l_string|&quot;S&quot;
)brace
comma
(brace
id|SMT_P200D
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_MaxCapabilitiy
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P200E
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACTVXCapabilitiy
)paren
comma
l_string|&quot;T&quot;
)brace
comma
multiline_comment|/* ConfigGrp */
(brace
id|SMT_P2014
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P2016
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACAvailablePaths
)paren
comma
l_string|&quot;B&quot;
)brace
comma
(brace
id|SMT_P2017
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACCurrentPath
)paren
comma
l_string|&quot;S&quot;
)brace
comma
(brace
id|SMT_P2018
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACUpstreamNbr
)paren
comma
l_string|&quot;A&quot;
)brace
comma
(brace
id|SMT_P2019
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACDownstreamNbr
)paren
comma
l_string|&quot;A&quot;
)brace
comma
(brace
id|SMT_P201A
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACOldUpstreamNbr
)paren
comma
l_string|&quot;A&quot;
)brace
comma
(brace
id|SMT_P201B
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACOldDownstreamNbr
)paren
comma
l_string|&quot;A&quot;
)brace
comma
(brace
id|SMT_P201D
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACDupAddressTest
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P2020
comma
id|AC_GR
comma
id|MOFFMS
c_func
(paren
id|fddiMACRequestedPaths
)paren
comma
l_string|&quot;wS&quot;
)brace
comma
(brace
id|SMT_P2021
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACDownstreamPORTType
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P2022
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACIndex
)paren
comma
l_string|&quot;S&quot;
)brace
comma
multiline_comment|/* AddressGrp */
(brace
id|SMT_P2028
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P2029
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACSMTAddress
)paren
comma
l_string|&quot;A&quot;
)brace
comma
multiline_comment|/* OperationGrp */
(brace
id|SMT_P2032
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P2033
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Req
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P2034
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Neg
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P2035
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Max
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P2036
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACTvxValue
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P2038
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Pri0
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P2039
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Pri1
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P203A
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Pri2
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P203B
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Pri3
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P203C
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Pri4
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P203D
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Pri5
)paren
comma
l_string|&quot;T&quot;
)brace
comma
(brace
id|SMT_P203E
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Pri6
)paren
comma
l_string|&quot;T&quot;
)brace
comma
multiline_comment|/* CountersGrp */
(brace
id|SMT_P2046
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P2047
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACFrame_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P2048
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACCopied_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P2049
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACTransmit_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P204A
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACToken_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P2051
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACError_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P2052
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACLost_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P2053
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACTvxExpired_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P2054
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACNotCopied_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P2056
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACRingOp_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
multiline_comment|/* FrameErrorConditionGrp */
(brace
id|SMT_P205A
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P205F
comma
id|AC_GR
comma
id|MOFFMS
c_func
(paren
id|fddiMACFrameErrorThreshold
)paren
comma
l_string|&quot;wS&quot;
)brace
comma
(brace
id|SMT_P2060
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACFrameErrorRatio
)paren
comma
l_string|&quot;S&quot;
)brace
comma
multiline_comment|/* NotCopiedConditionGrp */
(brace
id|SMT_P2064
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P2067
comma
id|AC_GR
comma
id|MOFFMS
c_func
(paren
id|fddiMACNotCopiedThreshold
)paren
comma
l_string|&quot;wS&quot;
)brace
comma
(brace
id|SMT_P2069
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACNotCopiedRatio
)paren
comma
l_string|&quot;S&quot;
)brace
comma
multiline_comment|/* StatusGrp */
(brace
id|SMT_P206E
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P206F
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACRMTState
)paren
comma
l_string|&quot;S&quot;
)brace
comma
(brace
id|SMT_P2070
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACDA_Flag
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P2071
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACUNDA_Flag
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P2072
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACFrameErrorFlag
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P2073
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACNotCopiedFlag
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P2074
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACMA_UnitdataAvailable
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P2075
comma
id|AC_G
comma
id|MOFFMS
c_func
(paren
id|fddiMACHardwarePresent
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P2076
comma
id|AC_GR
comma
id|MOFFMS
c_func
(paren
id|fddiMACMA_UnitdataEnable
)paren
comma
l_string|&quot;bF&quot;
)brace
comma
multiline_comment|/*&n;&t; * PRIVATE EXTENSIONS&n;&t; * only accessable locally to get/set TMIN&n;&t; */
(brace
id|SMT_P20F0
comma
id|AC_NA
)brace
comma
(brace
id|SMT_P20F1
comma
id|AC_GR
comma
id|MOFFMS
c_func
(paren
id|fddiMACT_Min
)paren
comma
l_string|&quot;lT&quot;
)brace
comma
multiline_comment|/* Path Attributes */
multiline_comment|/*&n;&t; * DON&squot;t swap 320B,320F,3210: they are already swapped in swap_para()&n;&t; */
(brace
id|SMT_P320A
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P320B
comma
id|AC_G
comma
id|MOFFAS
c_func
(paren
id|fddiPATHIndex
)paren
comma
l_string|&quot;r&quot;
)brace
comma
(brace
id|SMT_P320F
comma
id|AC_GR
comma
id|MOFFAS
c_func
(paren
id|fddiPATHSbaPayload
)paren
comma
l_string|&quot;l4&quot;
)brace
comma
(brace
id|SMT_P3210
comma
id|AC_GR
comma
id|MOFFAS
c_func
(paren
id|fddiPATHSbaOverhead
)paren
comma
l_string|&quot;l4&quot;
)brace
comma
multiline_comment|/* fddiPATHConfiguration */
(brace
id|SMT_P3212
comma
id|AC_G
comma
l_int|0
comma
l_string|&quot;&quot;
)brace
comma
(brace
id|SMT_P3213
comma
id|AC_GR
comma
id|MOFFAS
c_func
(paren
id|fddiPATHT_Rmode
)paren
comma
l_string|&quot;lT&quot;
)brace
comma
(brace
id|SMT_P3214
comma
id|AC_GR
comma
id|MOFFAS
c_func
(paren
id|fddiPATHSbaAvailable
)paren
comma
l_string|&quot;lL&quot;
)brace
comma
(brace
id|SMT_P3215
comma
id|AC_GR
comma
id|MOFFAS
c_func
(paren
id|fddiPATHTVXLowerBound
)paren
comma
l_string|&quot;lT&quot;
)brace
comma
(brace
id|SMT_P3216
comma
id|AC_GR
comma
id|MOFFAS
c_func
(paren
id|fddiPATHT_MaxLowerBound
)paren
comma
l_string|&quot;lT&quot;
)brace
comma
(brace
id|SMT_P3217
comma
id|AC_GR
comma
id|MOFFAS
c_func
(paren
id|fddiPATHMaxT_Req
)paren
comma
l_string|&quot;lT&quot;
)brace
comma
multiline_comment|/* Port Attributes */
multiline_comment|/* ConfigGrp */
(brace
id|SMT_P400A
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P400C
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTMy_Type
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P400D
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTNeighborType
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P400E
comma
id|AC_GR
comma
id|MOFFPS
c_func
(paren
id|fddiPORTConnectionPolicies
)paren
comma
l_string|&quot;bB&quot;
)brace
comma
(brace
id|SMT_P400F
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTMacIndicated
)paren
comma
l_string|&quot;2&quot;
)brace
comma
(brace
id|SMT_P4010
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTCurrentPath
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P4011
comma
id|AC_GR
comma
id|MOFFPA
c_func
(paren
id|fddiPORTRequestedPaths
)paren
comma
l_string|&quot;l4&quot;
)brace
comma
(brace
id|SMT_P4012
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTMACPlacement
)paren
comma
l_string|&quot;S&quot;
)brace
comma
(brace
id|SMT_P4013
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTAvailablePaths
)paren
comma
l_string|&quot;B&quot;
)brace
comma
(brace
id|SMT_P4016
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTPMDClass
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P4017
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTConnectionCapabilities
)paren
comma
l_string|&quot;B&quot;
)brace
comma
(brace
id|SMT_P401D
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTIndex
)paren
comma
l_string|&quot;R&quot;
)brace
comma
multiline_comment|/* OperationGrp */
(brace
id|SMT_P401E
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P401F
comma
id|AC_GR
comma
id|MOFFPS
c_func
(paren
id|fddiPORTMaint_LS
)paren
comma
l_string|&quot;wE&quot;
)brace
comma
(brace
id|SMT_P4021
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTBS_Flag
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P4022
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTPC_LS
)paren
comma
l_string|&quot;E&quot;
)brace
comma
multiline_comment|/* ErrorCtrsGrp */
(brace
id|SMT_P4028
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P4029
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTEBError_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P402A
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTLCTFail_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
multiline_comment|/* LerGrp */
(brace
id|SMT_P4032
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P4033
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTLer_Estimate
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P4034
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTLem_Reject_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P4035
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTLem_Ct
)paren
comma
l_string|&quot;C&quot;
)brace
comma
(brace
id|SMT_P403A
comma
id|AC_GR
comma
id|MOFFPS
c_func
(paren
id|fddiPORTLer_Cutoff
)paren
comma
l_string|&quot;bB&quot;
)brace
comma
(brace
id|SMT_P403B
comma
id|AC_GR
comma
id|MOFFPS
c_func
(paren
id|fddiPORTLer_Alarm
)paren
comma
l_string|&quot;bB&quot;
)brace
comma
multiline_comment|/* StatusGrp */
(brace
id|SMT_P403C
comma
id|AC_GROUP
)brace
comma
(brace
id|SMT_P403D
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTConnectState
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P403E
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTPCMStateX
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P403F
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTPC_Withhold
)paren
comma
l_string|&quot;E&quot;
)brace
comma
(brace
id|SMT_P4040
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTLerFlag
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P4041
comma
id|AC_G
comma
id|MOFFPS
c_func
(paren
id|fddiPORTHardwarePresent
)paren
comma
l_string|&quot;F&quot;
)brace
comma
(brace
id|SMT_P4046
comma
id|AC_S
comma
l_int|0
comma
l_string|&quot;wS&quot;
)brace
comma
(brace
l_int|0
comma
id|AC_GROUP
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
r_static
id|SMbuf
op_star
id|smt_build_pmf_response
c_func
(paren
)paren
suffix:semicolon
DECL|function|smt_pmf_received_pack
r_void
id|smt_pmf_received_pack
c_func
(paren
id|smc
comma
id|mb
comma
id|local
)paren
r_struct
id|s_smc
op_star
id|smc
suffix:semicolon
id|SMbuf
op_star
id|mb
suffix:semicolon
r_int
id|local
suffix:semicolon
(brace
r_struct
id|smt_header
op_star
id|sm
suffix:semicolon
id|SMbuf
op_star
id|reply
suffix:semicolon
id|sm
op_assign
id|smtod
c_func
(paren
id|mb
comma
r_struct
id|smt_header
op_star
)paren
suffix:semicolon
id|DB_SMT
c_func
(paren
l_string|&quot;SMT: processing PMF frame at %x len %d&bslash;n&quot;
comma
id|sm
comma
id|mb-&gt;sm_len
)paren
suffix:semicolon
macro_line|#ifdef&t;DEBUG
id|dump_smt
c_func
(paren
id|smc
comma
id|sm
comma
l_string|&quot;PMF Received&quot;
)paren
suffix:semicolon
macro_line|#endif
multiline_comment|/*&n;&t; * Start the watchdog: It may be a long, long packet and&n;&t; * maybe the watchdog occurs ...&n;&t; */
id|smt_start_watchdog
c_func
(paren
id|smc
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sm-&gt;smt_class
op_eq
id|SMT_PMF_GET
op_logical_or
id|sm-&gt;smt_class
op_eq
id|SMT_PMF_SET
)paren
(brace
id|reply
op_assign
id|smt_build_pmf_response
c_func
(paren
id|smc
comma
id|sm
comma
id|sm-&gt;smt_class
op_eq
id|SMT_PMF_SET
comma
id|local
)paren
suffix:semicolon
r_if
c_cond
(paren
id|reply
)paren
(brace
id|sm
op_assign
id|smtod
c_func
(paren
id|reply
comma
r_struct
id|smt_header
op_star
)paren
suffix:semicolon
macro_line|#ifdef&t;DEBUG
id|dump_smt
c_func
(paren
id|smc
comma
id|sm
comma
l_string|&quot;PMF Reply&quot;
)paren
suffix:semicolon
macro_line|#endif
id|smt_send_frame
c_func
(paren
id|smc
comma
id|reply
comma
id|FC_SMT_INFO
comma
id|local
)paren
suffix:semicolon
)brace
)brace
)brace
r_extern
id|SMbuf
op_star
id|smt_get_mbuf
c_func
(paren
)paren
suffix:semicolon
DECL|function|smt_build_pmf_response
r_static
id|SMbuf
op_star
id|smt_build_pmf_response
c_func
(paren
id|smc
comma
id|req
comma
id|set
comma
id|local
)paren
r_struct
id|s_smc
op_star
id|smc
suffix:semicolon
r_struct
id|smt_header
op_star
id|req
suffix:semicolon
r_int
id|set
suffix:semicolon
r_int
id|local
suffix:semicolon
(brace
id|SMbuf
op_star
id|mb
suffix:semicolon
r_struct
id|smt_header
op_star
id|smt
suffix:semicolon
r_struct
id|smt_para
op_star
id|pa
suffix:semicolon
r_struct
id|smt_p_reason
op_star
id|res
suffix:semicolon
r_const
r_struct
id|s_p_tab
op_star
id|pt
suffix:semicolon
r_int
id|len
suffix:semicolon
r_int
id|index
suffix:semicolon
r_int
id|idx_end
suffix:semicolon
r_int
id|error
suffix:semicolon
r_int
id|range
suffix:semicolon
id|SK_LOC_DECL
c_func
(paren
r_struct
id|s_pcon
comma
id|pcon
)paren
suffix:semicolon
id|SK_LOC_DECL
c_func
(paren
r_struct
id|s_pcon
comma
id|set_pcon
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * build SMT header&n;&t; */
r_if
c_cond
(paren
op_logical_neg
(paren
id|mb
op_assign
id|smt_get_mbuf
c_func
(paren
id|smc
)paren
)paren
)paren
r_return
(paren
id|mb
)paren
suffix:semicolon
id|smt
op_assign
id|smtod
c_func
(paren
id|mb
comma
r_struct
id|smt_header
op_star
)paren
suffix:semicolon
id|smt-&gt;smt_dest
op_assign
id|req-&gt;smt_source
suffix:semicolon
multiline_comment|/* DA == source of request */
id|smt-&gt;smt_class
op_assign
id|req-&gt;smt_class
suffix:semicolon
multiline_comment|/* same class (GET/SET) */
id|smt-&gt;smt_type
op_assign
id|SMT_REPLY
suffix:semicolon
id|smt-&gt;smt_version
op_assign
id|SMT_VID_2
suffix:semicolon
id|smt-&gt;smt_tid
op_assign
id|req-&gt;smt_tid
suffix:semicolon
multiline_comment|/* same TID */
id|smt-&gt;smt_pad
op_assign
l_int|0
suffix:semicolon
id|smt-&gt;smt_len
op_assign
l_int|0
suffix:semicolon
multiline_comment|/*&n;&t; * setup parameter status&n;&t; */
id|pcon.pc_len
op_assign
id|SMT_MAX_INFO_LEN
suffix:semicolon
multiline_comment|/* max para length */
id|pcon.pc_err
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* no error */
id|pcon.pc_badset
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* no bad set count */
id|pcon.pc_p
op_assign
(paren
r_void
op_star
)paren
(paren
id|smt
op_plus
l_int|1
)paren
suffix:semicolon
multiline_comment|/* paras start here */
multiline_comment|/*&n;&t; * check authoriziation and set count&n;&t; */
id|error
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|local
op_logical_and
id|smt_authorize
c_func
(paren
id|smc
comma
id|req
)paren
)paren
id|error
op_assign
id|SMT_RDF_AUTHOR
suffix:semicolon
r_else
r_if
c_cond
(paren
id|smt_check_set_count
c_func
(paren
id|smc
comma
id|req
)paren
)paren
id|pcon.pc_badset
op_assign
id|SMT_RDF_BADSET
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * add reason code and all mandatory parameters&n;&t; */
id|res
op_assign
(paren
r_struct
id|smt_p_reason
op_star
)paren
id|pcon.pc_p
suffix:semicolon
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|pcon
comma
(paren
id|u_short
)paren
id|SMT_P_REASON
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|pcon
comma
(paren
id|u_short
)paren
id|SMT_P1033
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
multiline_comment|/* update 1035 and 1036 later if set */
id|set_pcon
op_assign
id|pcon
suffix:semicolon
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|pcon
comma
(paren
id|u_short
)paren
id|SMT_P1035
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|pcon
comma
(paren
id|u_short
)paren
id|SMT_P1036
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|pcon.pc_err
op_assign
id|error
suffix:semicolon
id|len
op_assign
id|req-&gt;smt_len
suffix:semicolon
id|pa
op_assign
(paren
r_struct
id|smt_para
op_star
)paren
(paren
id|req
op_plus
l_int|1
)paren
suffix:semicolon
multiline_comment|/*&n;&t; * process list of paras&n;&t; */
r_while
c_loop
(paren
op_logical_neg
id|pcon.pc_err
op_logical_and
id|len
OG
l_int|0
)paren
(brace
r_if
c_cond
(paren
(paren
(paren
id|u_short
)paren
id|len
OL
id|pa-&gt;p_len
op_plus
id|PARA_LEN
)paren
op_logical_or
(paren
id|pa-&gt;p_len
op_amp
l_int|3
)paren
)paren
(brace
id|pcon.pc_err
op_assign
id|SMT_RDF_LENGTH
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
(paren
id|range
op_assign
(paren
id|pa-&gt;p_type
op_amp
l_int|0xf000
)paren
)paren
op_eq
l_int|0x2000
)paren
op_logical_or
id|range
op_eq
l_int|0x3000
op_logical_or
id|range
op_eq
l_int|0x4000
)paren
(brace
multiline_comment|/*&n;&t;&t;&t; * get index for PART,MAC ad PATH group&n;&t;&t;&t; */
id|index
op_assign
op_star
(paren
(paren
id|u_char
op_star
)paren
id|pa
op_plus
id|PARA_LEN
op_plus
l_int|3
)paren
suffix:semicolon
multiline_comment|/* index */
id|idx_end
op_assign
id|index
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|set
op_logical_and
(paren
id|pa-&gt;p_len
op_ne
l_int|4
)paren
)paren
(brace
id|pcon.pc_err
op_assign
id|SMT_RDF_LENGTH
suffix:semicolon
r_break
suffix:semicolon
)brace
r_if
c_cond
(paren
op_logical_neg
id|index
op_logical_and
op_logical_neg
id|set
)paren
(brace
r_switch
c_cond
(paren
id|range
)paren
(brace
r_case
l_int|0x2000
suffix:colon
id|index
op_assign
id|INDEX_MAC
suffix:semicolon
id|idx_end
op_assign
id|index
op_minus
l_int|1
op_plus
id|NUMMACS
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x3000
suffix:colon
id|index
op_assign
id|INDEX_PATH
suffix:semicolon
id|idx_end
op_assign
id|index
op_minus
l_int|1
op_plus
id|NUMPATHS
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x4000
suffix:colon
id|index
op_assign
id|INDEX_PORT
suffix:semicolon
id|idx_end
op_assign
id|index
op_minus
l_int|1
op_plus
id|NUMPHYS
suffix:semicolon
macro_line|#ifndef&t;CONCENTRATOR
r_if
c_cond
(paren
id|smc-&gt;s.sas
op_eq
id|SMT_SAS
)paren
id|idx_end
op_assign
id|INDEX_PORT
suffix:semicolon
macro_line|#endif
r_break
suffix:semicolon
)brace
)brace
)brace
r_else
(brace
multiline_comment|/*&n;&t;&t;&t; * smt group has no index&n;&t;&t;&t; */
r_if
c_cond
(paren
op_logical_neg
id|set
op_logical_and
(paren
id|pa-&gt;p_len
op_ne
l_int|0
)paren
)paren
(brace
id|pcon.pc_err
op_assign
id|SMT_RDF_LENGTH
suffix:semicolon
r_break
suffix:semicolon
)brace
id|index
op_assign
l_int|0
suffix:semicolon
id|idx_end
op_assign
l_int|0
suffix:semicolon
)brace
r_while
c_loop
(paren
id|index
op_le
id|idx_end
)paren
(brace
multiline_comment|/*&n;&t;&t;&t; * if group&n;&t;&t;&t; *&t;add all paras of group&n;&t;&t;&t; */
id|pt
op_assign
id|smt_get_ptab
c_func
(paren
id|pa-&gt;p_type
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pt
op_logical_and
id|pt-&gt;p_access
op_eq
id|AC_GROUP
op_logical_and
op_logical_neg
id|set
)paren
(brace
id|pt
op_increment
suffix:semicolon
r_while
c_loop
(paren
id|pt-&gt;p_access
op_eq
id|AC_G
op_logical_or
id|pt-&gt;p_access
op_eq
id|AC_GR
)paren
(brace
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|pcon
comma
id|pt-&gt;p_num
comma
id|index
comma
id|local
)paren
suffix:semicolon
id|pt
op_increment
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t;&t;&t; * ignore&n;&t;&t;&t; *&t;AUTHORIZATION in get/set&n;&t;&t;&t; *&t;SET COUNT in set&n;&t;&t;&t; */
r_else
r_if
c_cond
(paren
id|pa-&gt;p_type
op_ne
id|SMT_P_AUTHOR
op_logical_and
(paren
op_logical_neg
id|set
op_logical_or
(paren
id|pa-&gt;p_type
op_ne
id|SMT_P1035
)paren
)paren
)paren
(brace
r_int
id|st
suffix:semicolon
r_if
c_cond
(paren
id|pcon.pc_badset
)paren
(brace
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|pcon
comma
id|pa-&gt;p_type
comma
id|index
comma
id|local
)paren
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|set
)paren
(brace
id|st
op_assign
id|smt_set_para
c_func
(paren
id|smc
comma
id|pa
comma
id|index
comma
id|local
comma
l_int|1
)paren
suffix:semicolon
multiline_comment|/*&n;&t;&t;&t;&t;&t; * return para even if error&n;&t;&t;&t;&t;&t; */
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|pcon
comma
id|pa-&gt;p_type
comma
id|index
comma
id|local
)paren
suffix:semicolon
id|pcon.pc_err
op_assign
id|st
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|pt
op_logical_and
id|pt-&gt;p_access
op_eq
id|AC_S
)paren
(brace
id|pcon.pc_err
op_assign
id|SMT_RDF_ILLEGAL
suffix:semicolon
)brace
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|pcon
comma
id|pa-&gt;p_type
comma
id|index
comma
id|local
)paren
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|pcon.pc_err
)paren
r_break
suffix:semicolon
id|index
op_increment
suffix:semicolon
)brace
id|len
op_sub_assign
id|pa-&gt;p_len
op_plus
id|PARA_LEN
suffix:semicolon
id|pa
op_assign
(paren
r_struct
id|smt_para
op_star
)paren
(paren
(paren
r_char
op_star
)paren
id|pa
op_plus
id|pa-&gt;p_len
op_plus
id|PARA_LEN
)paren
suffix:semicolon
)brace
id|smt-&gt;smt_len
op_assign
id|SMT_MAX_INFO_LEN
op_minus
id|pcon.pc_len
suffix:semicolon
id|mb-&gt;sm_len
op_assign
id|smt-&gt;smt_len
op_plus
r_sizeof
(paren
r_struct
id|smt_header
)paren
suffix:semicolon
multiline_comment|/* update reason code */
id|res-&gt;rdf_reason
op_assign
id|pcon.pc_badset
ques
c_cond
id|pcon.pc_badset
suffix:colon
id|pcon.pc_err
ques
c_cond
id|pcon.pc_err
suffix:colon
id|SMT_RDF_SUCCESS
suffix:semicolon
r_if
c_cond
(paren
id|set
op_logical_and
(paren
id|res-&gt;rdf_reason
op_eq
id|SMT_RDF_SUCCESS
)paren
)paren
(brace
multiline_comment|/*&n;&t;&t; * increment set count&n;&t;&t; * set time stamp&n;&t;&t; * store station id of last set&n;&t;&t; */
id|smc-&gt;mib.fddiSMTSetCount.count
op_increment
suffix:semicolon
id|smt_set_timestamp
c_func
(paren
id|smc
comma
id|smc-&gt;mib.fddiSMTSetCount.timestamp
)paren
suffix:semicolon
id|smc-&gt;mib.fddiSMTLastSetStationId
op_assign
id|req-&gt;smt_sid
suffix:semicolon
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|set_pcon
comma
(paren
id|u_short
)paren
id|SMT_P1035
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
id|smt_add_para
c_func
(paren
id|smc
comma
op_amp
id|set_pcon
comma
(paren
id|u_short
)paren
id|SMT_P1036
comma
l_int|0
comma
l_int|0
)paren
suffix:semicolon
)brace
r_return
(paren
id|mb
)paren
suffix:semicolon
)brace
r_extern
r_void
op_star
id|sm_to_para
c_func
(paren
)paren
suffix:semicolon
DECL|function|smt_authorize
r_static
r_int
id|smt_authorize
c_func
(paren
id|smc
comma
id|sm
)paren
r_struct
id|s_smc
op_star
id|smc
suffix:semicolon
r_struct
id|smt_header
op_star
id|sm
suffix:semicolon
(brace
r_struct
id|smt_para
op_star
id|pa
suffix:semicolon
r_int
id|i
suffix:semicolon
r_char
op_star
id|p
suffix:semicolon
multiline_comment|/*&n;&t; * check source station id if not zero&n;&t; */
id|p
op_assign
(paren
r_char
op_star
)paren
op_amp
id|smc-&gt;mib.fddiPRPMFStation
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|8
op_logical_and
op_logical_neg
id|p
(braket
id|i
)braket
suffix:semicolon
id|i
op_increment
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
op_ne
l_int|8
)paren
(brace
r_if
c_cond
(paren
id|memcmp
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
id|sm-&gt;smt_sid
comma
(paren
r_char
op_star
)paren
op_amp
id|smc-&gt;mib.fddiPRPMFStation
comma
l_int|8
)paren
)paren
r_return
(paren
l_int|1
)paren
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * check authoriziation parameter if passwd not zero&n;&t; */
id|p
op_assign
(paren
r_char
op_star
)paren
id|smc-&gt;mib.fddiPRPMFPasswd
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|8
op_logical_and
op_logical_neg
id|p
(braket
id|i
)braket
suffix:semicolon
id|i
op_increment
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
op_ne
l_int|8
)paren
(brace
id|pa
op_assign
(paren
r_struct
id|smt_para
op_star
)paren
id|sm_to_para
c_func
(paren
id|smc
comma
id|sm
comma
id|SMT_P_AUTHOR
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|pa
)paren
r_return
(paren
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pa-&gt;p_len
op_ne
l_int|8
)paren
r_return
(paren
l_int|1
)paren
suffix:semicolon
r_if
c_cond
(paren
id|memcmp
c_func
(paren
(paren
r_char
op_star
)paren
(paren
id|pa
op_plus
l_int|1
)paren
comma
(paren
r_char
op_star
)paren
id|smc-&gt;mib.fddiPRPMFPasswd
comma
l_int|8
)paren
)paren
r_return
(paren
l_int|1
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|smt_check_set_count
r_static
r_int
id|smt_check_set_count
c_func
(paren
id|smc
comma
id|sm
)paren
r_struct
id|s_smc
op_star
id|smc
suffix:semicolon
r_struct
id|smt_header
op_star
id|sm
suffix:semicolon
(brace
r_struct
id|smt_para
op_star
id|pa
suffix:semicolon
r_struct
id|smt_p_setcount
op_star
id|sc
suffix:semicolon
id|pa
op_assign
(paren
r_struct
id|smt_para
op_star
)paren
id|sm_to_para
c_func
(paren
id|smc
comma
id|sm
comma
id|SMT_P1035
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pa
)paren
(brace
id|sc
op_assign
(paren
r_struct
id|smt_p_setcount
op_star
)paren
id|pa
suffix:semicolon
r_if
c_cond
(paren
(paren
id|smc-&gt;mib.fddiSMTSetCount.count
op_ne
id|sc-&gt;count
)paren
op_logical_or
id|memcmp
c_func
(paren
(paren
r_char
op_star
)paren
id|smc-&gt;mib.fddiSMTSetCount.timestamp
comma
(paren
r_char
op_star
)paren
id|sc-&gt;timestamp
comma
l_int|8
)paren
)paren
r_return
(paren
l_int|1
)paren
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|smt_add_para
r_void
id|smt_add_para
c_func
(paren
id|smc
comma
id|pcon
comma
id|para
comma
id|index
comma
id|local
)paren
r_struct
id|s_smc
op_star
id|smc
suffix:semicolon
r_struct
id|s_pcon
op_star
id|pcon
suffix:semicolon
id|u_short
id|para
suffix:semicolon
r_int
id|index
suffix:semicolon
r_int
id|local
suffix:semicolon
(brace
r_struct
id|smt_para
op_star
id|pa
suffix:semicolon
r_const
r_struct
id|s_p_tab
op_star
id|pt
suffix:semicolon
r_struct
id|fddi_mib_m
op_star
id|mib_m
op_assign
l_int|0
suffix:semicolon
r_struct
id|fddi_mib_p
op_star
id|mib_p
op_assign
l_int|0
suffix:semicolon
r_int
id|len
suffix:semicolon
r_int
id|plen
suffix:semicolon
r_char
op_star
id|from
suffix:semicolon
r_char
op_star
id|to
suffix:semicolon
r_const
r_char
op_star
id|swap
suffix:semicolon
r_char
id|c
suffix:semicolon
r_int
id|range
suffix:semicolon
r_char
op_star
id|mib_addr
suffix:semicolon
r_int
id|mac
suffix:semicolon
r_int
id|path
suffix:semicolon
r_int
id|port
suffix:semicolon
r_int
id|sp_len
suffix:semicolon
multiline_comment|/*&n;&t; * skip if errror&n;&t; */
r_if
c_cond
(paren
id|pcon-&gt;pc_err
)paren
r_return
suffix:semicolon
multiline_comment|/*&n;&t; * actions don&squot;t have a value&n;&t; */
id|pt
op_assign
id|smt_get_ptab
c_func
(paren
id|para
)paren
suffix:semicolon
r_if
c_cond
(paren
id|pt
op_logical_and
id|pt-&gt;p_access
op_eq
id|AC_S
)paren
r_return
suffix:semicolon
id|to
op_assign
(paren
r_char
op_star
)paren
(paren
id|pcon-&gt;pc_p
)paren
suffix:semicolon
multiline_comment|/* destination pointer */
id|len
op_assign
id|pcon-&gt;pc_len
suffix:semicolon
multiline_comment|/* free space */
id|plen
op_assign
id|len
suffix:semicolon
multiline_comment|/* remember start length */
id|pa
op_assign
(paren
r_struct
id|smt_para
op_star
)paren
id|to
suffix:semicolon
multiline_comment|/* type/length pointer */
id|to
op_add_assign
id|PARA_LEN
suffix:semicolon
multiline_comment|/* skip smt_para */
id|len
op_sub_assign
id|PARA_LEN
suffix:semicolon
multiline_comment|/*&n;&t; * set index if required&n;&t; */
r_if
c_cond
(paren
(paren
(paren
id|range
op_assign
(paren
id|para
op_amp
l_int|0xf000
)paren
)paren
op_eq
l_int|0x2000
)paren
op_logical_or
id|range
op_eq
l_int|0x3000
op_logical_or
id|range
op_eq
l_int|0x4000
)paren
(brace
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
r_goto
id|wrong_error
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
id|index
suffix:semicolon
id|len
op_sub_assign
l_int|4
suffix:semicolon
id|to
op_add_assign
l_int|4
suffix:semicolon
)brace
id|mac
op_assign
id|index
op_minus
id|INDEX_MAC
suffix:semicolon
id|path
op_assign
id|index
op_minus
id|INDEX_PATH
suffix:semicolon
id|port
op_assign
id|index
op_minus
id|INDEX_PORT
suffix:semicolon
multiline_comment|/*&n;&t; * get pointer to mib&n;&t; */
r_switch
c_cond
(paren
id|range
)paren
(brace
r_case
l_int|0x1000
suffix:colon
r_default
suffix:colon
id|mib_addr
op_assign
(paren
r_char
op_star
)paren
(paren
op_amp
id|smc-&gt;mib
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x2000
suffix:colon
r_if
c_cond
(paren
id|mac
OL
l_int|0
op_logical_or
id|mac
op_ge
id|NUMMACS
)paren
(brace
id|pcon-&gt;pc_err
op_assign
id|SMT_RDF_NOPARAM
suffix:semicolon
r_return
suffix:semicolon
)brace
id|mib_addr
op_assign
(paren
r_char
op_star
)paren
(paren
op_amp
id|smc-&gt;mib.m
(braket
id|mac
)braket
)paren
suffix:semicolon
id|mib_m
op_assign
(paren
r_struct
id|fddi_mib_m
op_star
)paren
id|mib_addr
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x3000
suffix:colon
r_if
c_cond
(paren
id|path
OL
l_int|0
op_logical_or
id|path
op_ge
id|NUMPATHS
)paren
(brace
id|pcon-&gt;pc_err
op_assign
id|SMT_RDF_NOPARAM
suffix:semicolon
r_return
suffix:semicolon
)brace
id|mib_addr
op_assign
(paren
r_char
op_star
)paren
(paren
op_amp
id|smc-&gt;mib.a
(braket
id|path
)braket
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x4000
suffix:colon
r_if
c_cond
(paren
id|port
OL
l_int|0
op_logical_or
id|port
op_ge
id|smt_mib_phys
c_func
(paren
id|smc
)paren
)paren
(brace
id|pcon-&gt;pc_err
op_assign
id|SMT_RDF_NOPARAM
suffix:semicolon
r_return
suffix:semicolon
)brace
id|mib_addr
op_assign
(paren
r_char
op_star
)paren
(paren
op_amp
id|smc-&gt;mib.p
(braket
id|port_to_mib
c_func
(paren
id|smc
comma
id|port
)paren
)braket
)paren
suffix:semicolon
id|mib_p
op_assign
(paren
r_struct
id|fddi_mib_p
op_star
)paren
id|mib_addr
suffix:semicolon
r_break
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * check special paras&n;&t; */
id|swap
op_assign
l_int|0
suffix:semicolon
r_switch
c_cond
(paren
id|para
)paren
(brace
r_case
id|SMT_P10F0
suffix:colon
r_case
id|SMT_P10F1
suffix:colon
macro_line|#ifdef&t;ESS
r_case
id|SMT_P10F2
suffix:colon
r_case
id|SMT_P10F3
suffix:colon
r_case
id|SMT_P10F4
suffix:colon
r_case
id|SMT_P10F5
suffix:colon
r_case
id|SMT_P10F6
suffix:colon
r_case
id|SMT_P10F7
suffix:colon
macro_line|#endif
macro_line|#ifdef&t;SBA
r_case
id|SMT_P10F8
suffix:colon
r_case
id|SMT_P10F9
suffix:colon
macro_line|#endif
r_case
id|SMT_P20F1
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|local
)paren
(brace
id|pcon-&gt;pc_err
op_assign
id|SMT_RDF_NOPARAM
suffix:semicolon
r_return
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|SMT_P2034
suffix:colon
r_case
id|SMT_P2046
suffix:colon
r_case
id|SMT_P2047
suffix:colon
r_case
id|SMT_P204A
suffix:colon
r_case
id|SMT_P2051
suffix:colon
r_case
id|SMT_P2052
suffix:colon
id|mac_update_counter
c_func
(paren
id|smc
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P4022
suffix:colon
id|mib_p-&gt;fddiPORTPC_LS
op_assign
id|LS2MIB
c_func
(paren
id|sm_pm_get_ls
c_func
(paren
id|smc
comma
id|port_to_mib
c_func
(paren
id|smc
comma
id|port
)paren
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P_REASON
suffix:colon
op_star
(paren
id|u_long
op_star
)paren
id|to
op_assign
l_int|0
suffix:semicolon
id|sp_len
op_assign
l_int|4
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
r_case
id|SMT_P1033
suffix:colon
multiline_comment|/* time stamp */
id|smt_set_timestamp
c_func
(paren
id|smc
comma
id|smc-&gt;mib.fddiSMTTimeStamp
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P1020
suffix:colon
multiline_comment|/* port indexes */
macro_line|#if&t;NUMPHYS == 12
id|swap
op_assign
l_string|&quot;IIIIIIIIIIII&quot;
suffix:semicolon
macro_line|#else
macro_line|#if&t;NUMPHYS == 2
r_if
c_cond
(paren
id|smc-&gt;s.sas
op_eq
id|SMT_SAS
)paren
id|swap
op_assign
l_string|&quot;I&quot;
suffix:semicolon
r_else
id|swap
op_assign
l_string|&quot;II&quot;
suffix:semicolon
macro_line|#else
macro_line|#if&t;NUMPHYS == 24
id|swap
op_assign
l_string|&quot;IIIIIIIIIIIIIIIIIIIIIIII&quot;
suffix:semicolon
macro_line|#else
ques
c_cond
ques
c_cond
ques
c_cond
ques
c_cond
macro_line|#endif
macro_line|#endif
macro_line|#endif
r_break
suffix:semicolon
r_case
id|SMT_P3212
suffix:colon
(brace
id|sp_len
op_assign
id|cem_build_path
c_func
(paren
id|smc
comma
id|to
comma
id|path
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P1048
suffix:colon
multiline_comment|/* peer wrap condition */
(brace
r_struct
id|smt_p_1048
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_1048
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p1048_flag
op_assign
id|smc-&gt;mib.fddiSMTPeerWrapFlag
suffix:semicolon
id|sp-&gt;p1048_cf_state
op_assign
id|smc-&gt;mib.fddiSMTCF_State
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_1048
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P208C
suffix:colon
(brace
r_struct
id|smt_p_208c
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_208c
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p208c_flag
op_assign
id|smc-&gt;mib.m
(braket
id|MAC0
)braket
dot
id|fddiMACDuplicateAddressCond
suffix:semicolon
id|sp-&gt;p208c_dupcondition
op_assign
(paren
id|mib_m-&gt;fddiMACDA_Flag
ques
c_cond
id|SMT_ST_MY_DUPA
suffix:colon
l_int|0
)paren
op_or
(paren
id|mib_m-&gt;fddiMACUNDA_Flag
ques
c_cond
id|SMT_ST_UNA_DUPA
suffix:colon
l_int|0
)paren
suffix:semicolon
id|sp-&gt;p208c_fddilong
op_assign
id|mib_m-&gt;fddiMACSMTAddress
suffix:semicolon
id|sp-&gt;p208c_fddiunalong
op_assign
id|mib_m-&gt;fddiMACUpstreamNbr
suffix:semicolon
id|sp-&gt;p208c_pad
op_assign
l_int|0
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_208c
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P208D
suffix:colon
multiline_comment|/* frame error condition */
(brace
r_struct
id|smt_p_208d
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_208d
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p208d_flag
op_assign
id|mib_m-&gt;fddiMACFrameErrorFlag
suffix:semicolon
id|sp-&gt;p208d_frame_ct
op_assign
id|mib_m-&gt;fddiMACFrame_Ct
suffix:semicolon
id|sp-&gt;p208d_error_ct
op_assign
id|mib_m-&gt;fddiMACError_Ct
suffix:semicolon
id|sp-&gt;p208d_lost_ct
op_assign
id|mib_m-&gt;fddiMACLost_Ct
suffix:semicolon
id|sp-&gt;p208d_ratio
op_assign
id|mib_m-&gt;fddiMACFrameErrorRatio
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_208d
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P208E
suffix:colon
multiline_comment|/* not copied condition */
(brace
r_struct
id|smt_p_208e
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_208e
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p208e_flag
op_assign
id|mib_m-&gt;fddiMACNotCopiedFlag
suffix:semicolon
id|sp-&gt;p208e_not_copied
op_assign
id|mib_m-&gt;fddiMACNotCopied_Ct
suffix:semicolon
id|sp-&gt;p208e_copied
op_assign
id|mib_m-&gt;fddiMACCopied_Ct
suffix:semicolon
id|sp-&gt;p208e_not_copied_ratio
op_assign
id|mib_m-&gt;fddiMACNotCopiedRatio
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_208e
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P208F
suffix:colon
multiline_comment|/* neighbor change event */
(brace
r_struct
id|smt_p_208f
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_208f
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p208f_multiple
op_assign
id|mib_m-&gt;fddiMACMultiple_N
suffix:semicolon
id|sp-&gt;p208f_nacondition
op_assign
id|mib_m-&gt;fddiMACDuplicateAddressCond
suffix:semicolon
id|sp-&gt;p208f_old_una
op_assign
id|mib_m-&gt;fddiMACOldUpstreamNbr
suffix:semicolon
id|sp-&gt;p208f_new_una
op_assign
id|mib_m-&gt;fddiMACUpstreamNbr
suffix:semicolon
id|sp-&gt;p208f_old_dna
op_assign
id|mib_m-&gt;fddiMACOldDownstreamNbr
suffix:semicolon
id|sp-&gt;p208f_new_dna
op_assign
id|mib_m-&gt;fddiMACDownstreamNbr
suffix:semicolon
id|sp-&gt;p208f_curren_path
op_assign
id|mib_m-&gt;fddiMACCurrentPath
suffix:semicolon
id|sp-&gt;p208f_smt_address
op_assign
id|mib_m-&gt;fddiMACSMTAddress
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_208f
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P2090
suffix:colon
(brace
r_struct
id|smt_p_2090
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_2090
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p2090_multiple
op_assign
id|mib_m-&gt;fddiMACMultiple_P
suffix:semicolon
id|sp-&gt;p2090_availablepaths
op_assign
id|mib_m-&gt;fddiMACAvailablePaths
suffix:semicolon
id|sp-&gt;p2090_currentpath
op_assign
id|mib_m-&gt;fddiMACCurrentPath
suffix:semicolon
id|sp-&gt;p2090_requestedpaths
op_assign
id|mib_m-&gt;fddiMACRequestedPaths
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_2090
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P4050
suffix:colon
(brace
r_struct
id|smt_p_4050
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_4050
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p4050_flag
op_assign
id|mib_p-&gt;fddiPORTLerFlag
suffix:semicolon
id|sp-&gt;p4050_pad
op_assign
l_int|0
suffix:semicolon
id|sp-&gt;p4050_cutoff
op_assign
id|mib_p-&gt;fddiPORTLer_Cutoff
suffix:semicolon
suffix:semicolon
id|sp-&gt;p4050_alarm
op_assign
id|mib_p-&gt;fddiPORTLer_Alarm
suffix:semicolon
suffix:semicolon
id|sp-&gt;p4050_estimate
op_assign
id|mib_p-&gt;fddiPORTLer_Estimate
suffix:semicolon
id|sp-&gt;p4050_reject_ct
op_assign
id|mib_p-&gt;fddiPORTLem_Reject_Ct
suffix:semicolon
id|sp-&gt;p4050_ct
op_assign
id|mib_p-&gt;fddiPORTLem_Ct
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_4050
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P4051
suffix:colon
(brace
r_struct
id|smt_p_4051
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_4051
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p4051_multiple
op_assign
id|mib_p-&gt;fddiPORTMultiple_U
suffix:semicolon
id|sp-&gt;p4051_porttype
op_assign
id|mib_p-&gt;fddiPORTMy_Type
suffix:semicolon
id|sp-&gt;p4051_connectstate
op_assign
id|mib_p-&gt;fddiPORTConnectState
suffix:semicolon
suffix:semicolon
id|sp-&gt;p4051_pc_neighbor
op_assign
id|mib_p-&gt;fddiPORTNeighborType
suffix:semicolon
id|sp-&gt;p4051_pc_withhold
op_assign
id|mib_p-&gt;fddiPORTPC_Withhold
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_4051
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P4052
suffix:colon
(brace
r_struct
id|smt_p_4052
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_4052
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p4052_flag
op_assign
id|mib_p-&gt;fddiPORTEB_Condition
suffix:semicolon
id|sp-&gt;p4052_eberrorcount
op_assign
id|mib_p-&gt;fddiPORTEBError_Ct
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_4052
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_case
id|SMT_P4053
suffix:colon
(brace
r_struct
id|smt_p_4053
op_star
id|sp
suffix:semicolon
id|sp
op_assign
(paren
r_struct
id|smt_p_4053
op_star
)paren
id|to
suffix:semicolon
id|sp-&gt;p4053_multiple
op_assign
id|mib_p-&gt;fddiPORTMultiple_P
suffix:semicolon
suffix:semicolon
id|sp-&gt;p4053_availablepaths
op_assign
id|mib_p-&gt;fddiPORTAvailablePaths
suffix:semicolon
id|sp-&gt;p4053_currentpath
op_assign
id|mib_p-&gt;fddiPORTCurrentPath
suffix:semicolon
id|memcpy
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
id|sp-&gt;p4053_requestedpaths
comma
(paren
r_char
op_star
)paren
id|mib_p-&gt;fddiPORTRequestedPaths
comma
l_int|4
)paren
suffix:semicolon
id|sp-&gt;p4053_mytype
op_assign
id|mib_p-&gt;fddiPORTMy_Type
suffix:semicolon
id|sp-&gt;p4053_neighbortype
op_assign
id|mib_p-&gt;fddiPORTNeighborType
suffix:semicolon
id|sp_len
op_assign
r_sizeof
(paren
r_struct
id|smt_p_4053
)paren
suffix:semicolon
r_goto
id|sp_done
suffix:semicolon
)brace
r_default
suffix:colon
r_break
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * in table ?&n;&t; */
r_if
c_cond
(paren
op_logical_neg
id|pt
)paren
(brace
id|pcon-&gt;pc_err
op_assign
(paren
id|para
op_amp
l_int|0xff00
)paren
ques
c_cond
id|SMT_RDF_NOPARAM
suffix:colon
id|SMT_RDF_ILLEGAL
suffix:semicolon
r_return
suffix:semicolon
)brace
multiline_comment|/*&n;&t; * check access rights&n;&t; */
r_switch
c_cond
(paren
id|pt-&gt;p_access
)paren
(brace
r_case
id|AC_G
suffix:colon
r_case
id|AC_GR
suffix:colon
r_break
suffix:semicolon
r_default
suffix:colon
id|pcon-&gt;pc_err
op_assign
id|SMT_RDF_ILLEGAL
suffix:semicolon
r_return
suffix:semicolon
)brace
id|from
op_assign
id|mib_addr
op_plus
id|pt-&gt;p_offset
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|swap
)paren
id|swap
op_assign
id|pt-&gt;p_swap
suffix:semicolon
multiline_comment|/* pointer to swap string */
multiline_comment|/*&n;&t; * copy values&n;&t; */
r_while
c_loop
(paren
(paren
id|c
op_assign
op_star
id|swap
op_increment
)paren
)paren
(brace
r_switch
c_cond
(paren
id|c
)paren
(brace
r_case
l_char|&squot;b&squot;
suffix:colon
r_case
l_char|&squot;w&squot;
suffix:colon
r_case
l_char|&squot;l&squot;
suffix:colon
r_break
suffix:semicolon
r_case
l_char|&squot;S&squot;
suffix:colon
r_case
l_char|&squot;E&squot;
suffix:colon
r_case
l_char|&squot;R&squot;
suffix:colon
r_case
l_char|&squot;r&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
r_goto
id|len_error
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
l_int|0
suffix:semicolon
macro_line|#ifdef&t;LITTLE_ENDIAN
r_if
c_cond
(paren
id|c
op_eq
l_char|&squot;r&squot;
)paren
(brace
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
)brace
r_else
(brace
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
)brace
macro_line|#else
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
macro_line|#endif
id|to
op_add_assign
l_int|4
suffix:semicolon
id|len
op_sub_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;I&squot;
suffix:colon
multiline_comment|/* for SET of port indexes */
r_if
c_cond
(paren
id|len
OL
l_int|2
)paren
r_goto
id|len_error
suffix:semicolon
macro_line|#ifdef&t;LITTLE_ENDIAN
id|to
(braket
l_int|1
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
macro_line|#else
id|to
(braket
l_int|0
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
macro_line|#endif
id|to
op_add_assign
l_int|2
suffix:semicolon
id|len
op_sub_assign
l_int|2
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;F&squot;
suffix:colon
r_case
l_char|&squot;B&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
r_goto
id|len_error
suffix:semicolon
id|len
op_sub_assign
l_int|4
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
op_add_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;C&squot;
suffix:colon
r_case
l_char|&squot;T&squot;
suffix:colon
r_case
l_char|&squot;L&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
r_goto
id|len_error
suffix:semicolon
macro_line|#ifdef&t;LITTLE_ENDIAN
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
macro_line|#else
id|to
(braket
l_int|0
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
macro_line|#endif
id|len
op_sub_assign
l_int|4
suffix:semicolon
id|to
op_add_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;2&squot;
suffix:colon
multiline_comment|/* PortMacIndicated */
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
r_goto
id|len_error
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|len
op_sub_assign
l_int|4
suffix:semicolon
id|to
op_add_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;4&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
r_goto
id|len_error
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|len
op_sub_assign
l_int|4
suffix:semicolon
id|to
op_add_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;A&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|8
)paren
r_goto
id|len_error
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
l_int|0
suffix:semicolon
id|memcpy
c_func
(paren
(paren
r_char
op_star
)paren
id|to
op_plus
l_int|2
comma
(paren
r_char
op_star
)paren
id|from
comma
l_int|6
)paren
suffix:semicolon
id|to
op_add_assign
l_int|8
suffix:semicolon
id|from
op_add_assign
l_int|8
suffix:semicolon
id|len
op_sub_assign
l_int|8
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;8&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|8
)paren
r_goto
id|len_error
suffix:semicolon
id|memcpy
c_func
(paren
(paren
r_char
op_star
)paren
id|to
comma
(paren
r_char
op_star
)paren
id|from
comma
l_int|8
)paren
suffix:semicolon
id|to
op_add_assign
l_int|8
suffix:semicolon
id|from
op_add_assign
l_int|8
suffix:semicolon
id|len
op_sub_assign
l_int|8
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;D&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|32
)paren
r_goto
id|len_error
suffix:semicolon
id|memcpy
c_func
(paren
(paren
r_char
op_star
)paren
id|to
comma
(paren
r_char
op_star
)paren
id|from
comma
l_int|32
)paren
suffix:semicolon
id|to
op_add_assign
l_int|32
suffix:semicolon
id|from
op_add_assign
l_int|32
suffix:semicolon
id|len
op_sub_assign
l_int|32
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;P&squot;
suffix:colon
multiline_comment|/* timestamp is NOT swapped */
r_if
c_cond
(paren
id|len
OL
l_int|8
)paren
r_goto
id|len_error
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|4
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|5
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|6
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|7
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
op_add_assign
l_int|8
suffix:semicolon
id|len
op_sub_assign
l_int|8
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|SMT_PANIC
c_func
(paren
id|smc
comma
id|SMT_E0119
comma
id|SMT_E0119_MSG
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
)brace
id|done
suffix:colon
multiline_comment|/*&n;&t; * make it even (in case of &squot;I&squot; encoding)&n;&t; * note: len is DECREMENTED&n;&t; */
r_if
c_cond
(paren
id|len
op_amp
l_int|3
)paren
(brace
id|to
(braket
l_int|0
)braket
op_assign
l_int|0
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
l_int|0
suffix:semicolon
id|to
op_add_assign
l_int|4
op_minus
(paren
id|len
op_amp
l_int|3
)paren
suffix:semicolon
id|len
op_assign
id|len
op_amp
op_complement
l_int|3
suffix:semicolon
)brace
multiline_comment|/* set type and length */
id|pa-&gt;p_type
op_assign
id|para
suffix:semicolon
id|pa-&gt;p_len
op_assign
id|plen
op_minus
id|len
op_minus
id|PARA_LEN
suffix:semicolon
multiline_comment|/* return values */
id|pcon-&gt;pc_p
op_assign
(paren
r_void
op_star
)paren
id|to
suffix:semicolon
id|pcon-&gt;pc_len
op_assign
id|len
suffix:semicolon
r_return
suffix:semicolon
id|sp_done
suffix:colon
id|len
op_sub_assign
id|sp_len
suffix:semicolon
id|to
op_add_assign
id|sp_len
suffix:semicolon
r_goto
id|done
suffix:semicolon
id|len_error
suffix:colon
multiline_comment|/* parameter does not fit in frame */
id|pcon-&gt;pc_err
op_assign
id|SMT_RDF_TOOLONG
suffix:semicolon
r_return
suffix:semicolon
id|wrong_error
suffix:colon
id|pcon-&gt;pc_err
op_assign
id|SMT_RDF_LENGTH
suffix:semicolon
)brace
multiline_comment|/*&n; * set parameter&n; */
DECL|function|smt_set_para
r_int
id|smt_set_para
c_func
(paren
id|smc
comma
id|pa
comma
id|index
comma
id|local
comma
id|set
)paren
r_struct
id|s_smc
op_star
id|smc
suffix:semicolon
r_struct
id|smt_para
op_star
id|pa
suffix:semicolon
r_int
id|index
suffix:semicolon
r_int
id|local
suffix:semicolon
r_int
id|set
suffix:semicolon
(brace
DECL|macro|IFSET
mdefine_line|#define IFSET(x)&t;if (set) (x)
r_const
r_struct
id|s_p_tab
op_star
id|pt
suffix:semicolon
r_int
id|len
suffix:semicolon
r_char
op_star
id|from
suffix:semicolon
r_char
op_star
id|to
suffix:semicolon
r_const
r_char
op_star
id|swap
suffix:semicolon
r_char
id|c
suffix:semicolon
r_char
op_star
id|mib_addr
suffix:semicolon
r_struct
id|fddi_mib
op_star
id|mib
suffix:semicolon
r_struct
id|fddi_mib_m
op_star
id|mib_m
op_assign
l_int|0
suffix:semicolon
r_struct
id|fddi_mib_a
op_star
id|mib_a
op_assign
l_int|0
suffix:semicolon
r_struct
id|fddi_mib_p
op_star
id|mib_p
op_assign
l_int|0
suffix:semicolon
r_int
id|mac
suffix:semicolon
r_int
id|path
suffix:semicolon
r_int
id|port
suffix:semicolon
id|SK_LOC_DECL
c_func
(paren
id|u_char
comma
id|byte_val
)paren
suffix:semicolon
id|SK_LOC_DECL
c_func
(paren
id|u_short
comma
id|word_val
)paren
suffix:semicolon
id|SK_LOC_DECL
c_func
(paren
id|u_long
comma
id|long_val
)paren
suffix:semicolon
id|mac
op_assign
id|index
op_minus
id|INDEX_MAC
suffix:semicolon
id|path
op_assign
id|index
op_minus
id|INDEX_PATH
suffix:semicolon
id|port
op_assign
id|index
op_minus
id|INDEX_PORT
suffix:semicolon
id|len
op_assign
id|pa-&gt;p_len
suffix:semicolon
id|from
op_assign
(paren
r_char
op_star
)paren
(paren
id|pa
op_plus
l_int|1
)paren
suffix:semicolon
id|mib
op_assign
op_amp
id|smc-&gt;mib
suffix:semicolon
r_switch
c_cond
(paren
id|pa-&gt;p_type
op_amp
l_int|0xf000
)paren
(brace
r_case
l_int|0x1000
suffix:colon
r_default
suffix:colon
id|mib_addr
op_assign
(paren
r_char
op_star
)paren
id|mib
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x2000
suffix:colon
r_if
c_cond
(paren
id|mac
OL
l_int|0
op_logical_or
id|mac
op_ge
id|NUMMACS
)paren
(brace
r_return
(paren
id|SMT_RDF_NOPARAM
)paren
suffix:semicolon
)brace
id|mib_m
op_assign
op_amp
id|smc-&gt;mib.m
(braket
id|mac
)braket
suffix:semicolon
id|mib_addr
op_assign
(paren
r_char
op_star
)paren
id|mib_m
suffix:semicolon
id|from
op_add_assign
l_int|4
suffix:semicolon
multiline_comment|/* skip index */
id|len
op_sub_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x3000
suffix:colon
r_if
c_cond
(paren
id|path
OL
l_int|0
op_logical_or
id|path
op_ge
id|NUMPATHS
)paren
(brace
r_return
(paren
id|SMT_RDF_NOPARAM
)paren
suffix:semicolon
)brace
id|mib_a
op_assign
op_amp
id|smc-&gt;mib.a
(braket
id|path
)braket
suffix:semicolon
id|mib_addr
op_assign
(paren
r_char
op_star
)paren
id|mib_a
suffix:semicolon
id|from
op_add_assign
l_int|4
suffix:semicolon
multiline_comment|/* skip index */
id|len
op_sub_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|0x4000
suffix:colon
r_if
c_cond
(paren
id|port
OL
l_int|0
op_logical_or
id|port
op_ge
id|smt_mib_phys
c_func
(paren
id|smc
)paren
)paren
(brace
r_return
(paren
id|SMT_RDF_NOPARAM
)paren
suffix:semicolon
)brace
id|mib_p
op_assign
op_amp
id|smc-&gt;mib.p
(braket
id|port_to_mib
c_func
(paren
id|smc
comma
id|port
)paren
)braket
suffix:semicolon
id|mib_addr
op_assign
(paren
r_char
op_star
)paren
id|mib_p
suffix:semicolon
id|from
op_add_assign
l_int|4
suffix:semicolon
multiline_comment|/* skip index */
id|len
op_sub_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|pa-&gt;p_type
)paren
(brace
r_case
id|SMT_P10F0
suffix:colon
r_case
id|SMT_P10F1
suffix:colon
macro_line|#ifdef&t;ESS
r_case
id|SMT_P10F2
suffix:colon
r_case
id|SMT_P10F3
suffix:colon
r_case
id|SMT_P10F4
suffix:colon
r_case
id|SMT_P10F5
suffix:colon
r_case
id|SMT_P10F6
suffix:colon
r_case
id|SMT_P10F7
suffix:colon
macro_line|#endif
macro_line|#ifdef&t;SBA
r_case
id|SMT_P10F8
suffix:colon
r_case
id|SMT_P10F9
suffix:colon
macro_line|#endif
r_case
id|SMT_P20F1
suffix:colon
r_if
c_cond
(paren
op_logical_neg
id|local
)paren
(brace
r_return
(paren
id|SMT_RDF_NOPARAM
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
id|pt
op_assign
id|smt_get_ptab
c_func
(paren
id|pa-&gt;p_type
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|pt
)paren
(brace
r_return
(paren
(paren
id|pa-&gt;p_type
op_amp
l_int|0xff00
)paren
ques
c_cond
id|SMT_RDF_NOPARAM
suffix:colon
id|SMT_RDF_ILLEGAL
)paren
suffix:semicolon
)brace
r_switch
c_cond
(paren
id|pt-&gt;p_access
)paren
(brace
r_case
id|AC_GR
suffix:colon
r_case
id|AC_S
suffix:colon
r_break
suffix:semicolon
r_default
suffix:colon
r_return
(paren
id|SMT_RDF_ILLEGAL
)paren
suffix:semicolon
)brace
id|to
op_assign
id|mib_addr
op_plus
id|pt-&gt;p_offset
suffix:semicolon
id|swap
op_assign
id|pt-&gt;p_swap
suffix:semicolon
multiline_comment|/* pointer to swap string */
r_while
c_loop
(paren
id|swap
op_logical_and
(paren
id|c
op_assign
op_star
id|swap
op_increment
)paren
)paren
(brace
r_switch
c_cond
(paren
id|c
)paren
(brace
r_case
l_char|&squot;b&squot;
suffix:colon
id|to
op_assign
(paren
r_char
op_star
)paren
op_amp
id|byte_val
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;w&squot;
suffix:colon
id|to
op_assign
(paren
r_char
op_star
)paren
op_amp
id|word_val
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;l&squot;
suffix:colon
id|to
op_assign
(paren
r_char
op_star
)paren
op_amp
id|long_val
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;S&squot;
suffix:colon
r_case
l_char|&squot;E&squot;
suffix:colon
r_case
l_char|&squot;R&squot;
suffix:colon
r_case
l_char|&squot;r&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
(brace
r_goto
id|len_error
suffix:semicolon
)brace
r_if
c_cond
(paren
id|from
(braket
l_int|0
)braket
op_or
id|from
(braket
l_int|1
)braket
)paren
r_goto
id|val_error
suffix:semicolon
macro_line|#ifdef&t;LITTLE_ENDIAN
r_if
c_cond
(paren
id|c
op_eq
l_char|&squot;r&squot;
)paren
(brace
id|to
(braket
l_int|0
)braket
op_assign
id|from
(braket
l_int|2
)braket
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
id|from
(braket
l_int|3
)braket
suffix:semicolon
)brace
r_else
(brace
id|to
(braket
l_int|1
)braket
op_assign
id|from
(braket
l_int|2
)braket
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
id|from
(braket
l_int|3
)braket
suffix:semicolon
)brace
macro_line|#else
id|to
(braket
l_int|0
)braket
op_assign
id|from
(braket
l_int|2
)braket
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
id|from
(braket
l_int|3
)braket
suffix:semicolon
macro_line|#endif
id|from
op_add_assign
l_int|4
suffix:semicolon
id|to
op_add_assign
l_int|2
suffix:semicolon
id|len
op_sub_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;F&squot;
suffix:colon
r_case
l_char|&squot;B&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
(brace
r_goto
id|len_error
suffix:semicolon
)brace
r_if
c_cond
(paren
id|from
(braket
l_int|0
)braket
op_or
id|from
(braket
l_int|1
)braket
op_or
id|from
(braket
l_int|2
)braket
)paren
r_goto
id|val_error
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
id|from
(braket
l_int|3
)braket
suffix:semicolon
id|len
op_sub_assign
l_int|4
suffix:semicolon
id|from
op_add_assign
l_int|4
suffix:semicolon
id|to
op_add_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;C&squot;
suffix:colon
r_case
l_char|&squot;T&squot;
suffix:colon
r_case
l_char|&squot;L&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
(brace
r_goto
id|len_error
suffix:semicolon
)brace
macro_line|#ifdef&t;LITTLE_ENDIAN
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|0
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
macro_line|#else
id|to
(braket
l_int|0
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
macro_line|#endif
id|len
op_sub_assign
l_int|4
suffix:semicolon
id|to
op_add_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;A&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|8
)paren
r_goto
id|len_error
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
id|memcpy
c_func
(paren
(paren
r_char
op_star
)paren
id|to
comma
(paren
r_char
op_star
)paren
id|from
op_plus
l_int|2
comma
l_int|6
)paren
suffix:semicolon
id|to
op_add_assign
l_int|8
suffix:semicolon
id|from
op_add_assign
l_int|8
suffix:semicolon
id|len
op_sub_assign
l_int|8
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;4&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|4
)paren
r_goto
id|len_error
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
id|memcpy
c_func
(paren
(paren
r_char
op_star
)paren
id|to
comma
(paren
r_char
op_star
)paren
id|from
comma
l_int|4
)paren
suffix:semicolon
id|to
op_add_assign
l_int|4
suffix:semicolon
id|from
op_add_assign
l_int|4
suffix:semicolon
id|len
op_sub_assign
l_int|4
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;8&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|8
)paren
r_goto
id|len_error
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
id|memcpy
c_func
(paren
(paren
r_char
op_star
)paren
id|to
comma
(paren
r_char
op_star
)paren
id|from
comma
l_int|8
)paren
suffix:semicolon
id|to
op_add_assign
l_int|8
suffix:semicolon
id|from
op_add_assign
l_int|8
suffix:semicolon
id|len
op_sub_assign
l_int|8
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;D&squot;
suffix:colon
r_if
c_cond
(paren
id|len
OL
l_int|32
)paren
r_goto
id|len_error
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
id|memcpy
c_func
(paren
(paren
r_char
op_star
)paren
id|to
comma
(paren
r_char
op_star
)paren
id|from
comma
l_int|32
)paren
suffix:semicolon
id|to
op_add_assign
l_int|32
suffix:semicolon
id|from
op_add_assign
l_int|32
suffix:semicolon
id|len
op_sub_assign
l_int|32
suffix:semicolon
r_break
suffix:semicolon
r_case
l_char|&squot;P&squot;
suffix:colon
multiline_comment|/* timestamp is NOT swapped */
r_if
c_cond
(paren
id|set
)paren
(brace
id|to
(braket
l_int|0
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|1
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|2
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|3
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|4
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|5
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|6
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
id|to
(braket
l_int|7
)braket
op_assign
op_star
id|from
op_increment
suffix:semicolon
)brace
id|to
op_add_assign
l_int|8
suffix:semicolon
id|len
op_sub_assign
l_int|8
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
id|SMT_PANIC
c_func
(paren
id|smc
comma
id|SMT_E0120
comma
id|SMT_E0120_MSG
)paren
suffix:semicolon
r_return
(paren
id|SMT_RDF_ILLEGAL
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n;&t; * actions and internal updates&n;&t; */
r_switch
c_cond
(paren
id|pa-&gt;p_type
)paren
(brace
r_case
id|SMT_P101A
suffix:colon
multiline_comment|/* fddiSMTConfigPolicy */
r_if
c_cond
(paren
id|word_val
op_amp
op_complement
l_int|1
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiSMTConfigPolicy
op_assign
id|word_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P101B
suffix:colon
multiline_comment|/* fddiSMTConnectionPolicy */
r_if
c_cond
(paren
op_logical_neg
(paren
id|word_val
op_amp
id|POLICY_MM
)paren
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiSMTConnectionPolicy
op_assign
id|word_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P101D
suffix:colon
multiline_comment|/* fddiSMTTT_Notify */
r_if
c_cond
(paren
id|word_val
template_param
l_int|30
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiSMTTT_Notify
op_assign
id|word_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P101E
suffix:colon
multiline_comment|/* fddiSMTStatRptPolicy */
r_if
c_cond
(paren
id|byte_val
op_amp
op_complement
l_int|1
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiSMTStatRptPolicy
op_assign
id|byte_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P101F
suffix:colon
multiline_comment|/* fddiSMTTrace_MaxExpiration */
multiline_comment|/*&n;&t;&t; * note: lower limit trace_max = 6.001773... s&n;&t;&t; * NO upper limit&n;&t;&t; */
r_if
c_cond
(paren
id|long_val
OL
(paren
r_int
)paren
l_int|0x478bf51L
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiSMTTrace_MaxExpiration
op_assign
id|long_val
)paren
suffix:semicolon
r_break
suffix:semicolon
macro_line|#ifdef&t;ESS
r_case
id|SMT_P10F2
suffix:colon
multiline_comment|/* fddiESSPayload */
r_if
c_cond
(paren
id|long_val
OG
l_int|1562
)paren
r_goto
id|val_error
suffix:semicolon
r_if
c_cond
(paren
id|set
op_logical_and
id|smc-&gt;mib.fddiESSPayload
op_ne
id|long_val
)paren
(brace
id|smc-&gt;ess.raf_act_timer_poll
op_assign
id|TRUE
suffix:semicolon
id|smc-&gt;mib.fddiESSPayload
op_assign
id|long_val
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|SMT_P10F3
suffix:colon
multiline_comment|/* fddiESSOverhead */
r_if
c_cond
(paren
id|long_val
template_param
l_int|5000
)paren
r_goto
id|val_error
suffix:semicolon
r_if
c_cond
(paren
id|set
op_logical_and
id|smc-&gt;mib.fddiESSPayload
op_logical_and
id|smc-&gt;mib.fddiESSOverhead
op_ne
id|long_val
)paren
(brace
id|smc-&gt;ess.raf_act_timer_poll
op_assign
id|TRUE
suffix:semicolon
id|smc-&gt;mib.fddiESSOverhead
op_assign
id|long_val
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|SMT_P10F4
suffix:colon
multiline_comment|/* fddiESSMaxTNeg */
r_if
c_cond
(paren
id|long_val
OG
op_minus
id|MS2BCLK
c_func
(paren
l_int|5
)paren
op_logical_or
id|long_val
OL
op_minus
id|MS2BCLK
c_func
(paren
l_int|165
)paren
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiESSMaxTNeg
op_assign
id|long_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P10F5
suffix:colon
multiline_comment|/* fddiESSMinSegmentSize */
r_if
c_cond
(paren
id|long_val
template_param
l_int|4478
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiESSMinSegmentSize
op_assign
id|long_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P10F6
suffix:colon
multiline_comment|/* fddiESSCategory */
r_if
c_cond
(paren
(paren
id|long_val
op_amp
l_int|0xffff
)paren
op_ne
l_int|1
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiESSCategory
op_assign
id|long_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P10F7
suffix:colon
multiline_comment|/* fddiESSSyncTxMode */
r_if
c_cond
(paren
id|word_val
OG
l_int|1
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiESSSynchTxMode
op_assign
id|word_val
)paren
suffix:semicolon
r_break
suffix:semicolon
macro_line|#endif
macro_line|#ifdef&t;SBA
r_case
id|SMT_P10F8
suffix:colon
multiline_comment|/* fddiSBACommand */
r_if
c_cond
(paren
id|byte_val
op_ne
id|SB_STOP
op_logical_and
id|byte_val
op_ne
id|SB_START
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiSBACommand
op_assign
id|byte_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P10F9
suffix:colon
multiline_comment|/* fddiSBAAvailable */
r_if
c_cond
(paren
id|byte_val
OG
l_int|100
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib-&gt;fddiSBAAvailable
op_assign
id|byte_val
)paren
suffix:semicolon
r_break
suffix:semicolon
macro_line|#endif
r_case
id|SMT_P2020
suffix:colon
multiline_comment|/* fddiMACRequestedPaths */
r_if
c_cond
(paren
(paren
id|word_val
op_amp
(paren
id|MIB_P_PATH_PRIM_PREFER
op_or
id|MIB_P_PATH_PRIM_ALTER
)paren
)paren
op_eq
l_int|0
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib_m-&gt;fddiMACRequestedPaths
op_assign
id|word_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P205F
suffix:colon
multiline_comment|/* fddiMACFrameErrorThreshold */
multiline_comment|/* 0 .. ffff acceptable */
id|IFSET
c_func
(paren
id|mib_m-&gt;fddiMACFrameErrorThreshold
op_assign
id|word_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P2067
suffix:colon
multiline_comment|/* fddiMACNotCopiedThreshold */
multiline_comment|/* 0 .. ffff acceptable */
id|IFSET
c_func
(paren
id|mib_m-&gt;fddiMACNotCopiedThreshold
op_assign
id|word_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P2076
suffix:colon
multiline_comment|/* fddiMACMA_UnitdataEnable */
r_if
c_cond
(paren
id|byte_val
op_amp
op_complement
l_int|1
)paren
r_goto
id|val_error
suffix:semicolon
r_if
c_cond
(paren
id|set
)paren
(brace
id|mib_m-&gt;fddiMACMA_UnitdataEnable
op_assign
id|byte_val
suffix:semicolon
id|queue_event
c_func
(paren
id|smc
comma
id|EVENT_RMT
comma
id|RM_ENABLE_FLAG
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|SMT_P20F1
suffix:colon
multiline_comment|/* fddiMACT_Min */
id|IFSET
c_func
(paren
id|mib_m-&gt;fddiMACT_Min
op_assign
id|long_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P320F
suffix:colon
r_if
c_cond
(paren
id|long_val
OG
l_int|1562
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib_a-&gt;fddiPATHSbaPayload
op_assign
id|long_val
)paren
suffix:semicolon
macro_line|#ifdef&t;ESS
r_if
c_cond
(paren
id|set
)paren
id|ess_para_change
c_func
(paren
id|smc
)paren
suffix:semicolon
macro_line|#endif
r_break
suffix:semicolon
r_case
id|SMT_P3210
suffix:colon
r_if
c_cond
(paren
id|long_val
OG
l_int|5000
)paren
r_goto
id|val_error
suffix:semicolon
r_if
c_cond
(paren
id|long_val
op_ne
l_int|0
op_logical_and
id|mib_a-&gt;fddiPATHSbaPayload
op_eq
l_int|0
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib_a-&gt;fddiPATHSbaOverhead
op_assign
id|long_val
)paren
suffix:semicolon
macro_line|#ifdef&t;ESS
r_if
c_cond
(paren
id|set
)paren
id|ess_para_change
c_func
(paren
id|smc
)paren
suffix:semicolon
macro_line|#endif
r_break
suffix:semicolon
r_case
id|SMT_P3213
suffix:colon
multiline_comment|/* fddiPATHT_Rmode */
multiline_comment|/* no limit :&n;&t;&t; * 0 .. 343.597 =&gt; 0 .. 2e32 * 80nS&n;&t;&t; */
r_if
c_cond
(paren
id|set
)paren
(brace
id|mib_a-&gt;fddiPATHT_Rmode
op_assign
id|long_val
suffix:semicolon
id|rtm_set_timer
c_func
(paren
id|smc
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|SMT_P3214
suffix:colon
multiline_comment|/* fddiPATHSbaAvailable */
r_if
c_cond
(paren
id|long_val
OG
l_int|0x00BEBC20L
)paren
r_goto
id|val_error
suffix:semicolon
macro_line|#ifdef SBA 
r_if
c_cond
(paren
id|set
op_logical_and
id|mib-&gt;fddiSBACommand
op_eq
id|SB_STOP
)paren
r_goto
id|val_error
suffix:semicolon
macro_line|#endif
id|IFSET
c_func
(paren
id|mib_a-&gt;fddiPATHSbaAvailable
op_assign
id|long_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P3215
suffix:colon
multiline_comment|/* fddiPATHTVXLowerBound */
id|IFSET
c_func
(paren
id|mib_a-&gt;fddiPATHTVXLowerBound
op_assign
id|long_val
)paren
suffix:semicolon
r_goto
id|change_mac_para
suffix:semicolon
r_case
id|SMT_P3216
suffix:colon
multiline_comment|/* fddiPATHT_MaxLowerBound */
id|IFSET
c_func
(paren
id|mib_a-&gt;fddiPATHT_MaxLowerBound
op_assign
id|long_val
)paren
suffix:semicolon
r_goto
id|change_mac_para
suffix:semicolon
r_case
id|SMT_P3217
suffix:colon
multiline_comment|/* fddiPATHMaxT_Req */
id|IFSET
c_func
(paren
id|mib_a-&gt;fddiPATHMaxT_Req
op_assign
id|long_val
)paren
suffix:semicolon
id|change_mac_para
suffix:colon
r_if
c_cond
(paren
id|set
op_logical_and
id|smt_set_mac_opvalues
c_func
(paren
id|smc
)paren
)paren
(brace
id|RS_SET
c_func
(paren
id|smc
comma
id|RS_EVENT
)paren
suffix:semicolon
id|smc-&gt;sm.please_reconnect
op_assign
l_int|1
suffix:semicolon
id|queue_event
c_func
(paren
id|smc
comma
id|EVENT_ECM
comma
id|EC_DISCONNECT
)paren
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
id|SMT_P400E
suffix:colon
multiline_comment|/* fddiPORTConnectionPolicies */
r_if
c_cond
(paren
id|byte_val
OG
l_int|1
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib_p-&gt;fddiPORTConnectionPolicies
op_assign
id|byte_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P4011
suffix:colon
multiline_comment|/* fddiPORTRequestedPaths */
multiline_comment|/* all 3*8 bits allowed */
id|IFSET
c_func
(paren
id|memcpy
c_func
(paren
(paren
r_char
op_star
)paren
id|mib_p-&gt;fddiPORTRequestedPaths
comma
(paren
r_char
op_star
)paren
op_amp
id|long_val
comma
l_int|4
)paren
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P401F
suffix:colon
multiline_comment|/* fddiPORTMaint_LS */
r_if
c_cond
(paren
id|word_val
OG
l_int|4
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib_p-&gt;fddiPORTMaint_LS
op_assign
id|word_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P403A
suffix:colon
multiline_comment|/* fddiPORTLer_Cutoff */
r_if
c_cond
(paren
id|byte_val
template_param
l_int|15
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib_p-&gt;fddiPORTLer_Cutoff
op_assign
id|byte_val
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P403B
suffix:colon
multiline_comment|/* fddiPORTLer_Alarm */
r_if
c_cond
(paren
id|byte_val
template_param
l_int|15
)paren
r_goto
id|val_error
suffix:semicolon
id|IFSET
c_func
(paren
id|mib_p-&gt;fddiPORTLer_Alarm
op_assign
id|byte_val
)paren
suffix:semicolon
r_break
suffix:semicolon
multiline_comment|/*&n;&t; * Actions&n;&t; */
r_case
id|SMT_P103C
suffix:colon
multiline_comment|/* fddiSMTStationAction */
r_if
c_cond
(paren
id|smt_action
c_func
(paren
id|smc
comma
id|SMT_STATION_ACTION
comma
(paren
r_int
)paren
id|word_val
comma
l_int|0
)paren
)paren
r_goto
id|val_error
suffix:semicolon
r_break
suffix:semicolon
r_case
id|SMT_P4046
suffix:colon
multiline_comment|/* fddiPORTAction */
r_if
c_cond
(paren
id|smt_action
c_func
(paren
id|smc
comma
id|SMT_PORT_ACTION
comma
(paren
r_int
)paren
id|word_val
comma
id|port_to_mib
c_func
(paren
id|smc
comma
id|port
)paren
)paren
)paren
r_goto
id|val_error
suffix:semicolon
r_break
suffix:semicolon
r_default
suffix:colon
r_break
suffix:semicolon
)brace
r_return
(paren
l_int|0
)paren
suffix:semicolon
id|val_error
suffix:colon
multiline_comment|/* parameter value in frame is out of range */
r_return
(paren
id|SMT_RDF_RANGE
)paren
suffix:semicolon
id|len_error
suffix:colon
multiline_comment|/* parameter value in frame is too short */
r_return
(paren
id|SMT_RDF_LENGTH
)paren
suffix:semicolon
macro_line|#if&t;0
id|no_author_error
suffix:colon
multiline_comment|/* parameter not setable, because the SBA is not active&n;&t; * Please note: we give the return code &squot;not authorizeed&n;&t; *  because SBA denied is not a valid return code in the&n;&t; * PMF protocol.&n;&t; */
r_return
(paren
id|SMT_RDF_AUTHOR
)paren
suffix:semicolon
macro_line|#endif
)brace
DECL|function|smt_get_ptab
r_static
r_const
r_struct
id|s_p_tab
op_star
id|smt_get_ptab
c_func
(paren
id|para
)paren
id|u_short
id|para
suffix:semicolon
(brace
r_const
r_struct
id|s_p_tab
op_star
id|pt
suffix:semicolon
r_for
c_loop
(paren
id|pt
op_assign
id|p_tab
suffix:semicolon
id|pt-&gt;p_num
op_logical_and
id|pt-&gt;p_num
op_ne
id|para
suffix:semicolon
id|pt
op_increment
)paren
suffix:semicolon
r_return
(paren
id|pt-&gt;p_num
ques
c_cond
id|pt
suffix:colon
l_int|0
)paren
suffix:semicolon
)brace
DECL|function|smt_mib_phys
r_static
r_int
id|smt_mib_phys
c_func
(paren
id|smc
)paren
r_struct
id|s_smc
op_star
id|smc
suffix:semicolon
(brace
macro_line|#ifdef&t;CONCENTRATOR
id|SK_UNUSED
c_func
(paren
id|smc
)paren
suffix:semicolon
r_return
(paren
id|NUMPHYS
)paren
suffix:semicolon
macro_line|#else
r_if
c_cond
(paren
id|smc-&gt;s.sas
op_eq
id|SMT_SAS
)paren
r_return
(paren
l_int|1
)paren
suffix:semicolon
r_return
(paren
id|NUMPHYS
)paren
suffix:semicolon
macro_line|#endif
)brace
DECL|function|port_to_mib
r_int
id|port_to_mib
c_func
(paren
id|smc
comma
id|p
)paren
r_struct
id|s_smc
op_star
id|smc
suffix:semicolon
r_int
id|p
suffix:semicolon
(brace
macro_line|#ifdef&t;CONCENTRATOR
id|SK_UNUSED
c_func
(paren
id|smc
)paren
suffix:semicolon
r_return
(paren
id|p
)paren
suffix:semicolon
macro_line|#else
r_if
c_cond
(paren
id|smc-&gt;s.sas
op_eq
id|SMT_SAS
)paren
r_return
(paren
id|PS
)paren
suffix:semicolon
r_return
(paren
id|p
)paren
suffix:semicolon
macro_line|#endif
)brace
macro_line|#ifdef&t;DEBUG
macro_line|#ifndef&t;BOOT
DECL|function|dump_smt
r_void
id|dump_smt
c_func
(paren
id|smc
comma
id|sm
comma
id|text
)paren
r_struct
id|s_smc
op_star
id|smc
suffix:semicolon
r_struct
id|smt_header
op_star
id|sm
suffix:semicolon
r_char
op_star
id|text
suffix:semicolon
(brace
r_int
id|len
suffix:semicolon
r_struct
id|smt_para
op_star
id|pa
suffix:semicolon
r_char
op_star
id|c
suffix:semicolon
r_int
id|n
suffix:semicolon
r_int
id|nn
suffix:semicolon
macro_line|#ifdef&t;LITTLE_ENDIAN
r_int
id|smtlen
suffix:semicolon
macro_line|#endif
id|SK_UNUSED
c_func
(paren
id|smc
)paren
suffix:semicolon
macro_line|#ifdef&t;DEBUG_BRD
r_if
c_cond
(paren
id|smc-&gt;debug.d_smtf
OL
l_int|2
)paren
macro_line|#else
r_if
c_cond
(paren
id|debug.d_smtf
OL
l_int|2
)paren
macro_line|#endif
r_return
suffix:semicolon
macro_line|#ifdef&t;LITTLE_ENDIAN
id|smtlen
op_assign
id|sm-&gt;smt_len
op_plus
r_sizeof
(paren
r_struct
id|smt_header
)paren
suffix:semicolon
macro_line|#endif
id|printf
c_func
(paren
l_string|&quot;SMT Frame [%s]:&bslash;nDA  &quot;
comma
id|text
)paren
suffix:semicolon
id|dump_hex
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
id|sm-&gt;smt_dest
comma
l_int|6
)paren
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot;&bslash;tSA &quot;
)paren
suffix:semicolon
id|dump_hex
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
id|sm-&gt;smt_source
comma
l_int|6
)paren
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot; Class %x Type %x Version %x&bslash;n&quot;
comma
id|sm-&gt;smt_class
comma
id|sm-&gt;smt_type
comma
id|sm-&gt;smt_version
)paren
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot;TID %lx&bslash;t&bslash;tSID &quot;
comma
id|sm-&gt;smt_tid
)paren
suffix:semicolon
id|dump_hex
c_func
(paren
(paren
r_char
op_star
)paren
op_amp
id|sm-&gt;smt_sid
comma
l_int|8
)paren
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot; LEN %x&bslash;n&quot;
comma
id|sm-&gt;smt_len
)paren
suffix:semicolon
id|len
op_assign
id|sm-&gt;smt_len
suffix:semicolon
id|pa
op_assign
(paren
r_struct
id|smt_para
op_star
)paren
(paren
id|sm
op_plus
l_int|1
)paren
suffix:semicolon
r_while
c_loop
(paren
id|len
OG
l_int|0
)paren
(brace
r_int
id|plen
suffix:semicolon
macro_line|#ifdef UNIX
id|printf
c_func
(paren
l_string|&quot;TYPE %x LEN %x VALUE&bslash;t&quot;
comma
id|pa-&gt;p_type
comma
id|pa-&gt;p_len
)paren
suffix:semicolon
macro_line|#else
id|printf
c_func
(paren
l_string|&quot;TYPE %04x LEN %2x VALUE&bslash;t&quot;
comma
id|pa-&gt;p_type
comma
id|pa-&gt;p_len
)paren
suffix:semicolon
macro_line|#endif
id|n
op_assign
id|pa-&gt;p_len
suffix:semicolon
r_if
c_cond
(paren
(paren
id|n
OL
l_int|0
)paren
op_logical_or
(paren
id|n
OG
(paren
r_int
)paren
(paren
id|len
op_minus
id|PARA_LEN
)paren
)paren
)paren
(brace
id|n
op_assign
id|len
op_minus
id|PARA_LEN
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot; BAD LENGTH&bslash;n&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
macro_line|#ifdef&t;LITTLE_ENDIAN
id|smt_swap_para
c_func
(paren
id|sm
comma
id|smtlen
comma
l_int|0
)paren
suffix:semicolon
macro_line|#endif
r_if
c_cond
(paren
id|n
OL
l_int|24
)paren
(brace
id|dump_hex
c_func
(paren
(paren
r_char
op_star
)paren
(paren
id|pa
op_plus
l_int|1
)paren
comma
(paren
r_int
)paren
id|n
)paren
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
r_else
(brace
r_int
id|first
op_assign
l_int|0
suffix:semicolon
id|c
op_assign
(paren
r_char
op_star
)paren
(paren
id|pa
op_plus
l_int|1
)paren
suffix:semicolon
id|dump_hex
c_func
(paren
id|c
comma
l_int|16
)paren
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|n
op_sub_assign
l_int|16
suffix:semicolon
id|c
op_add_assign
l_int|16
suffix:semicolon
r_while
c_loop
(paren
id|n
OG
l_int|0
)paren
(brace
id|nn
op_assign
(paren
id|n
OG
l_int|16
)paren
ques
c_cond
l_int|16
suffix:colon
id|n
suffix:semicolon
r_if
c_cond
(paren
id|n
OG
l_int|64
)paren
(brace
r_if
c_cond
(paren
id|first
op_eq
l_int|0
)paren
id|printf
c_func
(paren
l_string|&quot;&bslash;t&bslash;t&bslash;t...&bslash;n&quot;
)paren
suffix:semicolon
id|first
op_assign
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|printf
c_func
(paren
l_string|&quot;&bslash;t&bslash;t&bslash;t&quot;
)paren
suffix:semicolon
id|dump_hex
c_func
(paren
id|c
comma
id|nn
)paren
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
)brace
id|n
op_sub_assign
id|nn
suffix:semicolon
id|c
op_add_assign
l_int|16
suffix:semicolon
)brace
)brace
macro_line|#ifdef&t;LITTLE_ENDIAN
id|smt_swap_para
c_func
(paren
id|sm
comma
id|smtlen
comma
l_int|1
)paren
suffix:semicolon
macro_line|#endif
id|plen
op_assign
(paren
id|pa-&gt;p_len
op_plus
id|PARA_LEN
op_plus
l_int|3
)paren
op_amp
op_complement
l_int|3
suffix:semicolon
id|len
op_sub_assign
id|plen
suffix:semicolon
id|pa
op_assign
(paren
r_struct
id|smt_para
op_star
)paren
(paren
(paren
r_char
op_star
)paren
id|pa
op_plus
id|plen
)paren
suffix:semicolon
)brace
id|printf
c_func
(paren
l_string|&quot;-------------------------------------------------&bslash;n&bslash;n&quot;
)paren
suffix:semicolon
)brace
DECL|function|dump_hex
r_void
id|dump_hex
c_func
(paren
id|p
comma
id|len
)paren
r_char
op_star
id|p
suffix:semicolon
r_int
id|len
suffix:semicolon
(brace
r_int
id|n
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|len
op_decrement
)paren
(brace
id|n
op_increment
suffix:semicolon
macro_line|#ifdef UNIX
id|printf
c_func
(paren
l_string|&quot;%x%s&quot;
comma
op_star
id|p
op_increment
op_amp
l_int|0xff
comma
id|len
ques
c_cond
(paren
(paren
id|n
op_amp
l_int|7
)paren
ques
c_cond
l_string|&quot; &quot;
suffix:colon
l_string|&quot;-&quot;
)paren
suffix:colon
l_string|&quot;&quot;
)paren
suffix:semicolon
macro_line|#else
id|printf
c_func
(paren
l_string|&quot;%02x%s&quot;
comma
op_star
id|p
op_increment
op_amp
l_int|0xff
comma
id|len
ques
c_cond
(paren
(paren
id|n
op_amp
l_int|7
)paren
ques
c_cond
l_string|&quot; &quot;
suffix:colon
l_string|&quot;-&quot;
)paren
suffix:colon
l_string|&quot;&quot;
)paren
suffix:semicolon
macro_line|#endif
)brace
)brace
macro_line|#endif&t;/* no BOOT */
macro_line|#endif&t;/* DEBUG */
macro_line|#endif&t;/* no SLIM_SMT */
eof
