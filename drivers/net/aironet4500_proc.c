multiline_comment|/*&n; *&t; Aironet 4500 Pcmcia driver&n; *&n; *&t;&t;Elmer Joandi, Januar 1999&n; *&t;Copyright GPL&n; *&t;&n; *&n; *&t;Revision 0.1 ,started  30.12.1998&n; *&n; *&n; */
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/version.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/ptrace.h&gt;
macro_line|#include &lt;linux/malloc.h&gt;
macro_line|#include &lt;linux/string.h&gt;
macro_line|#include &lt;linux/timer.h&gt;
macro_line|#include &lt;linux/interrupt.h&gt;
macro_line|#include &lt;linux/in.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/system.h&gt;
macro_line|#include &lt;asm/bitops.h&gt;
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/etherdevice.h&gt;
macro_line|#include &lt;linux/skbuff.h&gt;
macro_line|#include &lt;linux/if_arp.h&gt;
macro_line|#include &lt;linux/ioport.h&gt;
macro_line|#ifdef CONFIG_PROC_FS
macro_line|#ifdef CONFIG_PROC_FS
macro_line|#include &lt;linux/sysctl.h&gt;
macro_line|#else
macro_line|#error awc driver needs CONFIG_PROC_FS
macro_line|#endif
macro_line|#include &quot;aironet4500.h&quot;
macro_line|#include &quot;aironet4500_rid.c&quot;
DECL|macro|AWC_STR_SIZE
mdefine_line|#define AWC_STR_SIZE &t;0x2ff0
DECL|macro|DEV_AWC_INFO
mdefine_line|#define DEV_AWC_INFO &t;1
DECL|macro|DEV_AWC
mdefine_line|#define DEV_AWC &t;1
DECL|struct|awc_proc_private
r_struct
id|awc_proc_private
(brace
DECL|member|sysctl_header
r_struct
id|ctl_table_header
op_star
id|sysctl_header
suffix:semicolon
DECL|member|proc_table
r_struct
id|ctl_table
op_star
id|proc_table
suffix:semicolon
DECL|member|proc_table_device_root
r_struct
id|ctl_table
id|proc_table_device_root
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|proc_table_sys_root
r_struct
id|ctl_table
id|proc_table_sys_root
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|proc_name
r_char
id|proc_name
(braket
l_int|10
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|variable|awc_drive_info
r_static
r_char
id|awc_drive_info
(braket
id|AWC_STR_SIZE
)braket
op_assign
l_string|&quot;Zcom &bslash;n&bslash;0&quot;
suffix:semicolon
DECL|variable|awc_proc_buff
r_static
r_char
id|awc_proc_buff
(braket
id|AWC_STR_SIZE
)braket
op_assign
l_string|&quot;&bslash;0&quot;
suffix:semicolon
DECL|variable|awc_int_buff
r_static
r_int
id|awc_int_buff
suffix:semicolon
DECL|variable|awc_proc_priv
r_static
r_struct
id|awc_proc_private
id|awc_proc_priv
(braket
id|MAX_AWCS
)braket
suffix:semicolon
r_extern
r_int
id|awc_proc_unset_device
c_func
(paren
r_int
id|device_number
)paren
suffix:semicolon
DECL|function|awc_proc_format_array
r_int
(def_block
id|awc_proc_format_array
c_func
(paren
r_int
id|write
comma
r_char
op_star
id|buff
comma
r_int
op_star
id|len
comma
r_struct
id|awc_rid_dir
op_star
id|rid_dir
comma
r_struct
id|aironet4500_RID
op_star
id|rid
)paren
(brace
id|u8
op_star
id|data
op_assign
id|rid_dir-&gt;buff
op_plus
id|rid-&gt;offset
suffix:semicolon
r_int
id|pos
op_assign
l_int|0
suffix:semicolon
r_int
id|null_past
op_assign
l_int|0
suffix:semicolon
r_int
id|hex
op_assign
(paren
(paren
id|rid-&gt;mask
op_eq
l_int|0xff
)paren
op_logical_and
(paren
id|rid-&gt;value
op_eq
l_int|0x0
)paren
)paren
suffix:semicolon
r_int
id|string
op_assign
(paren
(paren
id|rid-&gt;mask
op_eq
l_int|0
)paren
op_logical_and
(paren
id|rid-&gt;value
op_eq
l_int|0
)paren
)paren
suffix:semicolon
id|u32
id|val
op_assign
l_int|0
suffix:semicolon
r_int
id|bytes
op_assign
(paren
id|rid-&gt;bits
op_div
l_int|8
)paren
suffix:semicolon
r_int
id|ch
op_assign
l_int|0
suffix:semicolon
r_int
id|i
comma
id|k
suffix:semicolon
r_int
id|array_len
op_assign
id|rid-&gt;array
suffix:semicolon
r_int
id|nullX
op_assign
l_int|0
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;awc_proc_format_array&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;bits
op_mod
l_int|8
)paren
id|bytes
op_add_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|bytes
OG
l_int|4
op_logical_and
id|rid-&gt;array
op_eq
l_int|1
)paren
(brace
id|array_len
op_assign
id|bytes
suffix:semicolon
id|bytes
op_assign
l_int|1
suffix:semicolon
id|hex
op_assign
l_int|1
suffix:semicolon
)brace
suffix:semicolon
r_if
c_cond
(paren
id|bytes
template_param
l_int|4
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot; weird number of bytes %d in aironet rid &bslash;n&quot;
comma
id|bytes
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awc proc array  bytes %d&quot;
comma
id|bytes
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot; hex %d&quot;
comma
id|hex
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot; string %d&quot;
comma
id|string
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot; array_len %d &bslash;n&quot;
comma
id|array_len
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot; offset %d &bslash;n&quot;
comma
id|rid-&gt;offset
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|write
)paren
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|array_len
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|bytes
op_le
l_int|1
)paren
id|val
op_assign
id|data
(braket
id|i
op_star
id|bytes
)braket
suffix:semicolon
r_else
r_if
c_cond
(paren
id|bytes
op_le
l_int|2
)paren
id|val
op_assign
op_star
(paren
(paren
id|u16
op_star
)paren
op_amp
id|data
(braket
id|i
op_star
id|bytes
)braket
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|bytes
op_le
l_int|4
)paren
id|val
op_assign
op_star
(paren
(paren
id|u32
op_star
)paren
op_amp
id|data
(braket
id|i
op_star
id|bytes
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;null_terminated
op_logical_and
op_logical_neg
id|val
)paren
id|null_past
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|hex
op_logical_and
op_logical_neg
id|string
)paren
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|bytes
suffix:semicolon
id|k
op_increment
)paren
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|buff
op_plus
id|pos
comma
l_string|&quot;%02x&quot;
comma
(paren
r_int
r_char
)paren
id|data
(braket
id|i
op_star
id|bytes
op_plus
id|k
)braket
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|string
)paren
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|buff
op_plus
id|pos
comma
l_string|&quot;%c&quot;
comma
id|val
)paren
suffix:semicolon
r_else
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|buff
op_plus
id|pos
comma
l_string|&quot;%c&quot;
comma
id|val
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awcproc %x %x &bslash;n&quot;
comma
id|data
(braket
id|i
)braket
comma
id|val
)paren
suffix:semicolon
)brace
suffix:semicolon
)brace
r_else
(brace
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|array_len
suffix:semicolon
id|i
op_increment
)paren
(brace
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awcproc %x %x &bslash;n&quot;
comma
id|data
(braket
id|i
)braket
comma
id|buff
(braket
id|i
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|hex
op_logical_and
op_logical_neg
id|string
)paren
(brace
id|val
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|bytes
suffix:semicolon
id|k
op_increment
)paren
(brace
id|val
op_lshift_assign
l_int|8
suffix:semicolon
id|ch
op_assign
op_star
(paren
id|buff
op_plus
l_int|2
op_star
id|i
op_star
id|bytes
op_plus
id|k
op_plus
id|nullX
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ch
op_ge
l_char|&squot;0&squot;
op_logical_and
id|ch
op_le
l_char|&squot;9&squot;
)paren
id|ch
op_sub_assign
l_char|&squot;0&squot;
suffix:semicolon
r_if
c_cond
(paren
id|ch
op_ge
l_char|&squot;A&squot;
op_logical_and
id|ch
op_le
l_char|&squot;F&squot;
)paren
id|ch
op_sub_assign
l_char|&squot;A&squot;
op_plus
l_int|0xA
suffix:semicolon
r_if
c_cond
(paren
id|ch
op_ge
l_char|&squot;a&squot;
op_logical_and
id|ch
op_le
l_char|&squot;f&squot;
)paren
id|ch
op_sub_assign
l_char|&squot;a&squot;
op_plus
l_int|0xA
suffix:semicolon
id|val
op_add_assign
id|ch
op_lshift
l_int|4
suffix:semicolon
id|k
op_increment
suffix:semicolon
id|ch
op_assign
op_star
(paren
id|buff
op_plus
l_int|2
op_star
id|i
op_star
id|bytes
op_plus
id|k
op_plus
id|nullX
)paren
suffix:semicolon
r_if
c_cond
(paren
id|val
op_eq
l_int|0
op_logical_and
(paren
id|ch
op_eq
l_char|&squot;X&squot;
op_logical_or
id|ch
op_eq
l_char|&squot;x&squot;
)paren
)paren
(brace
id|nullX
op_assign
l_int|2
suffix:semicolon
id|val
op_assign
l_int|0
suffix:semicolon
id|k
op_assign
op_minus
l_int|1
suffix:semicolon
r_continue
suffix:semicolon
)brace
suffix:semicolon
r_if
c_cond
(paren
id|ch
op_ge
l_char|&squot;0&squot;
op_logical_and
id|ch
op_le
l_char|&squot;9&squot;
)paren
id|ch
op_sub_assign
l_char|&squot;0&squot;
suffix:semicolon
r_if
c_cond
(paren
id|ch
op_ge
l_char|&squot;A&squot;
op_logical_and
id|ch
op_le
l_char|&squot;F&squot;
)paren
id|ch
op_sub_assign
l_char|&squot;A&squot;
op_plus
l_int|0xA
suffix:semicolon
r_if
c_cond
(paren
id|ch
op_ge
l_char|&squot;a&squot;
op_logical_and
id|ch
op_le
l_char|&squot;f&squot;
)paren
id|ch
op_sub_assign
l_char|&squot;a&squot;
op_plus
l_int|0xA
suffix:semicolon
id|val
op_add_assign
id|ch
suffix:semicolon
r_if
c_cond
(paren
id|i
op_star
id|bytes
OG
op_star
id|len
)paren
id|val
op_assign
l_int|0
suffix:semicolon
)brace
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|8
)paren
id|data
(braket
id|i
op_star
id|bytes
)braket
op_assign
id|val
suffix:semicolon
r_else
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|16
)paren
op_star
(paren
(paren
id|u16
op_star
)paren
op_amp
id|data
(braket
id|i
op_star
id|bytes
)braket
)paren
op_assign
id|val
suffix:semicolon
r_else
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|32
)paren
op_star
(paren
(paren
id|u32
op_star
)paren
op_amp
id|data
(braket
id|i
op_star
id|bytes
)braket
)paren
op_assign
id|val
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|val
)paren
id|null_past
op_assign
l_int|1
suffix:semicolon
)brace
r_else
(brace
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|k
OL
id|bytes
suffix:semicolon
id|k
op_increment
)paren
(brace
id|data
(braket
id|i
op_star
id|bytes
op_plus
id|k
)braket
op_assign
op_star
(paren
id|buff
op_plus
id|i
op_star
id|bytes
op_plus
id|k
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
op_star
id|bytes
op_plus
id|k
OG
op_star
id|len
op_logical_or
op_logical_neg
id|data
(braket
id|i
op_star
id|bytes
op_plus
id|k
)braket
)paren
id|null_past
op_assign
l_int|1
suffix:semicolon
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|null_past
)paren
(brace
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|8
)paren
id|data
(braket
id|i
op_star
id|bytes
)braket
op_assign
l_int|0
suffix:semicolon
r_else
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|16
)paren
op_star
(paren
(paren
id|u16
op_star
)paren
op_amp
id|data
(braket
id|i
op_star
id|bytes
)braket
)paren
op_assign
l_int|0
suffix:semicolon
r_else
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|32
)paren
op_star
(paren
(paren
id|u32
op_star
)paren
op_amp
id|data
(braket
id|i
op_star
id|bytes
)braket
)paren
op_assign
l_int|0
suffix:semicolon
)brace
)brace
)brace
suffix:semicolon
singleline_comment|//     *len = pos;
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;awc_proc_format_array&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)def_block
suffix:semicolon
DECL|function|awc_proc_format_bits
r_int
(def_block
id|awc_proc_format_bits
c_func
(paren
r_int
id|write
comma
id|u32
op_star
id|buff
comma
r_int
op_star
id|lenp
comma
r_struct
id|awc_rid_dir
op_star
id|rid_dir
comma
r_struct
id|aironet4500_RID
op_star
id|rid
)paren
(brace
id|u8
op_star
id|data
op_assign
id|rid_dir-&gt;buff
op_plus
id|rid-&gt;offset
suffix:semicolon
id|u32
id|val
op_assign
l_int|0
suffix:semicolon
r_int
id|not_bool
op_assign
l_int|0
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;awc_proc_format_bits&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
(paren
id|rid-&gt;bits
op_eq
l_int|8
op_logical_and
id|rid-&gt;mask
op_eq
l_int|0xff
)paren
op_logical_or
(paren
id|rid-&gt;bits
op_eq
l_int|16
op_logical_and
id|rid-&gt;mask
op_eq
l_int|0xffff
)paren
op_logical_or
(paren
id|rid-&gt;bits
op_eq
l_int|32
op_logical_and
id|rid-&gt;mask
op_eq
l_int|0xffffffff
)paren
)paren
id|not_bool
op_assign
l_int|1
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|8
)paren
id|val
op_assign
op_star
id|data
suffix:semicolon
r_else
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|16
)paren
id|val
op_assign
op_star
(paren
(paren
id|u16
op_star
)paren
id|data
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|32
)paren
id|val
op_assign
op_star
(paren
(paren
id|u32
op_star
)paren
id|data
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awc proc int enter data %x &bslash;n&quot;
comma
id|val
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awc proc int enter buff %x &bslash;n&quot;
comma
op_star
id|buff
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awc proc int enter intbuff %x &bslash;n&quot;
comma
id|awc_int_buff
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awc proc int enter lenp  %x &bslash;n&quot;
comma
op_star
id|lenp
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|write
)paren
(brace
r_if
c_cond
(paren
id|rid-&gt;mask
)paren
id|val
op_and_assign
id|rid-&gt;mask
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|not_bool
op_logical_and
id|rid-&gt;mask
op_logical_and
(paren
(paren
id|val
op_amp
id|rid-&gt;mask
)paren
op_eq
(paren
id|rid-&gt;value
op_amp
id|rid-&gt;mask
)paren
)paren
)paren
op_star
id|buff
op_assign
l_int|1
suffix:semicolon
r_else
r_if
c_cond
(paren
op_logical_neg
id|not_bool
)paren
op_star
id|buff
op_assign
l_int|0
suffix:semicolon
r_else
op_star
id|buff
op_assign
id|val
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
id|not_bool
)paren
(brace
id|val
op_and_assign
op_complement
id|rid-&gt;mask
suffix:semicolon
id|val
op_or_assign
(paren
op_star
id|buff
op_amp
id|rid-&gt;mask
)paren
suffix:semicolon
)brace
r_else
(brace
r_if
c_cond
(paren
op_star
id|buff
)paren
(brace
id|val
op_and_assign
op_complement
id|rid-&gt;mask
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;value
)paren
id|val
op_or_assign
id|rid-&gt;mask
op_amp
id|rid-&gt;value
suffix:semicolon
r_else
id|val
op_or_assign
id|rid-&gt;mask
op_amp
op_complement
id|rid-&gt;value
suffix:semicolon
)brace
r_else
id|val
op_and_assign
op_complement
id|rid-&gt;mask
suffix:semicolon
)brace
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;bits
op_eq
l_int|8
)paren
op_star
id|data
op_assign
id|val
op_amp
l_int|0xff
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;bits
op_eq
l_int|16
)paren
op_star
(paren
(paren
id|u16
op_star
)paren
id|data
)paren
op_assign
id|val
op_amp
l_int|0xffff
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;bits
op_eq
l_int|32
)paren
op_star
(paren
(paren
id|u32
op_star
)paren
id|data
)paren
op_assign
id|val
op_amp
l_int|0xffffffff
suffix:semicolon
)brace
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awc proc int buff %x &bslash;n&quot;
comma
id|awc_int_buff
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|8
)paren
id|val
op_assign
op_star
id|data
suffix:semicolon
r_else
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|16
)paren
id|val
op_assign
op_star
(paren
(paren
id|u16
op_star
)paren
id|data
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|rid-&gt;bits
op_le
l_int|32
)paren
id|val
op_assign
op_star
(paren
(paren
id|u32
op_star
)paren
id|data
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awc proc int data %x &bslash;n&quot;
comma
id|val
)paren
suffix:semicolon
singleline_comment|// both of them are crazy
singleline_comment|//&t;*lenp = sizeof(int);
singleline_comment|// &t;*lenp += 1;
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;exit&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)def_block
suffix:semicolon
DECL|function|awc_proc_fun
r_int
id|awc_proc_fun
c_func
(paren
id|ctl_table
op_star
id|ctl
comma
r_int
id|write
comma
r_struct
id|file
op_star
id|filp
comma
r_void
op_star
id|buffer
comma
r_int
op_star
id|lenp
)paren
(brace
r_int
id|retv
op_assign
op_minus
l_int|1
suffix:semicolon
r_struct
id|awc_private
op_star
id|priv
op_assign
l_int|NULL
suffix:semicolon
r_int
r_int
id|flags
suffix:semicolon
singleline_comment|//&t;int device_number = (int ) ctl-&gt;extra1;
r_struct
id|awc_rid_dir
op_star
id|rid_dir
suffix:semicolon
r_struct
id|net_device
op_star
id|dev
op_assign
l_int|NULL
suffix:semicolon
r_struct
id|aironet4500_RID
op_star
id|rid
op_assign
(paren
r_struct
id|aironet4500_RID
op_star
)paren
id|ctl-&gt;extra2
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;awc_proc_fun&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|write
op_logical_and
id|filp
)paren
r_if
c_cond
(paren
id|filp-&gt;f_pos
)paren
(brace
singleline_comment|//&t; &t;printk(KERN_CRIT &quot;Oversize read&bslash;n&quot;);
op_star
id|lenp
op_assign
l_int|0
suffix:semicolon
singleline_comment|// hack against reading til eof
r_return
l_int|0
suffix:semicolon
)brace
id|MOD_INC_USE_COUNT
suffix:semicolon
id|rid_dir
op_assign
(paren
(paren
r_struct
id|awc_rid_dir
op_star
)paren
id|ctl-&gt;extra1
)paren
suffix:semicolon
id|dev
op_assign
id|rid_dir-&gt;dev
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|dev
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot; NO device here &bslash;n&quot;
)paren
suffix:semicolon
r_goto
id|final
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ctl-&gt;procname
op_eq
l_int|NULL
op_logical_or
id|awc_drive_info
op_eq
l_int|NULL
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot; procname is NULL in sysctl_table or awc_mib_info is NULL &bslash;n at awc module&bslash;n &quot;
)paren
suffix:semicolon
id|MOD_DEC_USE_COUNT
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|priv
op_assign
(paren
r_struct
id|awc_private
op_star
)paren
id|dev-&gt;priv
suffix:semicolon
r_if
c_cond
(paren
(paren
id|rid-&gt;selector-&gt;read_only
op_logical_or
id|rid-&gt;read_only
)paren
op_logical_and
id|write
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot;This value is read-only &bslash;n&quot;
)paren
suffix:semicolon
r_goto
id|final
suffix:semicolon
)brace
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|write
op_logical_and
id|rid-&gt;selector-&gt;may_change
)paren
(brace
id|save_flags
c_func
(paren
id|flags
)paren
suffix:semicolon
id|cli
c_func
(paren
)paren
suffix:semicolon
id|awc_readrid
c_func
(paren
id|dev
comma
id|rid
comma
id|rid_dir-&gt;buff
op_plus
id|rid-&gt;offset
)paren
suffix:semicolon
id|restore_flags
c_func
(paren
id|flags
)paren
suffix:semicolon
)brace
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;array
OG
l_int|1
op_logical_or
id|rid-&gt;bits
OG
l_int|32
)paren
(brace
r_if
c_cond
(paren
id|write
)paren
(brace
id|retv
op_assign
id|proc_dostring
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retv
)paren
r_goto
id|final
suffix:semicolon
id|retv
op_assign
id|awc_proc_format_array
c_func
(paren
id|write
comma
id|awc_proc_buff
comma
id|lenp
comma
id|rid_dir
comma
id|rid
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retv
)paren
r_goto
id|final
suffix:semicolon
)brace
r_else
(brace
id|retv
op_assign
id|awc_proc_format_array
c_func
(paren
id|write
comma
id|awc_proc_buff
comma
id|lenp
comma
id|rid_dir
comma
id|rid
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retv
)paren
r_goto
id|final
suffix:semicolon
id|retv
op_assign
id|proc_dostring
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retv
)paren
r_goto
id|final
suffix:semicolon
)brace
)brace
r_else
(brace
r_if
c_cond
(paren
id|write
)paren
(brace
id|retv
op_assign
id|proc_dointvec
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retv
)paren
r_goto
id|final
suffix:semicolon
id|retv
op_assign
id|awc_proc_format_bits
c_func
(paren
id|write
comma
op_amp
id|awc_int_buff
comma
id|lenp
comma
id|rid_dir
comma
id|rid
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retv
)paren
r_goto
id|final
suffix:semicolon
)brace
r_else
(brace
id|retv
op_assign
id|awc_proc_format_bits
c_func
(paren
id|write
comma
op_amp
id|awc_int_buff
comma
id|lenp
comma
id|rid_dir
comma
id|rid
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retv
)paren
r_goto
id|final
suffix:semicolon
id|retv
op_assign
id|proc_dointvec
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
r_if
c_cond
(paren
id|retv
)paren
r_goto
id|final
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|write
)paren
(brace
id|save_flags
c_func
(paren
id|flags
)paren
suffix:semicolon
id|cli
c_func
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;selector-&gt;MAC_Disable_at_write
)paren
(brace
id|awc_disable_MAC
c_func
(paren
id|dev
)paren
suffix:semicolon
)brace
suffix:semicolon
id|awc_writerid
c_func
(paren
id|dev
comma
id|rid
comma
id|rid_dir-&gt;buff
op_plus
id|rid-&gt;offset
)paren
suffix:semicolon
r_if
c_cond
(paren
id|rid-&gt;selector-&gt;MAC_Disable_at_write
)paren
(brace
id|awc_enable_MAC
c_func
(paren
id|dev
)paren
suffix:semicolon
)brace
suffix:semicolon
id|restore_flags
c_func
(paren
id|flags
)paren
suffix:semicolon
)brace
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awc proc ret  %x &bslash;n&quot;
comma
id|retv
)paren
suffix:semicolon
id|DEBUG
c_func
(paren
l_int|0x20000
comma
l_string|&quot;awc proc lenp  %x &bslash;n&quot;
comma
op_star
id|lenp
)paren
suffix:semicolon
id|MOD_DEC_USE_COUNT
suffix:semicolon
r_return
id|retv
suffix:semicolon
id|final
suffix:colon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;exit&quot;
)paren
suffix:semicolon
id|MOD_DEC_USE_COUNT
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
DECL|variable|conf_reset_result
r_char
id|conf_reset_result
(braket
l_int|200
)braket
suffix:semicolon
DECL|variable|awc_exdev_table
id|ctl_table
id|awc_exdev_table
(braket
)braket
op_assign
(brace
(brace
l_int|0
comma
l_int|NULL
comma
l_int|NULL
comma
l_int|0
comma
l_int|0400
comma
l_int|NULL
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
DECL|variable|awc_exroot_table
id|ctl_table
id|awc_exroot_table
(braket
)braket
op_assign
(brace
(brace
l_int|254
comma
l_string|&quot;aironet4500&quot;
comma
l_int|NULL
comma
l_int|0
comma
l_int|0555
comma
l_int|NULL
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
DECL|variable|awc_driver_proc_table
id|ctl_table
id|awc_driver_proc_table
(braket
)braket
op_assign
(brace
(brace
l_int|1
comma
l_string|&quot;debug&quot;
comma
op_amp
id|awc_debug
comma
r_sizeof
(paren
id|awc_debug
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|2
comma
l_string|&quot;bap_sleep&quot;
comma
op_amp
id|bap_sleep
comma
r_sizeof
(paren
id|bap_sleep
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|3
comma
l_string|&quot;bap_sleep_after_setup&quot;
comma
op_amp
id|bap_sleep_after_setup
comma
r_sizeof
(paren
id|bap_sleep_after_setup
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|4
comma
l_string|&quot;sleep_before_command&quot;
comma
op_amp
id|sleep_before_command
comma
r_sizeof
(paren
id|sleep_before_command
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|5
comma
l_string|&quot;bap_sleep_before_write&quot;
comma
op_amp
id|bap_sleep_before_write
comma
r_sizeof
(paren
id|bap_sleep_before_write
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|6
comma
l_string|&quot;sleep_in_command&quot;
comma
op_amp
id|sleep_in_command
comma
r_sizeof
(paren
id|sleep_in_command
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|7
comma
l_string|&quot;both_bap_lock&quot;
comma
op_amp
id|both_bap_lock
comma
r_sizeof
(paren
id|both_bap_lock
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|8
comma
l_string|&quot;bap_setup_spinlock&quot;
comma
op_amp
id|bap_setup_spinlock
comma
r_sizeof
(paren
id|bap_setup_spinlock
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
DECL|variable|awc_driver_level_ctable
id|ctl_table
id|awc_driver_level_ctable
(braket
)braket
op_assign
(brace
(brace
l_int|1
comma
l_string|&quot;force_rts_on_shorter&quot;
comma
l_int|NULL
comma
r_sizeof
(paren
r_int
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|2
comma
l_string|&quot;force_tx_rate&quot;
comma
l_int|NULL
comma
r_sizeof
(paren
r_int
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|3
comma
l_string|&quot;ip_tos_reliability_rts&quot;
comma
l_int|NULL
comma
r_sizeof
(paren
r_int
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|4
comma
l_string|&quot;ip_tos_troughput_no_retries&quot;
comma
l_int|NULL
comma
r_sizeof
(paren
r_int
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|5
comma
l_string|&quot;debug&quot;
comma
l_int|NULL
comma
r_sizeof
(paren
r_int
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|6
comma
l_string|&quot;simple_bridge&quot;
comma
l_int|NULL
comma
r_sizeof
(paren
r_int
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|7
comma
l_string|&quot;p802_11_send&quot;
comma
l_int|NULL
comma
r_sizeof
(paren
r_int
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|8
comma
l_string|&quot;full_stats&quot;
comma
l_int|NULL
comma
r_sizeof
(paren
r_int
)paren
comma
l_int|0600
comma
l_int|NULL
comma
id|proc_dointvec
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
DECL|variable|awc_root_table
id|ctl_table
id|awc_root_table
(braket
)braket
op_assign
(brace
(brace
l_int|254
comma
l_string|&quot;aironet4500&quot;
comma
l_int|NULL
comma
l_int|0
comma
l_int|0555
comma
id|awc_driver_proc_table
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
DECL|variable|awc_driver_sysctl_header
r_struct
id|ctl_table_header
op_star
id|awc_driver_sysctl_header
op_assign
l_int|NULL
suffix:semicolon
DECL|variable|awc_procname
r_const
r_char
id|awc_procname
(braket
)braket
op_assign
l_string|&quot;awc5&quot;
suffix:semicolon
DECL|function|awc_proc_set_device
r_int
(def_block
id|awc_proc_set_device
c_func
(paren
r_int
id|device_number
)paren
(brace
r_int
id|group
op_assign
l_int|0
suffix:semicolon
r_int
id|rid
op_assign
l_int|0
suffix:semicolon
r_struct
id|awc_private
op_star
id|priv
suffix:semicolon
id|ctl_table
op_star
id|tmp_table_ptr
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;awc_proc_set_device&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|aironet4500_devices
(braket
id|device_number
)braket
op_logical_or
(paren
id|awc_nof_rids
op_le
l_int|0
)paren
)paren
r_return
op_minus
l_int|1
suffix:semicolon
id|priv
op_assign
(paren
r_struct
id|awc_private
op_star
)paren
id|aironet4500_devices
(braket
id|device_number
)braket
op_member_access_from_pointer
id|priv
suffix:semicolon
id|awc_rids_setup
c_func
(paren
id|aironet4500_devices
(braket
id|device_number
)braket
)paren
suffix:semicolon
id|memcpy
c_func
(paren
op_amp
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_sys_root
(braket
l_int|0
)braket
)paren
comma
id|awc_exroot_table
comma
r_sizeof
(paren
r_struct
id|ctl_table
)paren
op_star
l_int|2
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_sys_root
(braket
l_int|0
)braket
dot
id|ctl_name
op_assign
l_int|254
op_minus
id|device_number
suffix:semicolon
id|memcpy
c_func
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_device_root
comma
id|awc_exdev_table
comma
r_sizeof
(paren
id|awc_exdev_table
)paren
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_device_root
(braket
l_int|0
)braket
dot
id|ctl_name
op_assign
id|device_number
op_plus
l_int|1
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_sys_root-&gt;child
op_assign
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_device_root
suffix:semicolon
id|memcpy
c_func
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_name
comma
(paren
r_struct
id|NET_DEVICE
op_star
)paren
id|aironet4500_devices
(braket
id|device_number
)braket
op_member_access_from_pointer
id|name
comma
l_int|5
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_name
(braket
l_int|4
)braket
op_assign
l_int|0
suffix:semicolon
singleline_comment|// awc_proc_priv[device_number].proc_name[3]=48+device_number;
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_device_root
(braket
l_int|0
)braket
dot
id|procname
op_assign
op_amp
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_name
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|ctl_table
)paren
op_star
(paren
id|awc_nof_rids
op_plus
l_int|2
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
)paren
(brace
id|printk
c_func
(paren
id|KERN_CRIT
l_string|&quot;Out of memory on aironet4500_proc huge table alloc &bslash;n&quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_device_root
(braket
l_int|0
)braket
dot
id|child
op_assign
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
suffix:semicolon
r_if
c_cond
(paren
id|awc_debug
)paren
id|printk
c_func
(paren
l_string|&quot;device  %d of %d proc interface setup &quot;
comma
id|device_number
comma
id|awc_nof_rids
)paren
suffix:semicolon
r_while
c_loop
(paren
id|awc_rids
(braket
id|group
)braket
dot
id|selector
op_logical_and
id|group
OL
id|awc_nof_rids
)paren
(brace
r_if
c_cond
(paren
id|awc_debug
op_amp
l_int|0x20000
)paren
id|printk
c_func
(paren
id|KERN_CRIT
l_string|&quot;ridgroup %s  size %d &bslash;n&quot;
comma
id|awc_rids
(braket
id|group
)braket
dot
id|selector-&gt;name
comma
id|awc_rids
(braket
id|group
)braket
dot
id|size
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|ctl_name
op_assign
id|group
op_plus
l_int|1
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
op_plus
l_int|1
)braket
dot
id|ctl_name
op_assign
l_int|0
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|procname
op_assign
id|awc_rids
(braket
id|group
)braket
dot
id|selector-&gt;name
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|data
op_assign
id|awc_proc_buff
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|maxlen
op_assign
r_sizeof
(paren
id|awc_proc_buff
)paren
op_minus
l_int|1
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|mode
op_assign
l_int|0600
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
r_struct
id|ctl_table
)paren
op_star
(paren
id|awc_rids
(braket
id|group
)braket
dot
id|size
op_plus
l_int|2
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|proc_handler
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|strategy
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|de
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|extra1
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|extra2
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
)paren
(brace
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|ctl_name
op_assign
l_int|0
suffix:semicolon
id|printk
c_func
(paren
id|KERN_CRIT
l_string|&quot;Out of memory on aironet4500_proc huge table alloc &bslash;n&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
id|rid
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|awc_rids
(braket
id|group
)braket
dot
id|rids
(braket
id|rid
)braket
dot
id|selector
op_logical_and
(paren
id|rid
OL
id|awc_rids
(braket
id|group
)braket
dot
id|size
op_minus
l_int|1
)paren
)paren
(brace
singleline_comment|//  &t;   &t;DEBUG(0x20000,&quot;rid %s  &bslash;n&quot;, awc_rids[group].rids[rid].name);
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|ctl_name
op_assign
id|rid
op_plus
l_int|1
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
op_plus
l_int|1
)braket
dot
id|ctl_name
op_assign
l_int|0
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|procname
op_assign
id|awc_rids
(braket
id|group
)braket
dot
id|rids
(braket
id|rid
)braket
dot
id|name
suffix:semicolon
r_if
c_cond
(paren
id|awc_rids
(braket
id|group
)braket
dot
id|rids
(braket
id|rid
)braket
dot
id|array
OG
l_int|1
op_logical_or
id|awc_rids
(braket
id|group
)braket
dot
id|rids
(braket
id|rid
)braket
dot
id|bits
OG
l_int|32
)paren
(brace
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|data
op_assign
id|awc_proc_buff
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|maxlen
op_assign
r_sizeof
(paren
id|awc_proc_buff
)paren
op_minus
l_int|1
suffix:semicolon
)brace
r_else
(brace
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|data
op_assign
op_amp
id|awc_int_buff
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|maxlen
op_assign
r_sizeof
(paren
id|awc_int_buff
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|awc_rids
(braket
id|group
)braket
dot
id|rids
(braket
id|rid
)braket
dot
id|read_only
op_logical_or
id|awc_rids
(braket
id|group
)braket
dot
id|rids
(braket
id|rid
)braket
dot
id|selector-&gt;read_only
)paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|mode
op_assign
l_int|0400
suffix:semicolon
r_else
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|mode
op_assign
l_int|0600
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|child
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|proc_handler
op_assign
id|awc_proc_fun
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|strategy
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|de
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|extra1
op_assign
(paren
r_void
op_star
)paren
op_amp
(paren
(paren
(paren
r_struct
id|awc_private
op_star
)paren
id|aironet4500_devices
(braket
id|device_number
)braket
op_member_access_from_pointer
id|priv
)paren
op_member_access_from_pointer
id|rid_dir
(braket
id|group
)braket
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
(braket
id|rid
)braket
dot
id|extra2
op_assign
(paren
r_void
op_star
)paren
op_amp
(paren
id|awc_rids
(braket
id|group
)braket
dot
id|rids
(braket
id|rid
)braket
)paren
suffix:semicolon
id|rid
op_increment
suffix:semicolon
)brace
id|group
op_increment
suffix:semicolon
)brace
suffix:semicolon
singleline_comment|// here are driver-level params dir  
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|ctl_name
op_assign
id|group
op_plus
l_int|1
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
op_plus
l_int|1
)braket
dot
id|ctl_name
op_assign
l_int|0
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|procname
op_assign
l_string|&quot;driver-level&quot;
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|data
op_assign
id|awc_proc_buff
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|maxlen
op_assign
r_sizeof
(paren
id|awc_proc_buff
)paren
op_minus
l_int|1
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|mode
op_assign
l_int|0600
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
op_assign
id|kmalloc
c_func
(paren
r_sizeof
(paren
id|awc_driver_level_ctable
)paren
comma
id|GFP_KERNEL
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|proc_handler
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|strategy
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|de
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|extra1
op_assign
l_int|NULL
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|extra2
op_assign
l_int|NULL
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
)paren
(brace
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|ctl_name
op_assign
l_int|0
suffix:semicolon
id|printk
c_func
(paren
id|KERN_CRIT
l_string|&quot;Out of memory on aironet4500_proc huge table alloc &bslash;n&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
id|tmp_table_ptr
op_assign
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|group
)braket
dot
id|child
suffix:semicolon
id|memcpy
c_func
(paren
id|tmp_table_ptr
comma
id|awc_driver_level_ctable
comma
r_sizeof
(paren
id|awc_driver_level_ctable
)paren
)paren
suffix:semicolon
id|tmp_table_ptr
(braket
l_int|0
)braket
dot
id|data
op_assign
op_amp
(paren
id|priv-&gt;force_rts_on_shorter
)paren
suffix:semicolon
id|tmp_table_ptr
(braket
l_int|1
)braket
dot
id|data
op_assign
op_amp
id|priv-&gt;force_tx_rate
suffix:semicolon
id|tmp_table_ptr
(braket
l_int|2
)braket
dot
id|data
op_assign
(paren
r_void
op_star
)paren
op_amp
id|priv-&gt;ip_tos_reliability_rts
suffix:semicolon
id|tmp_table_ptr
(braket
l_int|3
)braket
dot
id|data
op_assign
(paren
r_void
op_star
)paren
op_amp
id|priv-&gt;ip_tos_troughput_no_retries
suffix:semicolon
id|tmp_table_ptr
(braket
l_int|4
)braket
dot
id|data
op_assign
(paren
r_void
op_star
)paren
op_amp
id|priv-&gt;debug
suffix:semicolon
id|tmp_table_ptr
(braket
l_int|5
)braket
dot
id|data
op_assign
(paren
r_void
op_star
)paren
op_amp
id|priv-&gt;simple_bridge
suffix:semicolon
id|tmp_table_ptr
(braket
l_int|6
)braket
dot
id|data
op_assign
(paren
r_void
op_star
)paren
op_amp
id|priv-&gt;p802_11_send
suffix:semicolon
id|tmp_table_ptr
(braket
l_int|7
)braket
dot
id|data
op_assign
(paren
r_void
op_star
)paren
op_amp
id|priv-&gt;full_stats
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|sysctl_header
op_assign
id|register_sysctl_table
c_func
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_sys_root
comma
l_int|0
)paren
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;exit&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|sysctl_header
)paren
r_return
l_int|0
suffix:semicolon
r_return
l_int|1
suffix:semicolon
)brace
)def_block
suffix:semicolon
DECL|function|awc_proc_unset_device
r_int
(def_block
id|awc_proc_unset_device
c_func
(paren
r_int
id|device_number
)paren
(brace
r_int
id|k
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;awc_proc_unset_device&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|sysctl_header
)paren
(brace
id|unregister_sysctl_table
c_func
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|sysctl_header
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|sysctl_header
op_assign
l_int|NULL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
)paren
(brace
r_for
c_loop
(paren
id|k
op_assign
l_int|0
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|k
)braket
dot
id|ctl_name
suffix:semicolon
id|k
op_increment
)paren
(brace
r_if
c_cond
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|k
)braket
dot
id|child
)paren
id|kfree
c_func
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
(braket
id|k
)braket
dot
id|child
)paren
suffix:semicolon
)brace
id|kfree
c_func
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
)paren
suffix:semicolon
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table
op_assign
l_int|NULL
suffix:semicolon
)brace
r_if
c_cond
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_device_root
(braket
l_int|0
)braket
dot
id|ctl_name
)paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_device_root
(braket
l_int|0
)braket
dot
id|ctl_name
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_sys_root
(braket
l_int|0
)braket
dot
id|ctl_name
)paren
id|awc_proc_priv
(braket
id|device_number
)braket
dot
id|proc_table_sys_root
(braket
l_int|0
)braket
dot
id|ctl_name
op_assign
l_int|0
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;exit&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
)def_block
suffix:semicolon
DECL|function|aironet_proc_init
r_static
r_int
id|aironet_proc_init
c_func
(paren
r_void
)paren
(brace
r_int
id|i
op_assign
l_int|0
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;init_module&quot;
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|MAX_AWCS
suffix:semicolon
id|i
op_increment
)paren
(brace
id|awc_proc_set_device
c_func
(paren
id|i
)paren
suffix:semicolon
)brace
id|awc_register_proc
c_func
(paren
id|awc_proc_set_device
comma
id|awc_proc_unset_device
)paren
suffix:semicolon
id|awc_driver_sysctl_header
op_assign
id|register_sysctl_table
c_func
(paren
id|awc_root_table
comma
l_int|0
)paren
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;exit&quot;
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
suffix:semicolon
DECL|function|aironet_proc_exit
r_static
r_void
(def_block
id|aironet_proc_exit
c_func
(paren
r_void
)paren
(brace
r_int
id|i
op_assign
l_int|0
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;cleanup_module&quot;
)paren
suffix:semicolon
id|awc_unregister_proc
c_func
(paren
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|MAX_AWCS
suffix:semicolon
id|i
op_increment
)paren
(brace
id|awc_proc_unset_device
c_func
(paren
id|i
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|awc_driver_sysctl_header
)paren
id|unregister_sysctl_table
c_func
(paren
id|awc_driver_sysctl_header
)paren
suffix:semicolon
id|AWC_ENTRY_EXIT_DEBUG
c_func
(paren
l_string|&quot;exit&quot;
)paren
suffix:semicolon
)brace
)def_block
suffix:semicolon
DECL|variable|aironet_proc_init
id|module_init
c_func
(paren
id|aironet_proc_init
)paren
suffix:semicolon
DECL|variable|aironet_proc_exit
id|module_exit
c_func
(paren
id|aironet_proc_exit
)paren
suffix:semicolon
macro_line|#endif 
singleline_comment|// whole proc system styff
eof
