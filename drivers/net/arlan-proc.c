macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &quot;arlan.h&quot;
macro_line|#include &lt;linux/sysctl.h&gt;
macro_line|#ifdef CONFIG_PROC_FS
macro_line|#include &lt;linux/version.h&gt;
multiline_comment|/* void enableReceive(struct net_device* dev);&n;*/
DECL|macro|ARLAN_STR_SIZE
mdefine_line|#define ARLAN_STR_SIZE &t;0x2ff0
DECL|macro|DEV_ARLAN_INFO
mdefine_line|#define DEV_ARLAN_INFO &t;1
DECL|macro|DEV_ARLAN
mdefine_line|#define DEV_ARLAN &t;1
DECL|macro|SARLG
mdefine_line|#define SARLG(type,var) {&bslash;&n;&t;pos += sprintf(arlan_drive_info+pos, &quot;%s&bslash;t=&bslash;t0x%x&bslash;n&quot;, #var, READSHMB(priva-&gt;card-&gt;var));&t;&bslash;&n;&t;}
DECL|macro|SARLBN
mdefine_line|#define SARLBN(type,var,nn) {&bslash;&n;&t;pos += sprintf(arlan_drive_info+pos, &quot;%s&bslash;t=&bslash;t0x&quot;,#var);&bslash;&n;&t;for (i=0; i &lt; nn; i++ ) pos += sprintf(arlan_drive_info+pos, &quot;%02x&quot;,READSHMB(priva-&gt;card-&gt;var[i]));&bslash;&n;&t;pos += sprintf(arlan_drive_info+pos, &quot;&bslash;n&quot;);&t;&bslash;&n;&t;}
DECL|macro|SARLBNpln
mdefine_line|#define SARLBNpln(type,var,nn) {&bslash;&n;&t;for (i=0; i &lt; nn; i++ ) pos += sprintf(arlan_drive_info+pos, &quot;%02x&quot;,READSHMB(priva-&gt;card-&gt;var[i]));&bslash;&n;&t;}
DECL|macro|SARLSTR
mdefine_line|#define SARLSTR(var,nn) {&bslash;&n;&t;char tmpStr[400];&bslash;&n;&t;int  tmpLn = nn;&bslash;&n;&t;if (nn &gt; 399 ) tmpLn = 399; &bslash;&n;&t;memcpy(tmpStr,(char *) priva-&gt;conf-&gt;var,tmpLn);&bslash;&n;&t;tmpStr[tmpLn] = 0; &bslash;&n;&t;pos += sprintf(arlan_drive_info+pos, &quot;%s&bslash;t=&bslash;t%s &bslash;n&quot;,#var,priva-&gt;conf-&gt;var);&bslash;&n;&t;}
DECL|macro|SARLUC
mdefine_line|#define SARLUC(var)  &t;SARLG(u_char, var)
DECL|macro|SARLUCN
mdefine_line|#define SARLUCN(var,nn) SARLBN(u_char,var, nn)
DECL|macro|SARLUS
mdefine_line|#define SARLUS(var)&t;SARLG(u_short, var)
DECL|macro|SARLUSN
mdefine_line|#define SARLUSN(var,nn)&t;SARLBN(u_short,var, nn)
DECL|macro|SARLUI
mdefine_line|#define SARLUI(var)&t;SARLG(u_int, var)
DECL|macro|SARLUSA
mdefine_line|#define SARLUSA(var) {&bslash;&n;&t;u_short tmpVar;&bslash;&n;&t;memcpy(&amp;tmpVar, (short *) priva-&gt;conf-&gt;var,2); &bslash;&n;&t;pos += sprintf(arlan_drive_info+pos, &quot;%s&bslash;t=&bslash;t0x%x&bslash;n&quot;,#var, tmpVar);&bslash;&n;}
DECL|macro|SARLUIA
mdefine_line|#define SARLUIA(var) {&bslash;&n;&t;u_int tmpVar;&bslash;&n;&t;memcpy(&amp;tmpVar, (int* )priva-&gt;conf-&gt;var,4); &bslash;&n;&t;pos += sprintf(arlan_drive_info+pos, &quot;%s&bslash;t=&bslash;t0x%x&bslash;n&quot;,#var, tmpVar);&bslash;&n;}
DECL|function|arlan_diagnostic_info_string
r_const
r_char
op_star
id|arlan_diagnostic_info_string
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
(brace
r_volatile
r_struct
id|arlan_shmem
op_star
id|arlan
op_assign
(paren
(paren
r_struct
id|arlan_private
op_star
)paren
id|dev-&gt;priv
)paren
op_member_access_from_pointer
id|card
suffix:semicolon
id|u_char
id|diagnosticInfo
suffix:semicolon
id|READSHM
c_func
(paren
id|diagnosticInfo
comma
id|arlan-&gt;diagnosticInfo
comma
id|u_char
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|diagnosticInfo
)paren
(brace
r_case
l_int|0xFF
suffix:colon
r_return
l_string|&quot;Diagnostic info is OK&quot;
suffix:semicolon
r_case
l_int|0xFE
suffix:colon
r_return
l_string|&quot;ERROR EPROM Checksum error &quot;
suffix:semicolon
r_case
l_int|0xFD
suffix:colon
r_return
l_string|&quot;ERROR Local Ram Test Failed &quot;
suffix:semicolon
r_case
l_int|0xFC
suffix:colon
r_return
l_string|&quot;ERROR SCC failure &quot;
suffix:semicolon
r_case
l_int|0xFB
suffix:colon
r_return
l_string|&quot;ERROR BackBone failure &quot;
suffix:semicolon
r_case
l_int|0xFA
suffix:colon
r_return
l_string|&quot;ERROR tranceiver not found &quot;
suffix:semicolon
r_case
l_int|0xF9
suffix:colon
r_return
l_string|&quot;ERROR no more address space &quot;
suffix:semicolon
r_case
l_int|0xF8
suffix:colon
r_return
l_string|&quot;ERROR Checksum error  &quot;
suffix:semicolon
r_case
l_int|0xF7
suffix:colon
r_return
l_string|&quot;ERROR Missing SS Code&quot;
suffix:semicolon
r_case
l_int|0xF6
suffix:colon
r_return
l_string|&quot;ERROR Invalid config format&quot;
suffix:semicolon
r_case
l_int|0xF5
suffix:colon
r_return
l_string|&quot;ERROR Reserved errorcode F5&quot;
suffix:semicolon
r_case
l_int|0xF4
suffix:colon
r_return
l_string|&quot;ERROR Invalid spreading code/channel number&quot;
suffix:semicolon
r_case
l_int|0xF3
suffix:colon
r_return
l_string|&quot;ERROR Load Code Error&quot;
suffix:semicolon
r_case
l_int|0xF2
suffix:colon
r_return
l_string|&quot;ERROR Reserver errorcode F2 &quot;
suffix:semicolon
r_case
l_int|0xF1
suffix:colon
r_return
l_string|&quot;ERROR Invalid command receivec by LAN card &quot;
suffix:semicolon
r_case
l_int|0xF0
suffix:colon
r_return
l_string|&quot;ERROR Invalid parameter found in command &quot;
suffix:semicolon
r_case
l_int|0xEF
suffix:colon
r_return
l_string|&quot;ERROR On-chip timer failure &quot;
suffix:semicolon
r_case
l_int|0xEE
suffix:colon
r_return
l_string|&quot;ERROR T410 timer failure &quot;
suffix:semicolon
r_case
l_int|0xED
suffix:colon
r_return
l_string|&quot;ERROR Too Many TxEnable commands &quot;
suffix:semicolon
r_case
l_int|0xEC
suffix:colon
r_return
l_string|&quot;ERROR EEPROM error on radio module &quot;
suffix:semicolon
r_default
suffix:colon
r_return
l_string|&quot;ERROR unknown Diagnostic info reply code &quot;
suffix:semicolon
)brace
)brace
suffix:semicolon
DECL|function|arlan_hardware_type_string
r_static
r_const
r_char
op_star
id|arlan_hardware_type_string
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
(brace
id|u_char
id|hardwareType
suffix:semicolon
r_volatile
r_struct
id|arlan_shmem
op_star
id|arlan
op_assign
(paren
(paren
r_struct
id|arlan_private
op_star
)paren
id|dev-&gt;priv
)paren
op_member_access_from_pointer
id|card
suffix:semicolon
id|READSHM
c_func
(paren
id|hardwareType
comma
id|arlan-&gt;hardwareType
comma
id|u_char
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|hardwareType
)paren
(brace
r_case
l_int|0x00
suffix:colon
r_return
l_string|&quot;type A450&quot;
suffix:semicolon
r_case
l_int|0x01
suffix:colon
r_return
l_string|&quot;type A650 &quot;
suffix:semicolon
r_case
l_int|0x04
suffix:colon
r_return
l_string|&quot;type TMA coproc&quot;
suffix:semicolon
r_case
l_int|0x0D
suffix:colon
r_return
l_string|&quot;type A650E &quot;
suffix:semicolon
r_case
l_int|0x18
suffix:colon
r_return
l_string|&quot;type TMA coproc Australian&quot;
suffix:semicolon
r_case
l_int|0x19
suffix:colon
r_return
l_string|&quot;type A650A &quot;
suffix:semicolon
r_case
l_int|0x26
suffix:colon
r_return
l_string|&quot;type TMA coproc European&quot;
suffix:semicolon
r_case
l_int|0x2E
suffix:colon
r_return
l_string|&quot;type A655 &quot;
suffix:semicolon
r_case
l_int|0x2F
suffix:colon
r_return
l_string|&quot;type A655A &quot;
suffix:semicolon
r_case
l_int|0x30
suffix:colon
r_return
l_string|&quot;type A655E &quot;
suffix:semicolon
r_case
l_int|0x0B
suffix:colon
r_return
l_string|&quot;type A670 &quot;
suffix:semicolon
r_case
l_int|0x0C
suffix:colon
r_return
l_string|&quot;type A670E &quot;
suffix:semicolon
r_case
l_int|0x2D
suffix:colon
r_return
l_string|&quot;type A670A &quot;
suffix:semicolon
r_case
l_int|0x0F
suffix:colon
r_return
l_string|&quot;type A411T&quot;
suffix:semicolon
r_case
l_int|0x16
suffix:colon
r_return
l_string|&quot;type A411TA&quot;
suffix:semicolon
r_case
l_int|0x1B
suffix:colon
r_return
l_string|&quot;type A440T&quot;
suffix:semicolon
r_case
l_int|0x1C
suffix:colon
r_return
l_string|&quot;type A412T&quot;
suffix:semicolon
r_case
l_int|0x1E
suffix:colon
r_return
l_string|&quot;type A412TA&quot;
suffix:semicolon
r_case
l_int|0x22
suffix:colon
r_return
l_string|&quot;type A411TE&quot;
suffix:semicolon
r_case
l_int|0x24
suffix:colon
r_return
l_string|&quot;type A412TE&quot;
suffix:semicolon
r_case
l_int|0x27
suffix:colon
r_return
l_string|&quot;type A671T &quot;
suffix:semicolon
r_case
l_int|0x29
suffix:colon
r_return
l_string|&quot;type A671TA &quot;
suffix:semicolon
r_case
l_int|0x2B
suffix:colon
r_return
l_string|&quot;type A671TE &quot;
suffix:semicolon
r_case
l_int|0x31
suffix:colon
r_return
l_string|&quot;type A415T &quot;
suffix:semicolon
r_case
l_int|0x33
suffix:colon
r_return
l_string|&quot;type A415TA &quot;
suffix:semicolon
r_case
l_int|0x35
suffix:colon
r_return
l_string|&quot;type A415TE &quot;
suffix:semicolon
r_case
l_int|0x37
suffix:colon
r_return
l_string|&quot;type A672&quot;
suffix:semicolon
r_case
l_int|0x39
suffix:colon
r_return
l_string|&quot;type A672A &quot;
suffix:semicolon
r_case
l_int|0x3B
suffix:colon
r_return
l_string|&quot;type A672T&quot;
suffix:semicolon
r_case
l_int|0x6B
suffix:colon
r_return
l_string|&quot;type IC2200&quot;
suffix:semicolon
r_default
suffix:colon
r_return
l_string|&quot;type A672T&quot;
suffix:semicolon
)brace
)brace
macro_line|#ifdef ARLAN_DEBUGING
DECL|function|arlan_print_diagnostic_info
r_static
r_void
id|arlan_print_diagnostic_info
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
(brace
r_int
id|i
suffix:semicolon
id|u_char
id|diagnosticInfo
suffix:semicolon
id|u_short
id|diagnosticOffset
suffix:semicolon
id|u_char
id|hardwareType
suffix:semicolon
r_volatile
r_struct
id|arlan_shmem
op_star
id|arlan
op_assign
(paren
(paren
r_struct
id|arlan_private
op_star
)paren
id|dev-&gt;priv
)paren
op_member_access_from_pointer
id|card
suffix:semicolon
singleline_comment|//  ARLAN_DEBUG_ENTRY(&quot;arlan_print_diagnostic_info&quot;);
r_if
c_cond
(paren
id|READSHMB
c_func
(paren
id|arlan-&gt;configuredStatusFlag
)paren
op_eq
l_int|0
)paren
id|printk
c_func
(paren
l_string|&quot;Arlan: Card NOT configured&bslash;n&quot;
)paren
suffix:semicolon
r_else
id|printk
c_func
(paren
l_string|&quot;Arlan: Card is configured&bslash;n&quot;
)paren
suffix:semicolon
id|READSHM
c_func
(paren
id|diagnosticInfo
comma
id|arlan-&gt;diagnosticInfo
comma
id|u_char
)paren
suffix:semicolon
id|READSHM
c_func
(paren
id|diagnosticOffset
comma
id|arlan-&gt;diagnosticOffset
comma
id|u_short
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s&bslash;n&quot;
comma
id|arlan_diagnostic_info_string
c_func
(paren
id|dev
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|diagnosticInfo
op_ne
l_int|0xff
)paren
id|printk
c_func
(paren
l_string|&quot;%s arlan: Diagnostic Offset %d &bslash;n&quot;
comma
id|dev-&gt;name
comma
id|diagnosticOffset
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;arlan: LAN CODE ID = &quot;
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|6
suffix:semicolon
id|i
op_increment
)paren
id|DEBUGSHM
c_func
(paren
l_int|1
comma
l_string|&quot;%03d:&quot;
comma
id|arlan-&gt;lanCardNodeId
(braket
id|i
)braket
comma
id|u_char
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;arlan: Arlan BroadCast address  = &quot;
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|6
suffix:semicolon
id|i
op_increment
)paren
id|DEBUGSHM
c_func
(paren
l_int|1
comma
l_string|&quot;%03d:&quot;
comma
id|arlan-&gt;broadcastAddress
(braket
id|i
)braket
comma
id|u_char
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|READSHM
c_func
(paren
id|hardwareType
comma
id|arlan-&gt;hardwareType
comma
id|u_char
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;%s&bslash;n&quot;
comma
id|arlan_hardware_type_string
c_func
(paren
id|dev
)paren
)paren
suffix:semicolon
id|DEBUGSHM
c_func
(paren
l_int|1
comma
l_string|&quot;arlan: channelNumber=%d&bslash;n&quot;
comma
id|arlan-&gt;channelNumber
comma
id|u_char
)paren
suffix:semicolon
id|DEBUGSHM
c_func
(paren
l_int|1
comma
l_string|&quot;arlan: channelSet=%d&bslash;n&quot;
comma
id|arlan-&gt;channelSet
comma
id|u_char
)paren
suffix:semicolon
id|DEBUGSHM
c_func
(paren
l_int|1
comma
l_string|&quot;arlan: spreadingCode=%d&bslash;n&quot;
comma
id|arlan-&gt;spreadingCode
comma
id|u_char
)paren
suffix:semicolon
id|DEBUGSHM
c_func
(paren
l_int|1
comma
l_string|&quot;arlan: radioNodeId=%d&bslash;n&quot;
comma
id|arlan-&gt;radioNodeId
comma
id|u_short
)paren
suffix:semicolon
id|DEBUGSHM
c_func
(paren
l_int|1
comma
l_string|&quot;arlan: SID&t;=%d&bslash;n&quot;
comma
id|arlan-&gt;SID
comma
id|u_short
)paren
suffix:semicolon
id|DEBUGSHM
c_func
(paren
l_int|1
comma
l_string|&quot;arlan: rxOffset=%d&bslash;n&quot;
comma
id|arlan-&gt;rxOffset
comma
id|u_short
)paren
suffix:semicolon
id|DEBUGSHM
c_func
(paren
l_int|1
comma
l_string|&quot;arlan: registration mode is %d&bslash;n&quot;
comma
id|arlan-&gt;registrationMode
comma
id|u_char
)paren
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;arlan: name= &quot;
)paren
suffix:semicolon
id|IFDEBUG
c_func
(paren
l_int|1
)paren
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|16
suffix:semicolon
id|i
op_increment
)paren
(brace
r_char
id|c
suffix:semicolon
id|READSHM
c_func
(paren
id|c
comma
id|arlan-&gt;name
(braket
id|i
)braket
comma
r_char
)paren
suffix:semicolon
r_if
c_cond
(paren
id|c
)paren
id|printk
c_func
(paren
l_string|&quot;%c&quot;
comma
id|c
)paren
suffix:semicolon
)brace
id|printk
c_func
(paren
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
singleline_comment|//   ARLAN_DEBUG_EXIT(&quot;arlan_print_diagnostic_info&quot;);
)brace
multiline_comment|/******************************&t;&t;TEST &t;MEMORY&t;**************/
DECL|function|arlan_hw_test_memory
r_static
r_int
id|arlan_hw_test_memory
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
(brace
id|u_char
op_star
id|ptr
suffix:semicolon
r_int
id|i
suffix:semicolon
r_int
id|memlen
op_assign
r_sizeof
(paren
r_struct
id|arlan_shmem
)paren
op_minus
l_int|0xF
suffix:semicolon
multiline_comment|/* avoid control register */
r_volatile
r_char
op_star
id|arlan_mem
op_assign
(paren
r_char
op_star
)paren
(paren
id|dev-&gt;mem_start
)paren
suffix:semicolon
r_volatile
r_struct
id|arlan_shmem
op_star
id|arlan
op_assign
(paren
(paren
r_struct
id|arlan_private
op_star
)paren
id|dev-&gt;priv
)paren
op_member_access_from_pointer
id|card
suffix:semicolon
r_char
id|pattern
suffix:semicolon
id|ptr
op_assign
l_int|NULL
suffix:semicolon
multiline_comment|/* hold card in reset state */
id|setHardwareReset
c_func
(paren
id|dev
)paren
suffix:semicolon
multiline_comment|/* test memory */
id|pattern
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|memlen
suffix:semicolon
id|i
op_increment
)paren
id|WRITESHM
c_func
(paren
id|arlan_mem
(braket
id|i
)braket
comma
(paren
(paren
id|u_char
)paren
id|pattern
op_increment
)paren
comma
id|u_char
)paren
suffix:semicolon
id|pattern
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|memlen
suffix:semicolon
id|i
op_increment
)paren
(brace
r_char
id|res
suffix:semicolon
id|READSHM
c_func
(paren
id|res
comma
id|arlan_mem
(braket
id|i
)braket
comma
r_char
)paren
suffix:semicolon
r_if
c_cond
(paren
id|res
op_ne
id|pattern
op_increment
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot;Arlan driver memory test 1 failed &bslash;n&quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
)brace
id|pattern
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|memlen
suffix:semicolon
id|i
op_increment
)paren
id|WRITESHM
c_func
(paren
id|arlan_mem
(braket
id|i
)braket
comma
op_complement
(paren
id|pattern
op_increment
)paren
comma
r_char
)paren
suffix:semicolon
id|pattern
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|memlen
suffix:semicolon
id|i
op_increment
)paren
(brace
r_char
id|res
suffix:semicolon
id|READSHM
c_func
(paren
id|res
comma
id|arlan_mem
(braket
id|i
)braket
comma
r_char
)paren
suffix:semicolon
r_if
c_cond
(paren
id|res
op_ne
op_complement
(paren
id|pattern
op_increment
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot;Arlan driver memory test 2 failed &bslash;n&quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
)brace
multiline_comment|/* zero memory */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|memlen
suffix:semicolon
id|i
op_increment
)paren
id|WRITESHM
c_func
(paren
id|arlan_mem
(braket
id|i
)braket
comma
l_int|0x00
comma
r_char
)paren
suffix:semicolon
id|IFDEBUG
c_func
(paren
l_int|1
)paren
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;Arlan: memory tests ok&bslash;n&quot;
)paren
suffix:semicolon
multiline_comment|/* set reset flag and then release reset */
id|WRITESHM
c_func
(paren
id|arlan-&gt;resetFlag
comma
l_int|0xff
comma
id|u_char
)paren
suffix:semicolon
id|clearChannelAttention
c_func
(paren
id|dev
)paren
suffix:semicolon
id|clearHardwareReset
c_func
(paren
id|dev
)paren
suffix:semicolon
multiline_comment|/* wait for reset flag to become zero, we&squot;ll wait for two seconds */
r_if
c_cond
(paren
id|arlan_command
c_func
(paren
id|dev
comma
id|ARLAN_COMMAND_LONG_WAIT_NOW
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot;%s arlan: failed to come back from memory test&bslash;n&quot;
comma
id|dev-&gt;name
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|function|arlan_setup_card_by_book
r_static
r_int
id|arlan_setup_card_by_book
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
(brace
id|u_char
id|irqLevel
comma
id|configuredStatusFlag
suffix:semicolon
r_volatile
r_struct
id|arlan_shmem
op_star
id|arlan
op_assign
(paren
(paren
r_struct
id|arlan_private
op_star
)paren
id|dev-&gt;priv
)paren
op_member_access_from_pointer
id|card
suffix:semicolon
singleline_comment|//&t;ARLAN_DEBUG_ENTRY(&quot;arlan_setup_card&quot;);
id|READSHM
c_func
(paren
id|configuredStatusFlag
comma
id|arlan-&gt;configuredStatusFlag
comma
id|u_char
)paren
suffix:semicolon
id|IFDEBUG
c_func
(paren
l_int|10
)paren
r_if
c_cond
(paren
id|configuredStatusFlag
op_ne
l_int|0
)paren
id|IFDEBUG
c_func
(paren
l_int|10
)paren
id|printk
c_func
(paren
l_string|&quot;arlan: CARD IS CONFIGURED&bslash;n&quot;
)paren
suffix:semicolon
r_else
id|IFDEBUG
c_func
(paren
l_int|10
)paren
id|printk
c_func
(paren
l_string|&quot;arlan: card is NOT configured&bslash;n&quot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|testMemory
op_logical_or
(paren
id|READSHMB
c_func
(paren
id|arlan-&gt;diagnosticInfo
)paren
op_ne
l_int|0xff
)paren
)paren
r_if
c_cond
(paren
id|arlan_hw_test_memory
c_func
(paren
id|dev
)paren
)paren
r_return
op_minus
l_int|1
suffix:semicolon
id|DEBUGSHM
c_func
(paren
l_int|4
comma
l_string|&quot;arlan configuredStatus = %d &bslash;n&quot;
comma
id|arlan-&gt;configuredStatusFlag
comma
id|u_char
)paren
suffix:semicolon
id|DEBUGSHM
c_func
(paren
l_int|4
comma
l_string|&quot;arlan driver diagnostic: 0x%2x&bslash;n&quot;
comma
id|arlan-&gt;diagnosticInfo
comma
id|u_char
)paren
suffix:semicolon
multiline_comment|/* issue nop command - no interupt */
id|arlan_command
c_func
(paren
id|dev
comma
id|ARLAN_COMMAND_NOOP
)paren
suffix:semicolon
r_if
c_cond
(paren
id|arlan_command
c_func
(paren
id|dev
comma
id|ARLAN_COMMAND_WAIT_NOW
)paren
op_ne
l_int|0
)paren
r_return
op_minus
l_int|1
suffix:semicolon
id|IFDEBUG
c_func
(paren
l_int|50
)paren
id|printk
c_func
(paren
l_string|&quot;1st Noop successfully executed !!&bslash;n&quot;
)paren
suffix:semicolon
multiline_comment|/* try to turn on the arlan interrupts */
id|clearClearInterrupt
c_func
(paren
id|dev
)paren
suffix:semicolon
id|setClearInterrupt
c_func
(paren
id|dev
)paren
suffix:semicolon
id|setInterruptEnable
c_func
(paren
id|dev
)paren
suffix:semicolon
multiline_comment|/* issue nop command - with interrupt */
id|arlan_command
c_func
(paren
id|dev
comma
id|ARLAN_COMMAND_NOOPINT
)paren
suffix:semicolon
r_if
c_cond
(paren
id|arlan_command
c_func
(paren
id|dev
comma
id|ARLAN_COMMAND_WAIT_NOW
)paren
op_ne
l_int|0
)paren
r_return
op_minus
l_int|1
suffix:semicolon
id|IFDEBUG
c_func
(paren
l_int|50
)paren
id|printk
c_func
(paren
l_string|&quot;2nd Noop successfully executed !!&bslash;n&quot;
)paren
suffix:semicolon
id|READSHM
c_func
(paren
id|irqLevel
comma
id|arlan-&gt;irqLevel
comma
id|u_char
)paren
r_if
c_cond
(paren
id|irqLevel
op_ne
id|dev-&gt;irq
)paren
(brace
id|IFDEBUG
c_func
(paren
l_int|1
)paren
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;arlan dip switches set irq to %d&bslash;n&quot;
comma
id|irqLevel
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;device driver irq set to %d - does not match&bslash;n&quot;
comma
id|dev-&gt;irq
)paren
suffix:semicolon
id|dev-&gt;irq
op_assign
id|irqLevel
suffix:semicolon
)brace
r_else
id|IFDEBUG
c_func
(paren
l_int|2
)paren
id|printk
c_func
(paren
l_string|&quot;irq level is OK&bslash;n&quot;
)paren
suffix:semicolon
id|IFDEBUG
c_func
(paren
l_int|3
)paren
id|arlan_print_diagnostic_info
c_func
(paren
id|dev
)paren
suffix:semicolon
id|arlan_command
c_func
(paren
id|dev
comma
id|ARLAN_COMMAND_CONF
)paren
suffix:semicolon
id|READSHM
c_func
(paren
id|configuredStatusFlag
comma
id|arlan-&gt;configuredStatusFlag
comma
id|u_char
)paren
suffix:semicolon
r_if
c_cond
(paren
id|configuredStatusFlag
op_eq
l_int|0
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;arlan configure failed&bslash;n&quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|arlan_command
c_func
(paren
id|dev
comma
id|ARLAN_COMMAND_LONG_WAIT_NOW
)paren
suffix:semicolon
id|arlan_command
c_func
(paren
id|dev
comma
id|ARLAN_COMMAND_RX
)paren
suffix:semicolon
id|arlan_command
c_func
(paren
id|dev
comma
id|ARLAN_COMMAND_LONG_WAIT_NOW
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_NOTICE
l_string|&quot;%s: arlan driver version %s loaded&bslash;n&quot;
comma
id|dev-&gt;name
comma
id|arlan_version
)paren
suffix:semicolon
singleline_comment|//&t;ARLAN_DEBUG_EXIT(&quot;arlan_setup_card&quot;);
r_return
l_int|0
suffix:semicolon
multiline_comment|/* no errors */
)brace
macro_line|#endif
macro_line|#ifdef ARLAN_PROC_INTERFACE
macro_line|#ifdef ARLAN_PROC_SHM_DUMP
DECL|variable|arlan_drive_info
r_static
r_char
id|arlan_drive_info
(braket
id|ARLAN_STR_SIZE
)braket
op_assign
l_string|&quot;A655&bslash;n&bslash;0&quot;
suffix:semicolon
DECL|function|arlan_sysctl_info
r_static
r_int
id|arlan_sysctl_info
c_func
(paren
id|ctl_table
op_star
id|ctl
comma
r_int
id|write
comma
r_struct
id|file
op_star
id|filp
comma
r_void
op_star
id|buffer
comma
r_int
op_star
id|lenp
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|retv
comma
id|pos
comma
id|devnum
suffix:semicolon
r_struct
id|arlan_private
op_star
id|priva
op_assign
l_int|NULL
suffix:semicolon
r_struct
id|net_device
op_star
id|dev
suffix:semicolon
id|pos
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|write
)paren
(brace
id|printk
c_func
(paren
l_string|&quot;wrirte: &quot;
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|100
suffix:semicolon
id|i
op_increment
)paren
id|printk
c_func
(paren
l_string|&quot;adi %x &bslash;n&quot;
comma
id|arlan_drive_info
(braket
id|i
)braket
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|ctl-&gt;procname
op_eq
l_int|NULL
op_logical_or
id|arlan_drive_info
op_eq
l_int|NULL
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot; procname is NULL in sysctl_table or arlan_drive_info is NULL &bslash;n at arlan module&bslash;n &quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|devnum
op_assign
id|ctl-&gt;procname
(braket
l_int|5
)braket
op_minus
l_char|&squot;0&squot;
suffix:semicolon
r_if
c_cond
(paren
id|devnum
template_param
id|MAX_ARLANS
op_minus
l_int|1
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;too strange devnum in procfs parse&bslash;n &quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|arlan_device
(braket
id|devnum
)braket
op_eq
l_int|NULL
)paren
(brace
r_if
c_cond
(paren
id|ctl-&gt;procname
)paren
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;&bslash;t%s&bslash;n&bslash;n&quot;
comma
id|ctl-&gt;procname
)paren
suffix:semicolon
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;No device found here &bslash;n&quot;
)paren
suffix:semicolon
r_goto
id|final
suffix:semicolon
)brace
r_else
id|priva
op_assign
id|arlan_device
(braket
id|devnum
)braket
op_member_access_from_pointer
id|priv
suffix:semicolon
r_if
c_cond
(paren
id|priva
op_eq
l_int|NULL
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot; Could not find the device private in arlan procsys, bad&bslash;n &quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|dev
op_assign
id|arlan_device
(braket
id|devnum
)braket
suffix:semicolon
id|memcpy_fromio
c_func
(paren
id|priva-&gt;conf
comma
id|priva-&gt;card
comma
r_sizeof
(paren
r_struct
id|arlan_shmem
)paren
)paren
suffix:semicolon
id|pos
op_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
comma
l_string|&quot;Arlan  info &bslash;n&quot;
)paren
suffix:semicolon
multiline_comment|/* Header Signature */
id|SARLSTR
c_func
(paren
id|textRegion
comma
l_int|48
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|resetFlag
)paren
suffix:semicolon
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;diagnosticInfo&bslash;t=&bslash;t%s &bslash;n&quot;
comma
id|arlan_diagnostic_info_string
c_func
(paren
id|dev
)paren
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|diagnosticInfo
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|diagnosticOffset
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_1
comma
l_int|12
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|lanCardNodeId
comma
l_int|6
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|broadcastAddress
comma
l_int|6
)paren
suffix:semicolon
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;hardwareType =&bslash;t  %s &bslash;n&quot;
comma
id|arlan_hardware_type_string
c_func
(paren
id|dev
)paren
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|hardwareType
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|majorHardwareVersion
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|minorHardwareVersion
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|radioModule
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|defaultChannelSet
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_2
comma
l_int|47
)paren
suffix:semicolon
multiline_comment|/* Control/Status Block - 0x0080 */
id|SARLUC
c_func
(paren
id|interruptInProgress
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|cntrlRegImage
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_3
comma
l_int|14
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|commandByte
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|commandParameter
comma
l_int|15
)paren
suffix:semicolon
multiline_comment|/* Receive Status - 0x00a0 */
id|SARLUC
c_func
(paren
id|rxStatus
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|rxFrmType
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|rxOffset
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|rxLength
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|rxSrc
comma
l_int|6
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|rxBroadcastFlag
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|rxQuality
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|scrambled
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_4
comma
l_int|1
)paren
suffix:semicolon
multiline_comment|/* Transmit Status - 0x00b0 */
id|SARLUC
c_func
(paren
id|txStatus
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|txAckQuality
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|numRetries
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_5
comma
l_int|14
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|registeredRouter
comma
l_int|6
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|backboneRouter
comma
l_int|6
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|registrationStatus
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|configuredStatusFlag
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_6
comma
l_int|1
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|ultimateDestAddress
comma
l_int|6
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|immedDestAddress
comma
l_int|6
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|immedSrcAddress
comma
l_int|6
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|rxSequenceNumber
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|assignedLocaltalkAddress
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_7
comma
l_int|27
)paren
suffix:semicolon
multiline_comment|/* System Parameter Block */
multiline_comment|/* - Driver Parameters (Novell Specific) */
id|SARLUS
c_func
(paren
id|txTimeout
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|transportTime
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_8
comma
l_int|4
)paren
suffix:semicolon
multiline_comment|/* - Configuration Parameters */
id|SARLUC
c_func
(paren
id|irqLevel
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|spreadingCode
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|channelSet
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|channelNumber
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|radioNodeId
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_9
comma
l_int|2
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|scramblingDisable
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|radioType
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|routerId
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_10
comma
l_int|9
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|txAttenuation
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|systemId
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|globalChecksum
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_11
comma
l_int|4
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|maxDatagramSize
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|maxFrameSize
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|maxRetries
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|receiveMode
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|priority
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|rootOrRepeater
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|specifiedRouter
comma
l_int|6
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|fastPollPeriod
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|pollDecay
)paren
suffix:semicolon
id|SARLUSA
c_func
(paren
id|fastPollDelay
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|arlThreshold
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|arlDecay
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_12
comma
l_int|1
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|specRouterTimeout
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_13
comma
l_int|5
)paren
suffix:semicolon
multiline_comment|/* Scrambled Area */
id|SARLUIA
c_func
(paren
id|SID
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|encryptionKey
comma
l_int|12
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|_14
)paren
suffix:semicolon
id|SARLUSA
c_func
(paren
id|waitTime
)paren
suffix:semicolon
id|SARLUSA
c_func
(paren
id|lParameter
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_15
comma
l_int|3
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|headerSize
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|sectionChecksum
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|registrationMode
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|registrationFill
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|pollPeriod
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|refreshPeriod
)paren
suffix:semicolon
id|SARLSTR
c_func
(paren
id|name
comma
l_int|16
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|NID
comma
l_int|6
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|localTalkAddress
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|codeFormat
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|numChannels
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|channel1
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|channel2
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|channel3
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|channel4
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|SSCode
comma
l_int|59
)paren
suffix:semicolon
multiline_comment|/*      SARLUCN( _16, 0x140);&n; */
multiline_comment|/* Statistics Block - 0x0300 */
id|SARLUC
c_func
(paren
id|hostcpuLock
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|lancpuLock
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|resetTime
comma
l_int|18
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numDatagramsTransmitted
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numReTransmissions
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numFramesDiscarded
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numDatagramsReceived
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numDuplicateReceivedFrames
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numDatagramsDiscarded
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|maxNumReTransmitDatagram
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|maxNumReTransmitFrames
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|maxNumConsecutiveDuplicateFrames
)paren
suffix:semicolon
multiline_comment|/* misaligned here so we have to go to characters */
id|SARLUIA
c_func
(paren
id|numBytesTransmitted
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numBytesReceived
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numCRCErrors
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numLengthErrors
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numAbortErrors
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numTXUnderruns
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numRXOverruns
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numHoldOffs
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numFramesTransmitted
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numFramesReceived
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numReceiveFramesLost
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numRXBufferOverflows
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numFramesDiscardedAddrMismatch
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numFramesDiscardedSIDMismatch
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numPollsTransmistted
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numPollAcknowledges
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numStatusTimeouts
)paren
suffix:semicolon
id|SARLUIA
c_func
(paren
id|numNACKReceived
)paren
suffix:semicolon
id|SARLUS
c_func
(paren
id|auxCmd
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|dumpPtr
comma
l_int|4
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|dumpVal
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|wireTest
)paren
suffix:semicolon
multiline_comment|/* next 4 seems too long for procfs, over single page ?&n;&t;SARLUCN( _17, 0x86);&n;&t;SARLUCN( txBuffer, 0x800);&n;&t;SARLUCN( rxBuffer,  0x800); &n;&t;SARLUCN( _18, 0x0bff);&n;&t; */
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;rxRing&bslash;t=&bslash;t0x&quot;
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|0x50
suffix:semicolon
id|i
op_increment
)paren
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;%02x&quot;
comma
(paren
(paren
r_char
op_star
)paren
id|priva-&gt;conf
)paren
(braket
id|priva-&gt;conf-&gt;rxOffset
op_plus
id|i
)braket
)paren
suffix:semicolon
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;&bslash;n&quot;
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|configStatus
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|_22
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|progIOCtrl
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|shareMBase
)paren
suffix:semicolon
id|SARLUC
c_func
(paren
id|controlRegister
)paren
suffix:semicolon
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot; total %d chars&bslash;n&quot;
comma
id|pos
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ctl
)paren
r_if
c_cond
(paren
id|ctl-&gt;procname
)paren
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot; driver name : %s&bslash;n&quot;
comma
id|ctl-&gt;procname
)paren
suffix:semicolon
id|final
suffix:colon
op_star
id|lenp
op_assign
id|pos
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|write
)paren
id|retv
op_assign
id|proc_dostring
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
r_else
(brace
op_star
id|lenp
op_assign
l_int|0
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
r_return
id|retv
suffix:semicolon
)brace
DECL|function|arlan_sysctl_info161719
r_static
r_int
id|arlan_sysctl_info161719
c_func
(paren
id|ctl_table
op_star
id|ctl
comma
r_int
id|write
comma
r_struct
id|file
op_star
id|filp
comma
r_void
op_star
id|buffer
comma
r_int
op_star
id|lenp
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|retv
comma
id|pos
comma
id|devnum
suffix:semicolon
r_struct
id|arlan_private
op_star
id|priva
op_assign
l_int|NULL
suffix:semicolon
id|pos
op_assign
l_int|0
suffix:semicolon
id|devnum
op_assign
id|ctl-&gt;procname
(braket
l_int|5
)braket
op_minus
l_char|&squot;0&squot;
suffix:semicolon
r_if
c_cond
(paren
id|arlan_device
(braket
id|devnum
)braket
op_eq
l_int|NULL
)paren
(brace
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;No device found here &bslash;n&quot;
)paren
suffix:semicolon
r_goto
id|final
suffix:semicolon
)brace
r_else
id|priva
op_assign
id|arlan_device
(braket
id|devnum
)braket
op_member_access_from_pointer
id|priv
suffix:semicolon
r_if
c_cond
(paren
id|priva
op_eq
l_int|NULL
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot; Could not find the device private in arlan procsys, bad&bslash;n &quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|memcpy_fromio
c_func
(paren
id|priva-&gt;conf
comma
id|priva-&gt;card
comma
r_sizeof
(paren
r_struct
id|arlan_shmem
)paren
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_16
comma
l_int|0xC0
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_17
comma
l_int|0x6A
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_18
comma
l_int|14
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_19
comma
l_int|0x86
)paren
suffix:semicolon
id|SARLUCN
c_func
(paren
id|_21
comma
l_int|0x3fd
)paren
suffix:semicolon
id|final
suffix:colon
op_star
id|lenp
op_assign
id|pos
suffix:semicolon
id|retv
op_assign
id|proc_dostring
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
r_return
id|retv
suffix:semicolon
)brace
DECL|function|arlan_sysctl_infotxRing
r_static
r_int
id|arlan_sysctl_infotxRing
c_func
(paren
id|ctl_table
op_star
id|ctl
comma
r_int
id|write
comma
r_struct
id|file
op_star
id|filp
comma
r_void
op_star
id|buffer
comma
r_int
op_star
id|lenp
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|retv
comma
id|pos
comma
id|devnum
suffix:semicolon
r_struct
id|arlan_private
op_star
id|priva
op_assign
l_int|NULL
suffix:semicolon
id|pos
op_assign
l_int|0
suffix:semicolon
id|devnum
op_assign
id|ctl-&gt;procname
(braket
l_int|5
)braket
op_minus
l_char|&squot;0&squot;
suffix:semicolon
r_if
c_cond
(paren
id|arlan_device
(braket
id|devnum
)braket
op_eq
l_int|NULL
)paren
(brace
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;No device found here &bslash;n&quot;
)paren
suffix:semicolon
r_goto
id|final
suffix:semicolon
)brace
r_else
id|priva
op_assign
id|arlan_device
(braket
id|devnum
)braket
op_member_access_from_pointer
id|priv
suffix:semicolon
r_if
c_cond
(paren
id|priva
op_eq
l_int|NULL
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot; Could not find the device private in arlan procsys, bad&bslash;n &quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|memcpy_fromio
c_func
(paren
id|priva-&gt;conf
comma
id|priva-&gt;card
comma
r_sizeof
(paren
r_struct
id|arlan_shmem
)paren
)paren
suffix:semicolon
id|SARLBNpln
c_func
(paren
id|u_char
comma
id|txBuffer
comma
l_int|0x800
)paren
suffix:semicolon
id|final
suffix:colon
op_star
id|lenp
op_assign
id|pos
suffix:semicolon
id|retv
op_assign
id|proc_dostring
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
r_return
id|retv
suffix:semicolon
)brace
DECL|function|arlan_sysctl_inforxRing
r_static
r_int
id|arlan_sysctl_inforxRing
c_func
(paren
id|ctl_table
op_star
id|ctl
comma
r_int
id|write
comma
r_struct
id|file
op_star
id|filp
comma
r_void
op_star
id|buffer
comma
r_int
op_star
id|lenp
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|retv
comma
id|pos
comma
id|devnum
suffix:semicolon
r_struct
id|arlan_private
op_star
id|priva
op_assign
l_int|NULL
suffix:semicolon
id|pos
op_assign
l_int|0
suffix:semicolon
id|devnum
op_assign
id|ctl-&gt;procname
(braket
l_int|5
)braket
op_minus
l_char|&squot;0&squot;
suffix:semicolon
r_if
c_cond
(paren
id|arlan_device
(braket
id|devnum
)braket
op_eq
l_int|NULL
)paren
(brace
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;No device found here &bslash;n&quot;
)paren
suffix:semicolon
r_goto
id|final
suffix:semicolon
)brace
r_else
id|priva
op_assign
id|arlan_device
(braket
id|devnum
)braket
op_member_access_from_pointer
id|priv
suffix:semicolon
r_if
c_cond
(paren
id|priva
op_eq
l_int|NULL
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot; Could not find the device private in arlan procsys, bad&bslash;n &quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|memcpy_fromio
c_func
(paren
id|priva-&gt;conf
comma
id|priva-&gt;card
comma
r_sizeof
(paren
r_struct
id|arlan_shmem
)paren
)paren
suffix:semicolon
id|SARLBNpln
c_func
(paren
id|u_char
comma
id|rxBuffer
comma
l_int|0x800
)paren
suffix:semicolon
id|final
suffix:colon
op_star
id|lenp
op_assign
id|pos
suffix:semicolon
id|retv
op_assign
id|proc_dostring
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
r_return
id|retv
suffix:semicolon
)brace
DECL|function|arlan_sysctl_info18
r_static
r_int
id|arlan_sysctl_info18
c_func
(paren
id|ctl_table
op_star
id|ctl
comma
r_int
id|write
comma
r_struct
id|file
op_star
id|filp
comma
r_void
op_star
id|buffer
comma
r_int
op_star
id|lenp
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
id|retv
comma
id|pos
comma
id|devnum
suffix:semicolon
r_struct
id|arlan_private
op_star
id|priva
op_assign
l_int|NULL
suffix:semicolon
id|pos
op_assign
l_int|0
suffix:semicolon
id|devnum
op_assign
id|ctl-&gt;procname
(braket
l_int|5
)braket
op_minus
l_char|&squot;0&squot;
suffix:semicolon
r_if
c_cond
(paren
id|arlan_device
(braket
id|devnum
)braket
op_eq
l_int|NULL
)paren
(brace
id|pos
op_add_assign
id|sprintf
c_func
(paren
id|arlan_drive_info
op_plus
id|pos
comma
l_string|&quot;No device found here &bslash;n&quot;
)paren
suffix:semicolon
r_goto
id|final
suffix:semicolon
)brace
r_else
id|priva
op_assign
id|arlan_device
(braket
id|devnum
)braket
op_member_access_from_pointer
id|priv
suffix:semicolon
r_if
c_cond
(paren
id|priva
op_eq
l_int|NULL
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot; Could not find the device private in arlan procsys, bad&bslash;n &quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
id|memcpy_fromio
c_func
(paren
id|priva-&gt;conf
comma
id|priva-&gt;card
comma
r_sizeof
(paren
r_struct
id|arlan_shmem
)paren
)paren
suffix:semicolon
id|SARLBNpln
c_func
(paren
id|u_char
comma
id|_18
comma
l_int|0x800
)paren
suffix:semicolon
id|final
suffix:colon
op_star
id|lenp
op_assign
id|pos
suffix:semicolon
id|retv
op_assign
id|proc_dostring
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
r_return
id|retv
suffix:semicolon
)brace
macro_line|#endif&t;&t;&t;&t;/* #ifdef ARLAN_PROC_SHM_DUMP */
DECL|variable|conf_reset_result
r_static
r_char
id|conf_reset_result
(braket
l_int|200
)braket
suffix:semicolon
DECL|function|arlan_configure
r_static
r_int
id|arlan_configure
c_func
(paren
id|ctl_table
op_star
id|ctl
comma
r_int
id|write
comma
r_struct
id|file
op_star
id|filp
comma
r_void
op_star
id|buffer
comma
r_int
op_star
id|lenp
)paren
(brace
r_int
id|pos
op_assign
l_int|0
suffix:semicolon
r_int
id|devnum
op_assign
id|ctl-&gt;procname
(braket
l_int|6
)braket
op_minus
l_char|&squot;0&squot;
suffix:semicolon
r_struct
id|arlan_private
op_star
id|priv
suffix:semicolon
r_if
c_cond
(paren
id|devnum
template_param
id|MAX_ARLANS
op_minus
l_int|1
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;too strange devnum in procfs parse&bslash;n &quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|arlan_device
(braket
id|devnum
)braket
op_ne
l_int|NULL
)paren
(brace
id|priv
op_assign
id|arlan_device
(braket
id|devnum
)braket
op_member_access_from_pointer
id|priv
suffix:semicolon
id|arlan_command
c_func
(paren
id|arlan_device
(braket
id|devnum
)braket
comma
id|ARLAN_COMMAND_CLEAN_AND_CONF
)paren
suffix:semicolon
)brace
r_else
r_return
op_minus
l_int|1
suffix:semicolon
op_star
id|lenp
op_assign
id|pos
suffix:semicolon
r_return
id|proc_dostring
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
)brace
DECL|function|arlan_sysctl_reset
r_int
id|arlan_sysctl_reset
c_func
(paren
id|ctl_table
op_star
id|ctl
comma
r_int
id|write
comma
r_struct
id|file
op_star
id|filp
comma
r_void
op_star
id|buffer
comma
r_int
op_star
id|lenp
)paren
(brace
r_int
id|pos
op_assign
l_int|0
suffix:semicolon
r_int
id|devnum
op_assign
id|ctl-&gt;procname
(braket
l_int|5
)braket
op_minus
l_char|&squot;0&squot;
suffix:semicolon
r_struct
id|arlan_private
op_star
id|priv
suffix:semicolon
r_if
c_cond
(paren
id|devnum
template_param
id|MAX_ARLANS
op_minus
l_int|1
)paren
(brace
id|printk
c_func
(paren
id|KERN_WARNING
l_string|&quot;too strange devnum in procfs parse&bslash;n &quot;
)paren
suffix:semicolon
r_return
op_minus
l_int|1
suffix:semicolon
)brace
r_else
r_if
c_cond
(paren
id|arlan_device
(braket
id|devnum
)braket
op_ne
l_int|NULL
)paren
(brace
id|priv
op_assign
id|arlan_device
(braket
id|devnum
)braket
op_member_access_from_pointer
id|priv
suffix:semicolon
id|arlan_command
c_func
(paren
id|arlan_device
(braket
id|devnum
)braket
comma
id|ARLAN_COMMAND_CLEAN_AND_RESET
)paren
suffix:semicolon
)brace
r_else
r_return
op_minus
l_int|1
suffix:semicolon
op_star
id|lenp
op_assign
id|pos
op_plus
l_int|3
suffix:semicolon
r_return
id|proc_dostring
c_func
(paren
id|ctl
comma
id|write
comma
id|filp
comma
id|buffer
comma
id|lenp
)paren
suffix:semicolon
)brace
multiline_comment|/* Place files in /proc/sys/dev/arlan */
DECL|macro|CTBLN
mdefine_line|#define CTBLN(num,card,nam) &bslash;&n;        {num , #nam, &amp;(arlan_conf[card].nam), &bslash;&n;         sizeof(int), 0600, NULL, &amp;proc_dointvec}
macro_line|#ifdef ARLAN_DEBUGING
DECL|macro|ARLAN_PROC_DEBUG_ENTRIES
mdefine_line|#define ARLAN_PROC_DEBUG_ENTRIES&t;{48, &quot;entry_exit_debug&quot;, &amp;arlan_entry_and_exit_debug, &bslash;&n;                sizeof(int), 0600, NULL, &amp;proc_dointvec},&bslash;&n;&t;{49, &quot;debug&quot;, &amp;arlan_debug, &bslash;&n;                sizeof(int), 0600, NULL, &amp;proc_dointvec},
macro_line|#else 
DECL|macro|ARLAN_PROC_DEBUG_ENTRIES
mdefine_line|#define ARLAN_PROC_DEBUG_ENTRIES
macro_line|#endif
DECL|macro|ARLAN_SYSCTL_TABLE_TOTAL
mdefine_line|#define ARLAN_SYSCTL_TABLE_TOTAL(cardNo)&bslash;&n;&t;CTBLN(1,cardNo,spreadingCode),&bslash;&n;&t;CTBLN(2,cardNo, channelNumber),&bslash;&n;&t;CTBLN(3,cardNo, scramblingDisable),&bslash;&n;&t;CTBLN(4,cardNo, txAttenuation),&bslash;&n;&t;CTBLN(5,cardNo, systemId), &bslash;&n;&t;CTBLN(6,cardNo, maxDatagramSize),&bslash;&n;&t;CTBLN(7,cardNo, maxFrameSize),&bslash;&n;&t;CTBLN(8,cardNo, maxRetries),&bslash;&n;&t;CTBLN(9,cardNo, receiveMode),&bslash;&n;&t;CTBLN(10,cardNo, priority),&bslash;&n;&t;CTBLN(11,cardNo, rootOrRepeater),&bslash;&n;&t;CTBLN(12,cardNo, SID),&bslash;&n;&t;CTBLN(13,cardNo, registrationMode),&bslash;&n;&t;CTBLN(14,cardNo, registrationFill),&bslash;&n;&t;CTBLN(15,cardNo, localTalkAddress),&bslash;&n;&t;CTBLN(16,cardNo, codeFormat),&bslash;&n;&t;CTBLN(17,cardNo, numChannels),&bslash;&n;&t;CTBLN(18,cardNo, channel1),&bslash;&n;&t;CTBLN(19,cardNo, channel2),&bslash;&n;&t;CTBLN(20,cardNo, channel3),&bslash;&n;&t;CTBLN(21,cardNo, channel4),&bslash;&n;&t;CTBLN(22,cardNo, txClear),&bslash;&n;&t;CTBLN(23,cardNo, txRetries),&bslash;&n;&t;CTBLN(24,cardNo, txRouting),&bslash;&n;&t;CTBLN(25,cardNo, txScrambled),&bslash;&n;&t;CTBLN(26,cardNo, rxParameter),&bslash;&n;&t;CTBLN(27,cardNo, txTimeoutMs),&bslash;&n;&t;CTBLN(28,cardNo, waitCardTimeout),&bslash;&n;&t;CTBLN(29,cardNo, channelSet), &bslash;&n;&t;{30, &quot;name&quot;, arlan_conf[cardNo].siteName, &bslash;&n;                16, 0600, NULL, &amp;proc_dostring},&bslash;&n;&t;CTBLN(31,cardNo,waitTime),&bslash;&n;&t;CTBLN(32,cardNo,lParameter),&bslash;&n;&t;CTBLN(33,cardNo,_15),&bslash;&n;&t;CTBLN(34,cardNo,headerSize),&bslash;&n;&t;CTBLN(35,cardNo,async),&bslash;&n;&t;CTBLN(36,cardNo,tx_delay_ms),&bslash;&n;&t;CTBLN(37,cardNo,retries),&bslash;&n;&t;CTBLN(38,cardNo,ReTransmitPacketMaxSize),&bslash;&n;&t;CTBLN(39,cardNo,waitReTransmitPacketMaxSize),&bslash;&n;&t;CTBLN(40,cardNo,fastReTransCount),&bslash;&n;&t;CTBLN(41,cardNo,driverRetransmissions),&bslash;&n;&t;CTBLN(42,cardNo,txAckTimeoutMs),&bslash;&n;&t;CTBLN(43,cardNo,registrationInterrupts),&bslash;&n;&t;CTBLN(44,cardNo,hardwareType),&bslash;&n;&t;CTBLN(45,cardNo,radioType),&bslash;&n;&t;CTBLN(46,cardNo,writeEEPROM),&bslash;&n;&t;CTBLN(47,cardNo,writeRadioType),&bslash;&n;&t;ARLAN_PROC_DEBUG_ENTRIES&bslash;&n;&t;CTBLN(50,cardNo,in_speed),&bslash;&n;&t;CTBLN(51,cardNo,out_speed),&bslash;&n;&t;CTBLN(52,cardNo,in_speed10),&bslash;&n;&t;CTBLN(53,cardNo,out_speed10),&bslash;&n;&t;CTBLN(54,cardNo,in_speed_max),&bslash;&n;&t;CTBLN(55,cardNo,out_speed_max),&bslash;&n;&t;CTBLN(56,cardNo,measure_rate),&bslash;&n;&t;CTBLN(57,cardNo,pre_Command_Wait),&bslash;&n;&t;CTBLN(58,cardNo,rx_tweak1),&bslash;&n;&t;CTBLN(59,cardNo,rx_tweak2),&bslash;&n;&t;CTBLN(60,cardNo,tx_queue_len),&bslash;&n;
DECL|variable|arlan_conf_table0
r_static
id|ctl_table
id|arlan_conf_table0
(braket
)braket
op_assign
(brace
id|ARLAN_SYSCTL_TABLE_TOTAL
c_func
(paren
l_int|0
)paren
macro_line|#ifdef ARLAN_PROC_SHM_DUMP
(brace
l_int|150
comma
l_string|&quot;arlan0-txRing&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_infotxRing
)brace
comma
(brace
l_int|151
comma
l_string|&quot;arlan0-rxRing&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_inforxRing
)brace
comma
(brace
l_int|152
comma
l_string|&quot;arlan0-18&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info18
)brace
comma
(brace
l_int|153
comma
l_string|&quot;arlan0-ring&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info161719
)brace
comma
(brace
l_int|154
comma
l_string|&quot;arlan0-shm-cpy&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info
)brace
comma
macro_line|#endif
(brace
l_int|155
comma
l_string|&quot;config0&quot;
comma
op_amp
id|conf_reset_result
comma
"&bslash;"
l_int|100
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_configure
)brace
comma
"&bslash;"
(brace
l_int|156
comma
l_string|&quot;reset0&quot;
comma
op_amp
id|conf_reset_result
comma
"&bslash;"
l_int|100
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_reset
)brace
comma
"&bslash;"
(brace
l_int|0
)brace
)brace
suffix:semicolon
DECL|variable|arlan_conf_table1
r_static
id|ctl_table
id|arlan_conf_table1
(braket
)braket
op_assign
(brace
id|ARLAN_SYSCTL_TABLE_TOTAL
c_func
(paren
l_int|1
)paren
macro_line|#ifdef ARLAN_PROC_SHM_DUMP
(brace
l_int|150
comma
l_string|&quot;arlan1-txRing&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_infotxRing
)brace
comma
(brace
l_int|151
comma
l_string|&quot;arlan1-rxRing&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_inforxRing
)brace
comma
(brace
l_int|152
comma
l_string|&quot;arlan1-18&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info18
)brace
comma
(brace
l_int|153
comma
l_string|&quot;arlan1-ring&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info161719
)brace
comma
(brace
l_int|154
comma
l_string|&quot;arlan1-shm-cpy&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info
)brace
comma
macro_line|#endif
(brace
l_int|155
comma
l_string|&quot;config1&quot;
comma
op_amp
id|conf_reset_result
comma
l_int|100
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_configure
)brace
comma
(brace
l_int|156
comma
l_string|&quot;reset1&quot;
comma
op_amp
id|conf_reset_result
comma
l_int|100
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_reset
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
DECL|variable|arlan_conf_table2
r_static
id|ctl_table
id|arlan_conf_table2
(braket
)braket
op_assign
(brace
id|ARLAN_SYSCTL_TABLE_TOTAL
c_func
(paren
l_int|2
)paren
macro_line|#ifdef ARLAN_PROC_SHM_DUMP
(brace
l_int|150
comma
l_string|&quot;arlan2-txRing&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_infotxRing
)brace
comma
(brace
l_int|151
comma
l_string|&quot;arlan2-rxRing&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_inforxRing
)brace
comma
(brace
l_int|152
comma
l_string|&quot;arlan2-18&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info18
)brace
comma
(brace
l_int|153
comma
l_string|&quot;arlan2-ring&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info161719
)brace
comma
(brace
l_int|154
comma
l_string|&quot;arlan2-shm-cpy&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info
)brace
comma
macro_line|#endif
(brace
l_int|155
comma
l_string|&quot;config2&quot;
comma
op_amp
id|conf_reset_result
comma
l_int|100
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_configure
)brace
comma
(brace
l_int|156
comma
l_string|&quot;reset2&quot;
comma
op_amp
id|conf_reset_result
comma
l_int|100
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_reset
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
DECL|variable|arlan_conf_table3
r_static
id|ctl_table
id|arlan_conf_table3
(braket
)braket
op_assign
(brace
id|ARLAN_SYSCTL_TABLE_TOTAL
c_func
(paren
l_int|3
)paren
macro_line|#ifdef ARLAN_PROC_SHM_DUMP
(brace
l_int|150
comma
l_string|&quot;arlan3-txRing&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_infotxRing
)brace
comma
(brace
l_int|151
comma
l_string|&quot;arlan3-rxRing&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_inforxRing
)brace
comma
(brace
l_int|152
comma
l_string|&quot;arlan3-18&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info18
)brace
comma
(brace
l_int|153
comma
l_string|&quot;arlan3-ring&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info161719
)brace
comma
(brace
l_int|154
comma
l_string|&quot;arlan3-shm-cpy&quot;
comma
op_amp
id|arlan_drive_info
comma
id|ARLAN_STR_SIZE
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_info
)brace
comma
macro_line|#endif
(brace
l_int|155
comma
l_string|&quot;config3&quot;
comma
op_amp
id|conf_reset_result
comma
l_int|100
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_configure
)brace
comma
(brace
l_int|156
comma
l_string|&quot;reset3&quot;
comma
op_amp
id|conf_reset_result
comma
l_int|100
comma
l_int|0400
comma
l_int|NULL
comma
op_amp
id|arlan_sysctl_reset
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
DECL|variable|arlan_table
r_static
id|ctl_table
id|arlan_table
(braket
)braket
op_assign
(brace
(brace
l_int|0
comma
l_string|&quot;arlan0&quot;
comma
l_int|NULL
comma
l_int|0
comma
l_int|0600
comma
id|arlan_conf_table0
)brace
comma
(brace
l_int|0
comma
l_string|&quot;arlan1&quot;
comma
l_int|NULL
comma
l_int|0
comma
l_int|0600
comma
id|arlan_conf_table1
)brace
comma
(brace
l_int|0
comma
l_string|&quot;arlan2&quot;
comma
l_int|NULL
comma
l_int|0
comma
l_int|0600
comma
id|arlan_conf_table2
)brace
comma
(brace
l_int|0
comma
l_string|&quot;arlan3&quot;
comma
l_int|NULL
comma
l_int|0
comma
l_int|0600
comma
id|arlan_conf_table3
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
macro_line|#else
DECL|variable|arlan_table
r_static
id|ctl_table
id|arlan_table
(braket
id|MAX_ARLANS
op_plus
l_int|1
)braket
op_assign
(brace
(brace
l_int|0
)brace
)brace
suffix:semicolon
macro_line|#endif
macro_line|#else
DECL|variable|arlan_table
r_static
id|ctl_table
id|arlan_table
(braket
id|MAX_ARLANS
op_plus
l_int|1
)braket
op_assign
(brace
(brace
l_int|0
)brace
)brace
suffix:semicolon
macro_line|#endif
singleline_comment|// static int mmtu = 1234;
DECL|variable|arlan_root_table
r_static
id|ctl_table
id|arlan_root_table
(braket
)braket
op_assign
(brace
(brace
l_int|254
comma
l_string|&quot;arlan&quot;
comma
l_int|NULL
comma
l_int|0
comma
l_int|0555
comma
id|arlan_table
)brace
comma
(brace
l_int|0
)brace
)brace
suffix:semicolon
multiline_comment|/* Make sure that /proc/sys/dev is there */
singleline_comment|//static ctl_table arlan_device_root_table[] =
singleline_comment|//{
singleline_comment|//&t;{CTL_DEV, &quot;dev&quot;, NULL, 0, 0555, arlan_root_table},
singleline_comment|//&t;{0}
singleline_comment|//};
DECL|variable|arlan_device_sysctl_header
r_static
r_struct
id|ctl_table_header
op_star
id|arlan_device_sysctl_header
op_assign
l_int|NULL
suffix:semicolon
DECL|function|init_arlan_proc
r_int
id|init_arlan_proc
c_func
(paren
r_void
)paren
(brace
r_int
id|i
op_assign
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|arlan_device_sysctl_header
)paren
r_return
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|MAX_ARLANS
op_logical_and
id|arlan_device
(braket
id|i
)braket
suffix:semicolon
id|i
op_increment
)paren
id|arlan_table
(braket
id|i
)braket
dot
id|ctl_name
op_assign
id|i
op_plus
l_int|1
suffix:semicolon
id|arlan_device_sysctl_header
op_assign
id|register_sysctl_table
c_func
(paren
id|arlan_root_table
comma
l_int|0
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|arlan_device_sysctl_header
)paren
r_return
op_minus
l_int|1
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
suffix:semicolon
macro_line|#ifdef MODULE
DECL|function|init_module
r_int
id|init_module
c_func
(paren
r_void
)paren
(brace
r_return
id|init_arlan_proc
c_func
(paren
)paren
suffix:semicolon
)brace
suffix:semicolon
DECL|function|cleanup_module
r_void
id|cleanup_module
c_func
(paren
r_void
)paren
(brace
id|unregister_sysctl_table
c_func
(paren
id|arlan_device_sysctl_header
)paren
suffix:semicolon
id|arlan_device_sysctl_header
op_assign
l_int|NULL
suffix:semicolon
r_return
suffix:semicolon
)brace
suffix:semicolon
macro_line|#endif&t;&t;&t;&t;
singleline_comment|// MODULE
eof
