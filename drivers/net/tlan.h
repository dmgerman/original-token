macro_line|#ifndef TLAN_H
DECL|macro|TLAN_H
mdefine_line|#define TLAN_H
multiline_comment|/********************************************************************&n; *&n; *  Linux ThunderLAN Driver&n; *&n; *  tlan.h&n; *  by James Banks, james.banks@caldera.com&n; *&n; *  (C) 1997 Caldera, Inc.&n; *&n; *  This software may be used and distributed according to the terms&n; *  of the GNU Public License, incorporated herein by reference.&n; *&n; ** This file is best viewed/edited with tabstop=4, colums&gt;=132&n; *&n; ********************************************************************/
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/types.h&gt;
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#if LINUX_VERSION_CODE &lt;= 0x20100
DECL|macro|net_device_stats
mdefine_line|#define net_device_stats&t;enet_statistics
macro_line|#endif
multiline_comment|/*****************************************************************&n;&t; * TLan Definitions&n;&t; *&n;&t; ****************************************************************/
DECL|macro|FALSE
mdefine_line|#define FALSE&t;&t;&t;&t;0
DECL|macro|TRUE
mdefine_line|#define TRUE&t;&t;&t;&t;1
DECL|macro|TLAN_MIN_FRAME_SIZE
mdefine_line|#define TLAN_MIN_FRAME_SIZE&t;64
DECL|macro|TLAN_MAX_FRAME_SIZE
mdefine_line|#define TLAN_MAX_FRAME_SIZE&t;1600
DECL|macro|TLAN_NUM_RX_LISTS
mdefine_line|#define TLAN_NUM_RX_LISTS 4
DECL|macro|TLAN_NUM_TX_LISTS
mdefine_line|#define TLAN_NUM_TX_LISTS 8
DECL|macro|TLAN_IGNORE
mdefine_line|#define TLAN_IGNORE&t;0
DECL|macro|TLAN_RECORD
mdefine_line|#define TLAN_RECORD&t;1
DECL|macro|TLAN_DBG
mdefine_line|#define TLAN_DBG(lvl, format, args...)&t;if (debug&amp;lvl) printk( format, ##args );
DECL|macro|TLAN_DEBUG_GNRL
mdefine_line|#define TLAN_DEBUG_GNRL&t;0x0001
DECL|macro|TLAN_DEBUG_TX
mdefine_line|#define TLAN_DEBUG_TX&t;0x0002
DECL|macro|TLAN_DEBUG_RX
mdefine_line|#define TLAN_DEBUG_RX&t;0x0004 
DECL|macro|TLAN_DEBUG_LIST
mdefine_line|#define TLAN_DEBUG_LIST&t;0x0008
multiline_comment|/*****************************************************************&n;&t; * Device Identification Definitions&n;&t; *&n;&t; ****************************************************************/
multiline_comment|/* NOTE: These have been moved to pci.h, will use them&n;&t;   eventually */
DECL|macro|PCI_DEVICE_ID_NETELLIGENT_10
mdefine_line|#define PCI_DEVICE_ID_NETELLIGENT_10 0xAE34
DECL|macro|PCI_DEVICE_ID_NETELLIGENT_10_100
mdefine_line|#define PCI_DEVICE_ID_NETELLIGENT_10_100 0xAE32
DECL|macro|PCI_DEVICE_ID_NETFLEX_3P_INTEGRATED
mdefine_line|#define PCI_DEVICE_ID_NETFLEX_3P_INTEGRATED 0xAE35
DECL|macro|PCI_DEVICE_ID_NETFLEX_3P
mdefine_line|#define PCI_DEVICE_ID_NETFLEX_3P 0xF130
DECL|macro|PCI_DEVICE_ID_NETFLEX_3P_BNC
mdefine_line|#define PCI_DEVICE_ID_NETFLEX_3P_BNC 0xF150
DECL|macro|PCI_DEVICE_ID_NETELLIGENT_10_100_PROLIANT
mdefine_line|#define PCI_DEVICE_ID_NETELLIGENT_10_100_PROLIANT 0xAE43
DECL|macro|PCI_DEVICE_ID_NETELLIGENT_10_100_DUAL
mdefine_line|#define PCI_DEVICE_ID_NETELLIGENT_10_100_DUAL 0xAE40
DECL|macro|PCI_DEVICE_ID_DESKPRO_4000_5233MMX
mdefine_line|#define PCI_DEVICE_ID_DESKPRO_4000_5233MMX 0xB011
DECL|struct|tlan_pci_id
r_typedef
r_struct
id|tlan_pci_id
(brace
DECL|member|vendorId
id|u16
id|vendorId
suffix:semicolon
DECL|member|deviceId
id|u16
id|deviceId
suffix:semicolon
DECL|member|deviceName
r_char
op_star
id|deviceName
suffix:semicolon
DECL|typedef|TLanPciId
)brace
id|TLanPciId
suffix:semicolon
multiline_comment|/*****************************************************************&n;&t; * Rx/Tx List Definitions&n;&t; *&n;&t; ****************************************************************/
DECL|macro|TLAN_BUFFERS_PER_LIST
mdefine_line|#define TLAN_BUFFERS_PER_LIST&t;10
DECL|macro|TLAN_LAST_BUFFER
mdefine_line|#define TLAN_LAST_BUFFER&t;0x80000000
DECL|macro|TLAN_CSTAT_UNUSED
mdefine_line|#define TLAN_CSTAT_UNUSED&t;0x8000
DECL|macro|TLAN_CSTAT_FRM_CMP
mdefine_line|#define TLAN_CSTAT_FRM_CMP&t;0x4000
DECL|macro|TLAN_CSTAT_READY
mdefine_line|#define TLAN_CSTAT_READY&t;0x3000
DECL|macro|TLAN_CSTAT_EOC
mdefine_line|#define TLAN_CSTAT_EOC&t;&t;0x0800
DECL|macro|TLAN_CSTAT_RX_ERROR
mdefine_line|#define TLAN_CSTAT_RX_ERROR&t;0x0400
DECL|macro|TLAN_CSTAT_PASS_CRC
mdefine_line|#define TLAN_CSTAT_PASS_CRC&t;0x0200
DECL|macro|TLAN_CSTAT_DP_PR
mdefine_line|#define TLAN_CSTAT_DP_PR&t;0x0100
DECL|struct|tlan_buffer_ref_tag
r_typedef
r_struct
id|tlan_buffer_ref_tag
(brace
DECL|member|count
id|u32
id|count
suffix:semicolon
DECL|member|address
id|u32
id|address
suffix:semicolon
DECL|typedef|TLanBufferRef
)brace
id|TLanBufferRef
suffix:semicolon
DECL|struct|tlan_list_tag
r_typedef
r_struct
id|tlan_list_tag
(brace
DECL|member|forward
id|u32
id|forward
suffix:semicolon
DECL|member|cStat
id|u16
id|cStat
suffix:semicolon
DECL|member|frameSize
id|u16
id|frameSize
suffix:semicolon
DECL|member|buffer
id|TLanBufferRef
id|buffer
(braket
id|TLAN_BUFFERS_PER_LIST
)braket
suffix:semicolon
DECL|typedef|TLanList
)brace
id|TLanList
suffix:semicolon
DECL|typedef|TLanBuffer
r_typedef
id|u8
id|TLanBuffer
(braket
id|TLAN_MAX_FRAME_SIZE
)braket
suffix:semicolon
multiline_comment|/*****************************************************************&n;&t; * PHY definitions&n;&t; *&n;&t; ****************************************************************/
DECL|macro|TLAN_PHY_MAX_ADDR
mdefine_line|#define TLAN_PHY_MAX_ADDR&t;0x1F
DECL|macro|TLAN_PHY_ACTIVITY
mdefine_line|#define TLAN_PHY_ACTIVITY&t;0x00000001
DECL|macro|TLAN_PHY_AUTONEG
mdefine_line|#define TLAN_PHY_AUTONEG&t;0x00000002
DECL|macro|TLAN_PHY_INTS
mdefine_line|#define TLAN_PHY_INTS&t;&t;0x00000004
DECL|macro|TLAN_PHY_BIT_RATE
mdefine_line|#define TLAN_PHY_BIT_RATE&t;0x00000008
DECL|macro|TLAN_PHY_UNMANAGED
mdefine_line|#define TLAN_PHY_UNMANAGED&t;0x00000010
DECL|macro|TLAN_PHY_INTERNAL
mdefine_line|#define TLAN_PHY_INTERNAL&t;0x00000020
DECL|typedef|TLanPhyFunc
r_typedef
r_int
(paren
id|TLanPhyFunc
)paren
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|struct|tlan_phy_id_entry_tag
r_typedef
r_struct
id|tlan_phy_id_entry_tag
(brace
DECL|member|idHi
id|u16
id|idHi
suffix:semicolon
DECL|member|idLo
id|u16
id|idLo
suffix:semicolon
DECL|member|check
id|TLanPhyFunc
op_star
id|check
suffix:semicolon
DECL|member|service
id|TLanPhyFunc
op_star
id|service
suffix:semicolon
DECL|member|flags
id|u32
id|flags
suffix:semicolon
DECL|typedef|TLanPhyIdEntry
)brace
id|TLanPhyIdEntry
suffix:semicolon
multiline_comment|/*****************************************************************&n;&t; * TLAN Private Information Structure&n;&t; *&n;&t; ****************************************************************/
DECL|struct|tlan_private_tag
r_typedef
r_struct
id|tlan_private_tag
(brace
DECL|member|nextDevice
r_struct
id|device
op_star
id|nextDevice
suffix:semicolon
DECL|member|dmaStorage
r_void
op_star
id|dmaStorage
suffix:semicolon
DECL|member|padBuffer
id|u8
op_star
id|padBuffer
suffix:semicolon
DECL|member|rxList
id|TLanList
op_star
id|rxList
suffix:semicolon
DECL|member|rxBuffer
id|u8
op_star
id|rxBuffer
suffix:semicolon
DECL|member|rxHead
id|u32
id|rxHead
suffix:semicolon
DECL|member|rxTail
id|u32
id|rxTail
suffix:semicolon
DECL|member|rxEocCount
id|u32
id|rxEocCount
suffix:semicolon
DECL|member|txList
id|TLanList
op_star
id|txList
suffix:semicolon
DECL|member|txBuffer
id|u8
op_star
id|txBuffer
suffix:semicolon
DECL|member|txHead
id|u32
id|txHead
suffix:semicolon
DECL|member|txInProgress
id|u32
id|txInProgress
suffix:semicolon
DECL|member|txTail
id|u32
id|txTail
suffix:semicolon
DECL|member|txBusyCount
id|u32
id|txBusyCount
suffix:semicolon
DECL|member|phyAddr
id|u32
id|phyAddr
suffix:semicolon
DECL|member|phyEntry
id|u32
id|phyEntry
suffix:semicolon
DECL|member|phyOnline
id|u32
id|phyOnline
suffix:semicolon
DECL|member|phyFlags
id|u32
id|phyFlags
suffix:semicolon
DECL|member|phyCheck
id|TLanPhyFunc
op_star
id|phyCheck
suffix:semicolon
DECL|member|phyService
id|TLanPhyFunc
op_star
id|phyService
suffix:semicolon
DECL|member|timerSetAt
id|u32
id|timerSetAt
suffix:semicolon
DECL|member|timerType
id|u32
id|timerType
suffix:semicolon
DECL|member|timer
r_struct
id|timer_list
id|timer
suffix:semicolon
DECL|member|stats
r_struct
id|net_device_stats
id|stats
suffix:semicolon
DECL|member|pciEntry
id|u32
id|pciEntry
suffix:semicolon
DECL|member|pciRevision
id|u8
id|pciRevision
suffix:semicolon
DECL|member|pciBus
id|u8
id|pciBus
suffix:semicolon
DECL|member|pciDeviceFn
id|u8
id|pciDeviceFn
suffix:semicolon
DECL|member|tlanRev
id|u8
id|tlanRev
suffix:semicolon
DECL|member|devName
r_char
id|devName
(braket
l_int|8
)braket
suffix:semicolon
DECL|typedef|TLanPrivateInfo
)brace
id|TLanPrivateInfo
suffix:semicolon
multiline_comment|/*****************************************************************&n;&t; * TLan Driver Timer Definitions&n;&t; *&n;&t; ****************************************************************/
DECL|macro|TLAN_TIMER_LINK
mdefine_line|#define TLAN_TIMER_LINK&t;&t;&t;1
DECL|macro|TLAN_TIMER_ACT
mdefine_line|#define TLAN_TIMER_ACT&t;&t;&t;2
DECL|macro|TLAN_TIMER_LINK_DELAY
mdefine_line|#define TLAN_TIMER_LINK_DELAY&t;230
DECL|macro|TLAN_TIMER_ACT_DELAY
mdefine_line|#define TLAN_TIMER_ACT_DELAY&t;10
multiline_comment|/*****************************************************************&n;&t; * TLan Driver Eeprom Definitions&n;&t; *&n;&t; ****************************************************************/
DECL|macro|TLAN_EEPROM_ACK
mdefine_line|#define TLAN_EEPROM_ACK&t;&t;0
DECL|macro|TLAN_EEPROM_STOP
mdefine_line|#define TLAN_EEPROM_STOP&t;1
multiline_comment|/*****************************************************************&n;&t; * Host Register Offsets and Contents&n;&t; *&n;&t; ****************************************************************/
DECL|macro|TLAN_HOST_CMD
mdefine_line|#define TLAN_HOST_CMD&t;&t;0x00
DECL|macro|TLAN_HC_GO
mdefine_line|#define &t;TLAN_HC_GO&t;&t;0x80000000
DECL|macro|TLAN_HC_STOP
mdefine_line|#define&t;&t;TLAN_HC_STOP&t;0x40000000
DECL|macro|TLAN_HC_ACK
mdefine_line|#define&t;&t;TLAN_HC_ACK&t;&t;0x20000000
DECL|macro|TLAN_HC_CS_MASK
mdefine_line|#define&t;&t;TLAN_HC_CS_MASK 0x1FE00000
DECL|macro|TLAN_HC_EOC
mdefine_line|#define&t;&t;TLAN_HC_EOC&t;&t;0x00100000
DECL|macro|TLAN_HC_RT
mdefine_line|#define&t;&t;TLAN_HC_RT&t;&t;0x00080000
DECL|macro|TLAN_HC_NES
mdefine_line|#define&t;&t;TLAN_HC_NES&t;&t;0x00040000
DECL|macro|TLAN_HC_AD_RST
mdefine_line|#define&t;&t;TLAN_HC_AD_RST&t;0x00008000
DECL|macro|TLAN_HC_LD_TMR
mdefine_line|#define&t;&t;TLAN_HC_LD_TMR&t;0x00004000
DECL|macro|TLAN_HC_LD_THR
mdefine_line|#define&t;&t;TLAN_HC_LD_THR&t;0x00002000
DECL|macro|TLAN_HC_REQ_INT
mdefine_line|#define&t;&t;TLAN_HC_REQ_INT&t;0x00001000
DECL|macro|TLAN_HC_INT_OFF
mdefine_line|#define&t;&t;TLAN_HC_INT_OFF&t;0x00000800
DECL|macro|TLAN_HC_INT_ON
mdefine_line|#define&t;&t;TLAN_HC_INT_ON&t;0x00000400
DECL|macro|TLAN_HC_AC_MASK
mdefine_line|#define&t;&t;TLAN_HC_AC_MASK&t;0x000000FF
DECL|macro|TLAN_CH_PARM
mdefine_line|#define TLAN_CH_PARM&t;&t;0x04
DECL|macro|TLAN_DIO_ADR
mdefine_line|#define TLAN_DIO_ADR&t;&t;0x08
DECL|macro|TLAN_DA_ADR_INC
mdefine_line|#define&t;&t;TLAN_DA_ADR_INC&t;0x8000
DECL|macro|TLAN_DA_RAM_ADR
mdefine_line|#define&t;&t;TLAN_DA_RAM_ADR&t;0x4000
DECL|macro|TLAN_HOST_INT
mdefine_line|#define TLAN_HOST_INT&t;&t;0x0A
DECL|macro|TLAN_HI_IV_MASK
mdefine_line|#define&t;&t;TLAN_HI_IV_MASK&t;0x1FE0
DECL|macro|TLAN_HI_IT_MASK
mdefine_line|#define&t;&t;TLAN_HI_IT_MASK&t;0x001C
DECL|macro|TLAN_DIO_DATA
mdefine_line|#define TLAN_DIO_DATA&t;&t;0x0C
multiline_comment|/* ThunderLAN Internal Register DIO Offsets */
DECL|macro|TLAN_NET_CMD
mdefine_line|#define TLAN_NET_CMD&t;&t;&t;0x00
DECL|macro|TLAN_NET_CMD_NRESET
mdefine_line|#define&t;&t;TLAN_NET_CMD_NRESET&t;0x80
DECL|macro|TLAN_NET_CMD_NWRAP
mdefine_line|#define&t;&t;TLAN_NET_CMD_NWRAP&t;0x40
DECL|macro|TLAN_NET_CMD_CSF
mdefine_line|#define&t;&t;TLAN_NET_CMD_CSF&t;0x20
DECL|macro|TLAN_NET_CMD_CAF
mdefine_line|#define&t;&t;TLAN_NET_CMD_CAF&t;0x10
DECL|macro|TLAN_NET_CMD_NOBRX
mdefine_line|#define&t;&t;TLAN_NET_CMD_NOBRX&t;0x08
DECL|macro|TLAN_NET_CMD_DUPLEX
mdefine_line|#define&t;&t;TLAN_NET_CMD_DUPLEX&t;0x04
DECL|macro|TLAN_NET_CMD_TRFRAM
mdefine_line|#define&t;&t;TLAN_NET_CMD_TRFRAM&t;0x02
DECL|macro|TLAN_NET_CMD_TXPACE
mdefine_line|#define&t;&t;TLAN_NET_CMD_TXPACE&t;0x01
DECL|macro|TLAN_NET_SIO
mdefine_line|#define TLAN_NET_SIO&t;&t;&t;0x01
DECL|macro|TLAN_NET_SIO_MINTEN
mdefine_line|#define &t;TLAN_NET_SIO_MINTEN&t;0x80
DECL|macro|TLAN_NET_SIO_ECLOK
mdefine_line|#define&t;&t;TLAN_NET_SIO_ECLOK&t;0x40
DECL|macro|TLAN_NET_SIO_ETXEN
mdefine_line|#define&t;&t;TLAN_NET_SIO_ETXEN&t;0x20
DECL|macro|TLAN_NET_SIO_EDATA
mdefine_line|#define&t;&t;TLAN_NET_SIO_EDATA&t;0x10
DECL|macro|TLAN_NET_SIO_NMRST
mdefine_line|#define&t;&t;TLAN_NET_SIO_NMRST&t;0x08
DECL|macro|TLAN_NET_SIO_MCLK
mdefine_line|#define&t;&t;TLAN_NET_SIO_MCLK&t;0x04
DECL|macro|TLAN_NET_SIO_MTXEN
mdefine_line|#define&t;&t;TLAN_NET_SIO_MTXEN&t;0x02
DECL|macro|TLAN_NET_SIO_MDATA
mdefine_line|#define&t;&t;TLAN_NET_SIO_MDATA&t;0x01
DECL|macro|TLAN_NET_STS
mdefine_line|#define TLAN_NET_STS&t;&t;&t;0x02
DECL|macro|TLAN_NET_STS_MIRQ
mdefine_line|#define&t;&t;TLAN_NET_STS_MIRQ&t;0x80
DECL|macro|TLAN_NET_STS_HBEAT
mdefine_line|#define&t;&t;TLAN_NET_STS_HBEAT&t;0x40
DECL|macro|TLAN_NET_STS_TXSTOP
mdefine_line|#define&t;&t;TLAN_NET_STS_TXSTOP&t;0x20
DECL|macro|TLAN_NET_STS_RXSTOP
mdefine_line|#define&t;&t;TLAN_NET_STS_RXSTOP 0x10
DECL|macro|TLAN_NET_STS_RSRVD
mdefine_line|#define&t;&t;TLAN_NET_STS_RSRVD&t;0x0F
DECL|macro|TLAN_NET_MASK
mdefine_line|#define TLAN_NET_MASK&t;&t;&t;0x03
DECL|macro|TLAN_NET_MASK_MASK7
mdefine_line|#define&t;&t;TLAN_NET_MASK_MASK7&t;0x80
DECL|macro|TLAN_NET_MASK_MASK6
mdefine_line|#define&t;&t;TLAN_NET_MASK_MASK6&t;0x40
DECL|macro|TLAN_NET_MASK_MASK5
mdefine_line|#define&t;&t;TLAN_NET_MASK_MASK5&t;0x20
DECL|macro|TLAN_NET_MASK_MASK4
mdefine_line|#define&t;&t;TLAN_NET_MASK_MASK4&t;0x10
DECL|macro|TLAN_NET_MASK_RSRVD
mdefine_line|#define&t;&t;TLAN_NET_MASK_RSRVD&t;0x0F
DECL|macro|TLAN_NET_CONFIG
mdefine_line|#define TLAN_NET_CONFIG&t;&t;&t;0x04
DECL|macro|TLAN_NET_CFG_RCLK
mdefine_line|#define &t;TLAN_NET_CFG_RCLK&t;0x8000
DECL|macro|TLAN_NET_CFG_TCLK
mdefine_line|#define&t;&t;TLAN_NET_CFG_TCLK&t;0x4000
DECL|macro|TLAN_NET_CFG_BIT
mdefine_line|#define&t;&t;TLAN_NET_CFG_BIT&t;0x2000
DECL|macro|TLAN_NET_CFG_RXCRC
mdefine_line|#define&t;&t;TLAN_NET_CFG_RXCRC&t;0x1000
DECL|macro|TLAN_NET_CFG_PEF
mdefine_line|#define&t;&t;TLAN_NET_CFG_PEF&t;0x0800
DECL|macro|TLAN_NET_CFG_1FRAG
mdefine_line|#define&t;&t;TLAN_NET_CFG_1FRAG&t;0x0400
DECL|macro|TLAN_NET_CFG_1CHAN
mdefine_line|#define&t;&t;TLAN_NET_CFG_1CHAN&t;0x0200
DECL|macro|TLAN_NET_CFG_MTEST
mdefine_line|#define&t;&t;TLAN_NET_CFG_MTEST&t;0x0100
DECL|macro|TLAN_NET_CFG_PHY_EN
mdefine_line|#define&t;&t;TLAN_NET_CFG_PHY_EN&t;0x0080
DECL|macro|TLAN_NET_CFG_MSMASK
mdefine_line|#define&t;&t;TLAN_NET_CFG_MSMASK&t;0x007F
DECL|macro|TLAN_MAN_TEST
mdefine_line|#define TLAN_MAN_TEST&t;&t;0x06
DECL|macro|TLAN_DEF_VENDOR_ID
mdefine_line|#define TLAN_DEF_VENDOR_ID&t;0x08
DECL|macro|TLAN_DEF_DEVICE_ID
mdefine_line|#define TLAN_DEF_DEVICE_ID&t;0x0A
DECL|macro|TLAN_DEF_REVISION
mdefine_line|#define TLAN_DEF_REVISION&t;0x0C
DECL|macro|TLAN_DEF_SUBCLASS
mdefine_line|#define TLAN_DEF_SUBCLASS&t;0x0D
DECL|macro|TLAN_DEF_MIN_LAT
mdefine_line|#define TLAN_DEF_MIN_LAT&t;0x0E
DECL|macro|TLAN_DEF_MAX_LAT
mdefine_line|#define TLAN_DEF_MAX_LAT&t;0x0F
DECL|macro|TLAN_AREG_0
mdefine_line|#define TLAN_AREG_0&t;&t;&t;0x10
DECL|macro|TLAN_AREG_1
mdefine_line|#define TLAN_AREG_1&t;&t;&t;0x16
DECL|macro|TLAN_AREG_2
mdefine_line|#define TLAN_AREG_2&t;&t;&t;0x1C
DECL|macro|TLAN_AREG_3
mdefine_line|#define TLAN_AREG_3&t;&t;&t;0x22
DECL|macro|TLAN_HASH_1
mdefine_line|#define TLAN_HASH_1&t;&t;&t;0x28
DECL|macro|TLAN_HASH_2
mdefine_line|#define TLAN_HASH_2&t;&t;&t;0x2C
DECL|macro|TLAN_GOOD_TX_FRMS
mdefine_line|#define TLAN_GOOD_TX_FRMS&t;0x30
DECL|macro|TLAN_TX_UNDERUNS
mdefine_line|#define TLAN_TX_UNDERUNS&t;0x33
DECL|macro|TLAN_GOOD_RX_FRMS
mdefine_line|#define TLAN_GOOD_RX_FRMS&t;0x34
DECL|macro|TLAN_RX_OVERRUNS
mdefine_line|#define TLAN_RX_OVERRUNS&t;0x37
DECL|macro|TLAN_DEFERRED_TX
mdefine_line|#define TLAN_DEFERRED_TX&t;0x38
DECL|macro|TLAN_CRC_ERRORS
mdefine_line|#define TLAN_CRC_ERRORS&t;&t;0x3A
DECL|macro|TLAN_CODE_ERRORS
mdefine_line|#define TLAN_CODE_ERRORS&t;0x3B
DECL|macro|TLAN_MULTICOL_FRMS
mdefine_line|#define TLAN_MULTICOL_FRMS&t;0x3C
DECL|macro|TLAN_SINGLECOL_FRMS
mdefine_line|#define TLAN_SINGLECOL_FRMS&t;0x3E
DECL|macro|TLAN_EXCESSCOL_FRMS
mdefine_line|#define TLAN_EXCESSCOL_FRMS&t;0x40
DECL|macro|TLAN_LATE_COLS
mdefine_line|#define TLAN_LATE_COLS&t;&t;0x41
DECL|macro|TLAN_CARRIER_LOSS
mdefine_line|#define TLAN_CARRIER_LOSS&t;0x42
DECL|macro|TLAN_ACOMMIT
mdefine_line|#define TLAN_ACOMMIT&t;&t;0x43
DECL|macro|TLAN_LED_REG
mdefine_line|#define TLAN_LED_REG&t;&t;0x44
DECL|macro|TLAN_LED_ACT
mdefine_line|#define&t;&t;TLAN_LED_ACT&t;0x10
DECL|macro|TLAN_LED_LINK
mdefine_line|#define&t;&t;TLAN_LED_LINK&t;0x01
DECL|macro|TLAN_BSIZE_REG
mdefine_line|#define TLAN_BSIZE_REG&t;&t;0x45
DECL|macro|TLAN_MAX_RX
mdefine_line|#define TLAN_MAX_RX&t;&t;&t;0x46
DECL|macro|TLAN_INT_DIS
mdefine_line|#define TLAN_INT_DIS&t;&t;&t;0x48
DECL|macro|TLAN_ID_TX_EOC
mdefine_line|#define&t;&t;TLAN_ID_TX_EOC&t;&t;0x04
DECL|macro|TLAN_ID_RX_EOF
mdefine_line|#define&t;&t;TLAN_ID_RX_EOF&t;&t;0x02
DECL|macro|TLAN_ID_RX_EOC
mdefine_line|#define&t;&t;TLAN_ID_RX_EOC&t;&t;0x01
multiline_comment|/* ThunderLAN Interrupt Codes */
DECL|macro|TLAN_INT_NUMBER_OF_INTS
mdefine_line|#define TLAN_INT_NUMBER_OF_INTS&t;8
DECL|macro|TLAN_INT_NONE
mdefine_line|#define TLAN_INT_NONE&t;&t;&t;0x0000
DECL|macro|TLAN_INT_TX_EOF
mdefine_line|#define TLAN_INT_TX_EOF&t;&t;&t;0x0001
DECL|macro|TLAN_INT_STAT_OVERFLOW
mdefine_line|#define TLAN_INT_STAT_OVERFLOW&t;0x0002
DECL|macro|TLAN_INT_RX_EOF
mdefine_line|#define TLAN_INT_RX_EOF&t;&t;&t;0x0003
DECL|macro|TLAN_INT_DUMMY
mdefine_line|#define TLAN_INT_DUMMY&t;&t;&t;0x0004
DECL|macro|TLAN_INT_TX_EOC
mdefine_line|#define TLAN_INT_TX_EOC&t;&t;&t;0x0005
DECL|macro|TLAN_INT_STATUS_CHECK
mdefine_line|#define TLAN_INT_STATUS_CHECK&t;0x0006
DECL|macro|TLAN_INT_RX_EOC
mdefine_line|#define TLAN_INT_RX_EOC&t;&t;&t;0x0007
multiline_comment|/* ThunderLAN MII Registers */
multiline_comment|/* Generic MII/PHY Registers */
DECL|macro|MII_GEN_CTL
mdefine_line|#define MII_GEN_CTL&t;&t;&t;&t;0x00
DECL|macro|MII_GC_RESET
mdefine_line|#define &t;MII_GC_RESET&t;&t;0x8000
DECL|macro|MII_GC_LOOPBK
mdefine_line|#define&t;&t;MII_GC_LOOPBK&t;&t;0x4000
DECL|macro|MII_GC_SPEEDSEL
mdefine_line|#define&t;&t;MII_GC_SPEEDSEL&t;&t;0x2000
DECL|macro|MII_GC_AUTOENB
mdefine_line|#define&t;&t;MII_GC_AUTOENB&t;&t;0x1000
DECL|macro|MII_GC_PDOWN
mdefine_line|#define&t;&t;MII_GC_PDOWN&t;&t;0x0800
DECL|macro|MII_GC_ISOLATE
mdefine_line|#define&t;&t;MII_GC_ISOLATE&t;&t;0x0400
DECL|macro|MII_GC_AUTORSRT
mdefine_line|#define&t;&t;MII_GC_AUTORSRT&t;&t;0x0200
DECL|macro|MII_GC_DUPLEX
mdefine_line|#define&t;&t;MII_GC_DUPLEX&t;&t;0x0100
DECL|macro|MII_GC_COLTEST
mdefine_line|#define&t;&t;MII_GC_COLTEST&t;&t;0x0080
DECL|macro|MII_GC_RESERVED
mdefine_line|#define&t;&t;MII_GC_RESERVED&t;&t;0x007F
DECL|macro|MII_GEN_STS
mdefine_line|#define MII_GEN_STS&t;&t;&t;&t;0x01
DECL|macro|MII_GS_100BT4
mdefine_line|#define&t;&t;MII_GS_100BT4&t;&t;0x8000
DECL|macro|MII_GS_100BTXFD
mdefine_line|#define&t;&t;MII_GS_100BTXFD&t;&t;0x4000
DECL|macro|MII_GS_100BTXHD
mdefine_line|#define&t;&t;MII_GS_100BTXHD&t;&t;0x2000
DECL|macro|MII_GS_10BTFD
mdefine_line|#define&t;&t;MII_GS_10BTFD&t;&t;0x1000
DECL|macro|MII_GS_10BTHD
mdefine_line|#define&t;&t;MII_GS_10BTHD&t;&t;0x0800
DECL|macro|MII_GS_RESERVED
mdefine_line|#define&t;&t;MII_GS_RESERVED&t;&t;0x07C0
DECL|macro|MII_GS_AUTOCMPLT
mdefine_line|#define&t;&t;MII_GS_AUTOCMPLT&t;0x0020
DECL|macro|MII_GS_RFLT
mdefine_line|#define&t;&t;MII_GS_RFLT&t;&t;&t;0x0010
DECL|macro|MII_GS_AUTONEG
mdefine_line|#define&t;&t;MII_GS_AUTONEG&t;&t;0x0008
DECL|macro|MII_GS_LINK
mdefine_line|#define&t;&t;MII_GS_LINK&t;&t;&t;0x0004
DECL|macro|MII_GS_JABBER
mdefine_line|#define&t;&t;MII_GS_JABBER&t;&t;0x0002
DECL|macro|MII_GS_EXTCAP
mdefine_line|#define&t;&t;MII_GS_EXTCAP&t;&t;0x0001
DECL|macro|MII_GEN_ID_HI
mdefine_line|#define MII_GEN_ID_HI&t;&t;&t;0x02
DECL|macro|MII_GEN_ID_LO
mdefine_line|#define MII_GEN_ID_LO&t;&t;&t;0x03
DECL|macro|MII_GIL_OUI
mdefine_line|#define &t;MII_GIL_OUI&t;&t;&t;0xFC00
DECL|macro|MII_GIL_MODEL
mdefine_line|#define &t;MII_GIL_MODEL&t;&t;0x03F0
DECL|macro|MII_GIL_REVISION
mdefine_line|#define &t;MII_GIL_REVISION&t;0x000F
DECL|macro|MII_AN_ADV
mdefine_line|#define MII_AN_ADV&t;&t;&t;&t;0x04
DECL|macro|MII_AN_LPA
mdefine_line|#define MII_AN_LPA&t;&t;&t;&t;0x05
DECL|macro|MII_AN_EXP
mdefine_line|#define MII_AN_EXP&t;&t;&t;&t;0x06
multiline_comment|/* ThunderLAN Specific MII/PHY Registers */
DECL|macro|TLAN_TLPHY_ID
mdefine_line|#define TLAN_TLPHY_ID&t;&t;&t;0x10
DECL|macro|TLAN_TLPHY_CTL
mdefine_line|#define TLAN_TLPHY_CTL&t;&t;&t;0x11
DECL|macro|TLAN_TC_IGLINK
mdefine_line|#define &t;TLAN_TC_IGLINK&t;&t;0x8000
DECL|macro|TLAN_TC_SWAPOL
mdefine_line|#define&t;&t;TLAN_TC_SWAPOL&t;&t;0x4000
DECL|macro|TLAN_TC_AUISEL
mdefine_line|#define&t;&t;TLAN_TC_AUISEL&t;&t;0x2000
DECL|macro|TLAN_TC_SQEEN
mdefine_line|#define&t;&t;TLAN_TC_SQEEN&t;&t;0x1000
DECL|macro|TLAN_TC_MTEST
mdefine_line|#define&t;&t;TLAN_TC_MTEST&t;&t;0x0800
DECL|macro|TLAN_TC_RESERVED
mdefine_line|#define&t;&t;TLAN_TC_RESERVED&t;0x07F8
DECL|macro|TLAN_TC_NFEW
mdefine_line|#define&t;&t;TLAN_TC_NFEW&t;&t;0x0004
DECL|macro|TLAN_TC_INTEN
mdefine_line|#define&t;&t;TLAN_TC_INTEN&t;&t;0x0002
DECL|macro|TLAN_TC_TINT
mdefine_line|#define&t;&t;TLAN_TC_TINT&t;&t;0x0001
DECL|macro|TLAN_TLPHY_STS
mdefine_line|#define TLAN_TLPHY_STS&t;&t;&t;0x12
DECL|macro|TLAN_TS_MINT
mdefine_line|#define&t;&t;TLAN_TS_MINT&t;&t;0x8000
DECL|macro|TLAN_TS_PHOK
mdefine_line|#define&t;&t;TLAN_TS_PHOK&t;&t;0x4000
DECL|macro|TLAN_TS_POLOK
mdefine_line|#define&t;&t;TLAN_TS_POLOK&t;&t;0x2000
DECL|macro|TLAN_TS_TPENERGY
mdefine_line|#define&t;&t;TLAN_TS_TPENERGY&t;0x1000
DECL|macro|TLAN_TS_RESERVED
mdefine_line|#define&t;&t;TLAN_TS_RESERVED&t;0x0FFF
multiline_comment|/* Routines to access internal registers. */
DECL|function|TLan_DioRead8
r_inline
id|u8
id|TLan_DioRead8
c_func
(paren
id|u16
id|base_addr
comma
id|u16
id|internal_addr
)paren
(brace
id|outw
c_func
(paren
id|internal_addr
comma
id|base_addr
op_plus
id|TLAN_DIO_ADR
)paren
suffix:semicolon
r_return
(paren
id|inb
c_func
(paren
(paren
id|base_addr
op_plus
id|TLAN_DIO_DATA
)paren
op_plus
(paren
id|internal_addr
op_amp
l_int|0x3
)paren
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/* TLan_DioRead8 */
DECL|function|TLan_DioRead16
r_inline
id|u16
id|TLan_DioRead16
c_func
(paren
id|u16
id|base_addr
comma
id|u16
id|internal_addr
)paren
(brace
id|outw
c_func
(paren
id|internal_addr
comma
id|base_addr
op_plus
id|TLAN_DIO_ADR
)paren
suffix:semicolon
r_return
(paren
id|inw
c_func
(paren
(paren
id|base_addr
op_plus
id|TLAN_DIO_DATA
)paren
op_plus
(paren
id|internal_addr
op_amp
l_int|0x2
)paren
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/* TLan_DioRead16 */
DECL|function|TLan_DioRead32
r_inline
id|u32
id|TLan_DioRead32
c_func
(paren
id|u16
id|base_addr
comma
id|u16
id|internal_addr
)paren
(brace
id|outw
c_func
(paren
id|internal_addr
comma
id|base_addr
op_plus
id|TLAN_DIO_ADR
)paren
suffix:semicolon
r_return
(paren
id|inl
c_func
(paren
id|base_addr
op_plus
id|TLAN_DIO_DATA
)paren
)paren
suffix:semicolon
)brace
multiline_comment|/* TLan_DioRead32 */
DECL|function|TLan_DioWrite8
r_inline
r_void
id|TLan_DioWrite8
c_func
(paren
id|u16
id|base_addr
comma
id|u16
id|internal_addr
comma
id|u8
id|data
)paren
(brace
id|outw
c_func
(paren
id|internal_addr
comma
id|base_addr
op_plus
id|TLAN_DIO_ADR
)paren
suffix:semicolon
id|outb
c_func
(paren
id|data
comma
id|base_addr
op_plus
id|TLAN_DIO_DATA
op_plus
(paren
id|internal_addr
op_amp
l_int|0x3
)paren
)paren
suffix:semicolon
)brace
DECL|function|TLan_DioWrite16
r_inline
r_void
id|TLan_DioWrite16
c_func
(paren
id|u16
id|base_addr
comma
id|u16
id|internal_addr
comma
id|u16
id|data
)paren
(brace
id|outw
c_func
(paren
id|internal_addr
comma
id|base_addr
op_plus
id|TLAN_DIO_ADR
)paren
suffix:semicolon
id|outw
c_func
(paren
id|data
comma
id|base_addr
op_plus
id|TLAN_DIO_DATA
op_plus
(paren
id|internal_addr
op_amp
l_int|0x2
)paren
)paren
suffix:semicolon
)brace
DECL|function|TLan_DioWrite32
r_inline
r_void
id|TLan_DioWrite32
c_func
(paren
id|u16
id|base_addr
comma
id|u16
id|internal_addr
comma
id|u32
id|data
)paren
(brace
id|outw
c_func
(paren
id|internal_addr
comma
id|base_addr
op_plus
id|TLAN_DIO_ADR
)paren
suffix:semicolon
id|outl
c_func
(paren
id|data
comma
id|base_addr
op_plus
id|TLAN_DIO_DATA
op_plus
(paren
id|internal_addr
op_amp
l_int|0x2
)paren
)paren
suffix:semicolon
)brace
DECL|function|TLan_ClearBit
r_inline
r_void
id|TLan_ClearBit
c_func
(paren
id|u8
id|bit
comma
id|u16
id|port
)paren
(brace
id|outb_p
c_func
(paren
id|inb_p
c_func
(paren
id|port
)paren
op_amp
op_complement
id|bit
comma
id|port
)paren
suffix:semicolon
)brace
DECL|function|TLan_GetBit
r_inline
r_int
id|TLan_GetBit
c_func
(paren
id|u8
id|bit
comma
id|u16
id|port
)paren
(brace
r_return
(paren
(paren
r_int
)paren
(paren
id|inb_p
c_func
(paren
id|port
)paren
op_amp
id|bit
)paren
)paren
suffix:semicolon
)brace
DECL|function|TLan_SetBit
r_inline
r_void
id|TLan_SetBit
c_func
(paren
id|u8
id|bit
comma
id|u16
id|port
)paren
(brace
id|outb_p
c_func
(paren
id|inb_p
c_func
(paren
id|port
)paren
op_or
id|bit
comma
id|port
)paren
suffix:semicolon
)brace
DECL|function|xor
r_inline
id|u32
op_xor
(paren
id|u32
id|a
comma
id|u32
id|b
)paren
(brace
r_return
(paren
(paren
id|a
op_logical_and
op_logical_neg
id|b
)paren
op_logical_or
(paren
op_logical_neg
id|a
op_logical_and
id|b
)paren
)paren
suffix:semicolon
)brace
DECL|macro|XOR8
mdefine_line|#define XOR8( a, b, c, d, e, f, g, h )&t;xor( a, xor( b, xor( c, xor( d, xor( e, xor( f, xor( g, h ) ) ) ) ) ) )
DECL|macro|DA
mdefine_line|#define DA( a, bit )&t;&t;&t;&t;&t;( ( (u8) a[bit/8] ) &amp; ( (u8) ( 1 &lt;&lt; bit%8 ) ) )
DECL|function|TLan_HashFunc
r_inline
id|u32
id|TLan_HashFunc
c_func
(paren
id|u8
op_star
id|a
)paren
(brace
id|u32
id|hash
suffix:semicolon
id|hash
op_assign
id|XOR8
c_func
(paren
id|DA
c_func
(paren
id|a
comma
l_int|0
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|6
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|12
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|18
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|24
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|30
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|36
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|42
)paren
)paren
suffix:semicolon
id|hash
op_or_assign
id|XOR8
c_func
(paren
id|DA
c_func
(paren
id|a
comma
l_int|1
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|7
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|13
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|19
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|25
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|31
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|37
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|43
)paren
)paren
op_lshift
l_int|1
suffix:semicolon
id|hash
op_or_assign
id|XOR8
c_func
(paren
id|DA
c_func
(paren
id|a
comma
l_int|2
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|8
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|14
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|20
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|26
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|32
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|38
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|44
)paren
)paren
op_lshift
l_int|2
suffix:semicolon
id|hash
op_or_assign
id|XOR8
c_func
(paren
id|DA
c_func
(paren
id|a
comma
l_int|3
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|9
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|15
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|21
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|27
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|33
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|39
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|45
)paren
)paren
op_lshift
l_int|3
suffix:semicolon
id|hash
op_or_assign
id|XOR8
c_func
(paren
id|DA
c_func
(paren
id|a
comma
l_int|4
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|10
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|16
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|22
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|28
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|34
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|40
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|46
)paren
)paren
op_lshift
l_int|4
suffix:semicolon
id|hash
op_or_assign
id|XOR8
c_func
(paren
id|DA
c_func
(paren
id|a
comma
l_int|5
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|11
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|17
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|23
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|29
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|35
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|41
)paren
comma
id|DA
c_func
(paren
id|a
comma
l_int|47
)paren
)paren
op_lshift
l_int|5
suffix:semicolon
r_return
id|hash
suffix:semicolon
)brace
macro_line|#endif
eof
