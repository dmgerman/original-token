multiline_comment|/*&n;&t;drivers/net/tulip/tulip.h&n;&n;&t;Copyright 2000  The Linux Kernel Team&n;&t;Written/copyright 1994-1999 by Donald Becker.&n;&n;&t;This software may be used and distributed according to the terms&n;&t;of the GNU Public License, incorporated herein by reference.&n;&n;*/
macro_line|#ifndef __NET_TULIP_H__
DECL|macro|__NET_TULIP_H__
mdefine_line|#define __NET_TULIP_H__
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/spinlock.h&gt;
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/timer.h&gt;
macro_line|#include &lt;asm/io.h&gt;
multiline_comment|/* undefine, or define to various debugging levels (&gt;4 == obscene levels) */
DECL|macro|TULIP_DEBUG
macro_line|#undef TULIP_DEBUG
macro_line|#ifdef TULIP_DEBUG
multiline_comment|/* note: prints function name for you */
DECL|macro|DPRINTK
mdefine_line|#define DPRINTK(fmt, args...) printk(KERN_DEBUG &quot;%s: &quot; fmt, __FUNCTION__ , ## args)
macro_line|#else
DECL|macro|DPRINTK
mdefine_line|#define DPRINTK(fmt, args...)
macro_line|#endif
DECL|struct|tulip_chip_table
r_struct
id|tulip_chip_table
(brace
DECL|member|chip_name
r_char
op_star
id|chip_name
suffix:semicolon
DECL|member|io_size
r_int
id|io_size
suffix:semicolon
DECL|member|valid_intrs
r_int
id|valid_intrs
suffix:semicolon
multiline_comment|/* CSR7 interrupt enable settings */
DECL|member|flags
r_int
id|flags
suffix:semicolon
DECL|member|media_timer
r_void
(paren
op_star
id|media_timer
)paren
(paren
r_int
r_int
id|data
)paren
suffix:semicolon
)brace
suffix:semicolon
DECL|enum|tbl_flag
r_enum
id|tbl_flag
(brace
DECL|enumerator|HAS_MII
id|HAS_MII
op_assign
l_int|1
comma
DECL|enumerator|HAS_MEDIA_TABLE
id|HAS_MEDIA_TABLE
op_assign
l_int|2
comma
DECL|enumerator|CSR12_IN_SROM
id|CSR12_IN_SROM
op_assign
l_int|4
comma
DECL|enumerator|ALWAYS_CHECK_MII
id|ALWAYS_CHECK_MII
op_assign
l_int|8
comma
DECL|enumerator|HAS_ACPI
id|HAS_ACPI
op_assign
l_int|0x10
comma
DECL|enumerator|MC_HASH_ONLY
id|MC_HASH_ONLY
op_assign
l_int|0x20
comma
multiline_comment|/* Hash-only multicast filter. */
DECL|enumerator|HAS_PNICNWAY
id|HAS_PNICNWAY
op_assign
l_int|0x80
comma
DECL|enumerator|HAS_NWAY
id|HAS_NWAY
op_assign
l_int|0x40
comma
multiline_comment|/* Uses internal NWay xcvr. */
DECL|enumerator|HAS_INTR_MITIGATION
id|HAS_INTR_MITIGATION
op_assign
l_int|0x100
comma
DECL|enumerator|IS_ASIX
id|IS_ASIX
op_assign
l_int|0x200
comma
DECL|enumerator|HAS_8023X
id|HAS_8023X
op_assign
l_int|0x400
comma
)brace
suffix:semicolon
multiline_comment|/* chip types.  careful!  order is VERY IMPORTANT here, as these&n; * are used throughout the driver as indices into arrays */
multiline_comment|/* Note 21142 == 21143. */
DECL|enum|chips
r_enum
id|chips
(brace
DECL|enumerator|DC21040
id|DC21040
op_assign
l_int|0
comma
DECL|enumerator|DC21041
id|DC21041
op_assign
l_int|1
comma
DECL|enumerator|DC21140
id|DC21140
op_assign
l_int|2
comma
DECL|enumerator|DC21142
DECL|enumerator|DC21143
id|DC21142
op_assign
l_int|3
comma
id|DC21143
op_assign
l_int|3
comma
DECL|enumerator|LC82C168
id|LC82C168
comma
DECL|enumerator|MX98713
id|MX98713
comma
DECL|enumerator|MX98715
id|MX98715
comma
DECL|enumerator|MX98725
id|MX98725
comma
DECL|enumerator|AX88140
id|AX88140
comma
DECL|enumerator|PNIC2
id|PNIC2
comma
DECL|enumerator|COMET
id|COMET
comma
DECL|enumerator|COMPEX9881
id|COMPEX9881
comma
DECL|enumerator|I21145
id|I21145
comma
DECL|enumerator|DM910X
id|DM910X
comma
)brace
suffix:semicolon
DECL|enum|MediaIs
r_enum
id|MediaIs
(brace
DECL|enumerator|MediaIsFD
id|MediaIsFD
op_assign
l_int|1
comma
DECL|enumerator|MediaAlwaysFD
id|MediaAlwaysFD
op_assign
l_int|2
comma
DECL|enumerator|MediaIsMII
id|MediaIsMII
op_assign
l_int|4
comma
DECL|enumerator|MediaIsFx
id|MediaIsFx
op_assign
l_int|8
comma
DECL|enumerator|MediaIs100
id|MediaIs100
op_assign
l_int|16
)brace
suffix:semicolon
multiline_comment|/* Offsets to the Command and Status Registers, &quot;CSRs&quot;.  All accesses&n;   must be longword instructions and quadword aligned. */
DECL|enum|tulip_offsets
r_enum
id|tulip_offsets
(brace
DECL|enumerator|CSR0
id|CSR0
op_assign
l_int|0
comma
DECL|enumerator|CSR1
id|CSR1
op_assign
l_int|0x08
comma
DECL|enumerator|CSR2
id|CSR2
op_assign
l_int|0x10
comma
DECL|enumerator|CSR3
id|CSR3
op_assign
l_int|0x18
comma
DECL|enumerator|CSR4
id|CSR4
op_assign
l_int|0x20
comma
DECL|enumerator|CSR5
id|CSR5
op_assign
l_int|0x28
comma
DECL|enumerator|CSR6
id|CSR6
op_assign
l_int|0x30
comma
DECL|enumerator|CSR7
id|CSR7
op_assign
l_int|0x38
comma
DECL|enumerator|CSR8
id|CSR8
op_assign
l_int|0x40
comma
DECL|enumerator|CSR9
id|CSR9
op_assign
l_int|0x48
comma
DECL|enumerator|CSR10
id|CSR10
op_assign
l_int|0x50
comma
DECL|enumerator|CSR11
id|CSR11
op_assign
l_int|0x58
comma
DECL|enumerator|CSR12
id|CSR12
op_assign
l_int|0x60
comma
DECL|enumerator|CSR13
id|CSR13
op_assign
l_int|0x68
comma
DECL|enumerator|CSR14
id|CSR14
op_assign
l_int|0x70
comma
DECL|enumerator|CSR15
id|CSR15
op_assign
l_int|0x78
)brace
suffix:semicolon
multiline_comment|/* The bits in the CSR5 status registers, mostly interrupt sources. */
DECL|enum|status_bits
r_enum
id|status_bits
(brace
DECL|enumerator|TimerInt
id|TimerInt
op_assign
l_int|0x800
comma
DECL|enumerator|SytemError
id|SytemError
op_assign
l_int|0x2000
comma
DECL|enumerator|TPLnkFail
id|TPLnkFail
op_assign
l_int|0x1000
comma
DECL|enumerator|TPLnkPass
id|TPLnkPass
op_assign
l_int|0x10
comma
DECL|enumerator|NormalIntr
id|NormalIntr
op_assign
l_int|0x10000
comma
DECL|enumerator|AbnormalIntr
id|AbnormalIntr
op_assign
l_int|0x8000
comma
DECL|enumerator|RxJabber
id|RxJabber
op_assign
l_int|0x200
comma
DECL|enumerator|RxDied
id|RxDied
op_assign
l_int|0x100
comma
DECL|enumerator|RxNoBuf
id|RxNoBuf
op_assign
l_int|0x80
comma
DECL|enumerator|RxIntr
id|RxIntr
op_assign
l_int|0x40
comma
DECL|enumerator|TxFIFOUnderflow
id|TxFIFOUnderflow
op_assign
l_int|0x20
comma
DECL|enumerator|TxJabber
id|TxJabber
op_assign
l_int|0x08
comma
DECL|enumerator|TxNoBuf
id|TxNoBuf
op_assign
l_int|0x04
comma
DECL|enumerator|TxDied
id|TxDied
op_assign
l_int|0x02
comma
DECL|enumerator|TxIntr
id|TxIntr
op_assign
l_int|0x01
comma
)brace
suffix:semicolon
multiline_comment|/* The Tulip Rx and Tx buffer descriptors. */
DECL|struct|tulip_rx_desc
r_struct
id|tulip_rx_desc
(brace
DECL|member|status
id|s32
id|status
suffix:semicolon
DECL|member|length
id|s32
id|length
suffix:semicolon
DECL|member|buffer1
id|u32
id|buffer1
suffix:semicolon
DECL|member|buffer2
id|u32
id|buffer2
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|tulip_tx_desc
r_struct
id|tulip_tx_desc
(brace
DECL|member|status
id|s32
id|status
suffix:semicolon
DECL|member|length
id|s32
id|length
suffix:semicolon
DECL|member|buffer1
id|u32
id|buffer1
suffix:semicolon
DECL|member|buffer2
id|u32
id|buffer2
suffix:semicolon
multiline_comment|/* We use only buffer 1.  */
)brace
suffix:semicolon
DECL|enum|desc_status_bits
r_enum
id|desc_status_bits
(brace
DECL|enumerator|DescOwned
id|DescOwned
op_assign
l_int|0x80000000
comma
DECL|enumerator|RxDescFatalErr
id|RxDescFatalErr
op_assign
l_int|0x8000
comma
DECL|enumerator|RxWholePkt
id|RxWholePkt
op_assign
l_int|0x0300
comma
)brace
suffix:semicolon
DECL|enum|t21041_csr13_bits
r_enum
id|t21041_csr13_bits
(brace
DECL|enumerator|csr13_eng
id|csr13_eng
op_assign
(paren
l_int|0xEF0
op_lshift
l_int|4
)paren
comma
multiline_comment|/* for eng. purposes only, hardcode at EF0h */
DECL|enumerator|csr13_aui
id|csr13_aui
op_assign
(paren
l_int|1
op_lshift
l_int|3
)paren
comma
multiline_comment|/* clear to force 10bT, set to force AUI/BNC */
DECL|enumerator|csr13_cac
id|csr13_cac
op_assign
(paren
l_int|1
op_lshift
l_int|2
)paren
comma
multiline_comment|/* CSR13/14/15 autoconfiguration */
DECL|enumerator|csr13_srl
id|csr13_srl
op_assign
(paren
l_int|1
op_lshift
l_int|0
)paren
comma
multiline_comment|/* When reset, resets all SIA functions, machines */
DECL|enumerator|csr13_mask_auibnc
id|csr13_mask_auibnc
op_assign
(paren
id|csr13_eng
op_or
id|csr13_aui
op_or
id|csr13_cac
op_or
id|csr13_srl
)paren
comma
DECL|enumerator|csr13_mask_10bt
id|csr13_mask_10bt
op_assign
(paren
id|csr13_eng
op_or
id|csr13_cac
op_or
id|csr13_srl
)paren
comma
)brace
suffix:semicolon
DECL|enum|t21143_csr6_bits
r_enum
id|t21143_csr6_bits
(brace
DECL|enumerator|csr6_sc
id|csr6_sc
op_assign
(paren
l_int|1
op_lshift
l_int|31
)paren
comma
DECL|enumerator|csr6_ra
id|csr6_ra
op_assign
(paren
l_int|1
op_lshift
l_int|30
)paren
comma
DECL|enumerator|csr6_ign_dest_msb
id|csr6_ign_dest_msb
op_assign
(paren
l_int|1
op_lshift
l_int|26
)paren
comma
DECL|enumerator|csr6_mbo
id|csr6_mbo
op_assign
(paren
l_int|1
op_lshift
l_int|25
)paren
comma
DECL|enumerator|csr6_scr
id|csr6_scr
op_assign
(paren
l_int|1
op_lshift
l_int|24
)paren
comma
multiline_comment|/* scramble mode flag: can&squot;t be set */
DECL|enumerator|csr6_pcs
id|csr6_pcs
op_assign
(paren
l_int|1
op_lshift
l_int|23
)paren
comma
multiline_comment|/* Enables PCS functions (symbol mode requires csr6_ps be set) default is set */
DECL|enumerator|csr6_ttm
id|csr6_ttm
op_assign
(paren
l_int|1
op_lshift
l_int|22
)paren
comma
multiline_comment|/* Transmit Threshold Mode, set for 10baseT, 0 for 100BaseTX */
DECL|enumerator|csr6_sf
id|csr6_sf
op_assign
(paren
l_int|1
op_lshift
l_int|21
)paren
comma
multiline_comment|/* Store and forward. If set ignores TR bits */
DECL|enumerator|csr6_hbd
id|csr6_hbd
op_assign
(paren
l_int|1
op_lshift
l_int|19
)paren
comma
multiline_comment|/* Heart beat disable. Disables SQE function in 10baseT */
DECL|enumerator|csr6_ps
id|csr6_ps
op_assign
(paren
l_int|1
op_lshift
l_int|18
)paren
comma
multiline_comment|/* Port Select. 0 (defualt) = 10baseT, 1 = 100baseTX: can&squot;t be set */
DECL|enumerator|csr6_ca
id|csr6_ca
op_assign
(paren
l_int|1
op_lshift
l_int|17
)paren
comma
multiline_comment|/* Collision Offset Enable. If set uses special algorithm in low collision situations */
DECL|enumerator|csr6_trh
id|csr6_trh
op_assign
(paren
l_int|1
op_lshift
l_int|15
)paren
comma
multiline_comment|/* Transmit Threshold high bit */
DECL|enumerator|csr6_trl
id|csr6_trl
op_assign
(paren
l_int|1
op_lshift
l_int|14
)paren
comma
multiline_comment|/* Transmit Threshold low bit */
multiline_comment|/***************************************************************&n;&t; * This table shows transmit threshold values based on media   *&n;&t; * and these two registers (from PNIC1 &amp; 2 docs) Note: this is *&n;&t; * all meaningless if sf is set.                               *&n;&t; ***************************************************************/
multiline_comment|/***********************************&n;&t; * (trh,trl) * 100BaseTX * 10BaseT *&n;&t; ***********************************&n;&t; *   (0,0)   *     128   *    72   *&n;&t; *   (0,1)   *     256   *    96   *&n;&t; *   (1,0)   *     512   *   128   *&n;&t; *   (1,1)   *    1024   *   160   *&n;&t; ***********************************/
DECL|enumerator|csr6_st
id|csr6_st
op_assign
(paren
l_int|1
op_lshift
l_int|13
)paren
comma
multiline_comment|/* Transmit conrol: 1 = transmit, 0 = stop */
DECL|enumerator|csr6_fc
id|csr6_fc
op_assign
(paren
l_int|1
op_lshift
l_int|12
)paren
comma
multiline_comment|/* Forces a collision in next transmission (for testing in loopback mode) */
DECL|enumerator|csr6_om_int_loop
id|csr6_om_int_loop
op_assign
(paren
l_int|1
op_lshift
l_int|10
)paren
comma
multiline_comment|/* internal (FIFO) loopback flag */
DECL|enumerator|csr6_om_ext_loop
id|csr6_om_ext_loop
op_assign
(paren
l_int|1
op_lshift
l_int|11
)paren
comma
multiline_comment|/* external (PMD) loopback flag */
multiline_comment|/* set both and you get (PHY) loopback */
DECL|enumerator|csr6_fd
id|csr6_fd
op_assign
(paren
l_int|1
op_lshift
l_int|9
)paren
comma
multiline_comment|/* Full duplex mode, disables hearbeat, no loopback */
DECL|enumerator|csr6_pm
id|csr6_pm
op_assign
(paren
l_int|1
op_lshift
l_int|7
)paren
comma
multiline_comment|/* Pass All Multicast */
DECL|enumerator|csr6_pr
id|csr6_pr
op_assign
(paren
l_int|1
op_lshift
l_int|6
)paren
comma
multiline_comment|/* Promiscuous mode */
DECL|enumerator|csr6_sb
id|csr6_sb
op_assign
(paren
l_int|1
op_lshift
l_int|5
)paren
comma
multiline_comment|/* Start(1)/Stop(0) backoff counter */
DECL|enumerator|csr6_if
id|csr6_if
op_assign
(paren
l_int|1
op_lshift
l_int|4
)paren
comma
multiline_comment|/* Inverse Filtering, rejects only addresses in address table: can&squot;t be set */
DECL|enumerator|csr6_pb
id|csr6_pb
op_assign
(paren
l_int|1
op_lshift
l_int|3
)paren
comma
multiline_comment|/* Pass Bad Frames, (1) causes even bad frames to be passed on */
DECL|enumerator|csr6_ho
id|csr6_ho
op_assign
(paren
l_int|1
op_lshift
l_int|2
)paren
comma
multiline_comment|/* Hash-only filtering mode: can&squot;t be set */
DECL|enumerator|csr6_sr
id|csr6_sr
op_assign
(paren
l_int|1
op_lshift
l_int|1
)paren
comma
multiline_comment|/* Start(1)/Stop(0) Receive */
DECL|enumerator|csr6_hp
id|csr6_hp
op_assign
(paren
l_int|1
op_lshift
l_int|0
)paren
comma
multiline_comment|/* Hash/Perfect Receive Filtering Mode: can&squot;t be set */
DECL|enumerator|csr6_mask_capture
id|csr6_mask_capture
op_assign
(paren
id|csr6_sc
op_or
id|csr6_ca
)paren
comma
DECL|enumerator|csr6_mask_defstate
id|csr6_mask_defstate
op_assign
(paren
id|csr6_mask_capture
op_or
id|csr6_mbo
)paren
comma
DECL|enumerator|csr6_mask_hdcap
id|csr6_mask_hdcap
op_assign
(paren
id|csr6_mask_defstate
op_or
id|csr6_hbd
op_or
id|csr6_ps
)paren
comma
DECL|enumerator|csr6_mask_hdcaptt
id|csr6_mask_hdcaptt
op_assign
(paren
id|csr6_mask_hdcap
op_or
id|csr6_trh
op_or
id|csr6_trl
)paren
comma
DECL|enumerator|csr6_mask_fullcap
id|csr6_mask_fullcap
op_assign
(paren
id|csr6_mask_hdcaptt
op_or
id|csr6_fd
)paren
comma
DECL|enumerator|csr6_mask_fullpromisc
id|csr6_mask_fullpromisc
op_assign
(paren
id|csr6_pr
op_or
id|csr6_pm
)paren
comma
DECL|enumerator|csr6_mask_filters
id|csr6_mask_filters
op_assign
(paren
id|csr6_hp
op_or
id|csr6_ho
op_or
id|csr6_if
)paren
comma
DECL|enumerator|csr6_mask_100bt
id|csr6_mask_100bt
op_assign
(paren
id|csr6_scr
op_or
id|csr6_pcs
op_or
id|csr6_hbd
)paren
comma
)brace
suffix:semicolon
multiline_comment|/* Keep the ring sizes a power of two for efficiency.&n;   Making the Tx ring too large decreases the effectiveness of channel&n;   bonding and packet priority.&n;   There are no ill effects from too-large receive rings. */
DECL|macro|TX_RING_SIZE
mdefine_line|#define TX_RING_SIZE&t;16
DECL|macro|RX_RING_SIZE
mdefine_line|#define RX_RING_SIZE&t;32
DECL|macro|PKT_BUF_SZ
mdefine_line|#define PKT_BUF_SZ&t;&t;1536&t;/* Size of each temporary Rx buffer. */
multiline_comment|/* Ring-wrap flag in length field, use for last ring entry.&n;&t;0x01000000 means chain on buffer2 address,&n;&t;0x02000000 means use the ring start address in CSR2/3.&n;   Note: Some work-alike chips do not function correctly in chained mode.&n;   The ASIX chip works only in chained mode.&n;   Thus we indicates ring mode, but always write the &squot;next&squot; field for&n;   chained mode as well.&n;*/
DECL|macro|DESC_RING_WRAP
mdefine_line|#define DESC_RING_WRAP 0x02000000
multiline_comment|/*  EEPROM_Ctrl bits. */
DECL|macro|EE_SHIFT_CLK
mdefine_line|#define EE_SHIFT_CLK&t;0x02&t;/* EEPROM shift clock. */
DECL|macro|EE_CS
mdefine_line|#define EE_CS&t;&t;&t;0x01&t;/* EEPROM chip select. */
DECL|macro|EE_DATA_WRITE
mdefine_line|#define EE_DATA_WRITE&t;0x04&t;/* Data from the Tulip to EEPROM. */
DECL|macro|EE_WRITE_0
mdefine_line|#define EE_WRITE_0&t;&t;0x01
DECL|macro|EE_WRITE_1
mdefine_line|#define EE_WRITE_1&t;&t;0x05
DECL|macro|EE_DATA_READ
mdefine_line|#define EE_DATA_READ&t;0x08&t;/* Data from the EEPROM chip. */
DECL|macro|EE_ENB
mdefine_line|#define EE_ENB&t;&t;&t;(0x4800 | EE_CS)
multiline_comment|/* Delay between EEPROM clock transitions.&n;   Even at 33Mhz current PCI implementations don&squot;t overrun the EEPROM clock.&n;   We add a bus turn-around to insure that this remains true. */
DECL|macro|eeprom_delay
mdefine_line|#define eeprom_delay()&t;inl(ee_addr)
multiline_comment|/* The EEPROM commands include the alway-set leading bit. */
DECL|macro|EE_READ_CMD
mdefine_line|#define EE_READ_CMD&t;&t;(6)
DECL|macro|EEPROM_SIZE
mdefine_line|#define EEPROM_SIZE 128 &t;/* 2 &lt;&lt; EEPROM_ADDRLEN */
multiline_comment|/* The maximum data clock rate is 2.5 Mhz.  The minimum timing is usually&n;   met by back-to-back PCI I/O cycles, but we insert a delay to avoid&n;   &quot;overclocking&quot; issues or future 66Mhz PCI. */
DECL|macro|mdio_delay
mdefine_line|#define mdio_delay() inl(mdio_addr)
multiline_comment|/* Read and write the MII registers using software-generated serial&n;   MDIO protocol.  It is just different enough from the EEPROM protocol&n;   to not share code.  The maxium data clock rate is 2.5 Mhz. */
DECL|macro|MDIO_SHIFT_CLK
mdefine_line|#define MDIO_SHIFT_CLK&t;0x10000
DECL|macro|MDIO_DATA_WRITE0
mdefine_line|#define MDIO_DATA_WRITE0 0x00000
DECL|macro|MDIO_DATA_WRITE1
mdefine_line|#define MDIO_DATA_WRITE1 0x20000
DECL|macro|MDIO_ENB
mdefine_line|#define MDIO_ENB&t;&t;0x00000&t;&t;/* Ignore the 0x02000 databook setting. */
DECL|macro|MDIO_ENB_IN
mdefine_line|#define MDIO_ENB_IN&t;&t;0x40000
DECL|macro|MDIO_DATA_READ
mdefine_line|#define MDIO_DATA_READ&t;0x80000
DECL|macro|RUN_AT
mdefine_line|#define RUN_AT(x) (jiffies + (x))
macro_line|#if defined(__i386__)&t;&t;&t;/* AKA get_unaligned() */
DECL|macro|get_u16
mdefine_line|#define get_u16(ptr) (*(u16 *)(ptr))
macro_line|#else
DECL|macro|get_u16
mdefine_line|#define get_u16(ptr) (((u8*)(ptr))[0] + (((u8*)(ptr))[1]&lt;&lt;8))
macro_line|#endif
DECL|struct|medialeaf
r_struct
id|medialeaf
(brace
DECL|member|type
id|u8
id|type
suffix:semicolon
DECL|member|media
id|u8
id|media
suffix:semicolon
DECL|member|leafdata
r_int
r_char
op_star
id|leafdata
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|mediatable
r_struct
id|mediatable
(brace
DECL|member|defaultmedia
id|u16
id|defaultmedia
suffix:semicolon
DECL|member|leafcount
id|u8
id|leafcount
suffix:semicolon
DECL|member|csr12dir
id|u8
id|csr12dir
suffix:semicolon
multiline_comment|/* General purpose pin directions. */
DECL|member|has_mii
r_int
id|has_mii
suffix:colon
l_int|1
suffix:semicolon
DECL|member|has_nonmii
r_int
id|has_nonmii
suffix:colon
l_int|1
suffix:semicolon
DECL|member|has_reset
r_int
id|has_reset
suffix:colon
l_int|6
suffix:semicolon
DECL|member|csr15dir
id|u32
id|csr15dir
suffix:semicolon
DECL|member|csr15val
id|u32
id|csr15val
suffix:semicolon
multiline_comment|/* 21143 NWay setting. */
DECL|member|mleaf
r_struct
id|medialeaf
id|mleaf
(braket
l_int|0
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|mediainfo
r_struct
id|mediainfo
(brace
DECL|member|next
r_struct
id|mediainfo
op_star
id|next
suffix:semicolon
DECL|member|info_type
r_int
id|info_type
suffix:semicolon
DECL|member|index
r_int
id|index
suffix:semicolon
DECL|member|info
r_int
r_char
op_star
id|info
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|ring_info
r_struct
id|ring_info
(brace
DECL|member|skb
r_struct
id|sk_buff
op_star
id|skb
suffix:semicolon
DECL|member|mapping
id|dma_addr_t
id|mapping
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|tulip_private
r_struct
id|tulip_private
(brace
DECL|member|product_name
r_const
r_char
op_star
id|product_name
suffix:semicolon
DECL|member|next_module
r_struct
id|net_device
op_star
id|next_module
suffix:semicolon
DECL|member|rx_ring
r_struct
id|tulip_rx_desc
op_star
id|rx_ring
suffix:semicolon
DECL|member|tx_ring
r_struct
id|tulip_tx_desc
op_star
id|tx_ring
suffix:semicolon
DECL|member|rx_ring_dma
id|dma_addr_t
id|rx_ring_dma
suffix:semicolon
DECL|member|tx_ring_dma
id|dma_addr_t
id|tx_ring_dma
suffix:semicolon
multiline_comment|/* The saved address of a sent-in-place packet/buffer, for skfree(). */
DECL|member|tx_buffers
r_struct
id|ring_info
id|tx_buffers
(braket
id|TX_RING_SIZE
)braket
suffix:semicolon
multiline_comment|/* The addresses of receive-in-place skbuffs. */
DECL|member|rx_buffers
r_struct
id|ring_info
id|rx_buffers
(braket
id|RX_RING_SIZE
)braket
suffix:semicolon
DECL|member|setup_frame
id|u16
id|setup_frame
(braket
l_int|96
)braket
suffix:semicolon
multiline_comment|/* Pseudo-Tx frame to init address table. */
DECL|member|chip_id
r_int
id|chip_id
suffix:semicolon
DECL|member|revision
r_int
id|revision
suffix:semicolon
DECL|member|flags
r_int
id|flags
suffix:semicolon
DECL|member|stats
r_struct
id|net_device_stats
id|stats
suffix:semicolon
DECL|member|timer
r_struct
id|timer_list
id|timer
suffix:semicolon
multiline_comment|/* Media selection timer. */
DECL|member|lock
id|spinlock_t
id|lock
suffix:semicolon
DECL|member|cur_rx
DECL|member|cur_tx
r_int
r_int
id|cur_rx
comma
id|cur_tx
suffix:semicolon
multiline_comment|/* The next free ring entry */
DECL|member|dirty_rx
DECL|member|dirty_tx
r_int
r_int
id|dirty_rx
comma
id|dirty_tx
suffix:semicolon
multiline_comment|/* The ring entries to be free()ed. */
DECL|member|full_duplex
r_int
r_int
id|full_duplex
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* Full-duplex operation requested. */
DECL|member|full_duplex_lock
r_int
r_int
id|full_duplex_lock
suffix:colon
l_int|1
suffix:semicolon
DECL|member|fake_addr
r_int
r_int
id|fake_addr
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* Multiport board faked address. */
DECL|member|default_port
r_int
r_int
id|default_port
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* Last dev-&gt;if_port value. */
DECL|member|media2
r_int
r_int
id|media2
suffix:colon
l_int|4
suffix:semicolon
multiline_comment|/* Secondary monitored media port. */
DECL|member|medialock
r_int
r_int
id|medialock
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* Don&squot;t sense media type. */
DECL|member|mediasense
r_int
r_int
id|mediasense
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* Media sensing in progress. */
DECL|member|nway
DECL|member|nwayset
r_int
r_int
id|nway
suffix:colon
l_int|1
comma
id|nwayset
suffix:colon
l_int|1
suffix:semicolon
multiline_comment|/* 21143 internal NWay. */
DECL|member|csr0
r_int
r_int
id|csr0
suffix:semicolon
multiline_comment|/* CSR0 setting. */
DECL|member|csr6
r_int
r_int
id|csr6
suffix:semicolon
multiline_comment|/* Current CSR6 control settings. */
DECL|member|eeprom
r_int
r_char
id|eeprom
(braket
id|EEPROM_SIZE
)braket
suffix:semicolon
multiline_comment|/* Serial EEPROM contents. */
DECL|member|link_change
r_void
(paren
op_star
id|link_change
)paren
(paren
r_struct
id|net_device
op_star
id|dev
comma
r_int
id|csr5
)paren
suffix:semicolon
DECL|member|to_advertise
id|u16
id|to_advertise
suffix:semicolon
multiline_comment|/* NWay capabilities advertised.  */
DECL|member|lpar
id|u16
id|lpar
suffix:semicolon
multiline_comment|/* 21143 Link partner ability. */
DECL|member|advertising
id|u16
id|advertising
(braket
l_int|4
)braket
suffix:semicolon
DECL|member|phys
DECL|member|mii_cnt
r_int
r_char
id|phys
(braket
l_int|4
)braket
comma
id|mii_cnt
suffix:semicolon
multiline_comment|/* MII device addresses. */
DECL|member|mtable
r_struct
id|mediatable
op_star
id|mtable
suffix:semicolon
DECL|member|cur_index
r_int
id|cur_index
suffix:semicolon
multiline_comment|/* Current media index. */
DECL|member|saved_if_port
r_int
id|saved_if_port
suffix:semicolon
DECL|member|pdev
r_struct
id|pci_dev
op_star
id|pdev
suffix:semicolon
DECL|member|ttimer
r_int
id|ttimer
suffix:semicolon
DECL|member|susp_rx
r_int
id|susp_rx
suffix:semicolon
DECL|member|nir
r_int
r_int
id|nir
suffix:semicolon
DECL|member|base_addr
r_int
r_int
id|base_addr
suffix:semicolon
DECL|member|pad0
DECL|member|pad1
r_int
id|pad0
comma
id|pad1
suffix:semicolon
multiline_comment|/* Used for 8-byte alignment */
)brace
suffix:semicolon
DECL|struct|eeprom_fixup
r_struct
id|eeprom_fixup
(brace
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
DECL|member|addr0
r_int
r_char
id|addr0
suffix:semicolon
DECL|member|addr1
r_int
r_char
id|addr1
suffix:semicolon
DECL|member|addr2
r_int
r_char
id|addr2
suffix:semicolon
DECL|member|newtable
id|u16
id|newtable
(braket
l_int|32
)braket
suffix:semicolon
multiline_comment|/* Max length below. */
)brace
suffix:semicolon
multiline_comment|/* 21142.c */
r_extern
id|u16
id|t21142_csr14
(braket
)braket
suffix:semicolon
r_void
id|t21142_timer
c_func
(paren
r_int
r_int
id|data
)paren
suffix:semicolon
r_void
id|t21142_start_nway
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
suffix:semicolon
r_void
id|t21142_lnk_change
c_func
(paren
r_struct
id|net_device
op_star
id|dev
comma
r_int
id|csr5
)paren
suffix:semicolon
multiline_comment|/* eeprom.c */
r_void
id|tulip_parse_eeprom
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
suffix:semicolon
r_int
id|tulip_read_eeprom
c_func
(paren
r_int
id|ioaddr
comma
r_int
id|location
comma
r_int
id|addr_len
)paren
suffix:semicolon
multiline_comment|/* interrupt.c */
r_extern
r_int
r_int
id|tulip_max_interrupt_work
suffix:semicolon
r_extern
r_int
id|tulip_rx_copybreak
suffix:semicolon
r_void
id|tulip_interrupt
c_func
(paren
r_int
id|irq
comma
r_void
op_star
id|dev_instance
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
suffix:semicolon
multiline_comment|/* media.c */
r_int
id|tulip_mdio_read
c_func
(paren
r_struct
id|net_device
op_star
id|dev
comma
r_int
id|phy_id
comma
r_int
id|location
)paren
suffix:semicolon
r_void
id|tulip_mdio_write
c_func
(paren
r_struct
id|net_device
op_star
id|dev
comma
r_int
id|phy_id
comma
r_int
id|location
comma
r_int
id|value
)paren
suffix:semicolon
r_void
id|tulip_select_media
c_func
(paren
r_struct
id|net_device
op_star
id|dev
comma
r_int
id|startup
)paren
suffix:semicolon
r_int
id|tulip_check_duplex
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
suffix:semicolon
multiline_comment|/* pnic.c */
r_void
id|pnic_do_nway
c_func
(paren
r_struct
id|net_device
op_star
id|dev
)paren
suffix:semicolon
r_void
id|pnic_lnk_change
c_func
(paren
r_struct
id|net_device
op_star
id|dev
comma
r_int
id|csr5
)paren
suffix:semicolon
r_void
id|pnic_timer
c_func
(paren
r_int
r_int
id|data
)paren
suffix:semicolon
multiline_comment|/* timer.c */
r_void
id|tulip_timer
c_func
(paren
r_int
r_int
id|data
)paren
suffix:semicolon
r_void
id|mxic_timer
c_func
(paren
r_int
r_int
id|data
)paren
suffix:semicolon
r_void
id|comet_timer
c_func
(paren
r_int
r_int
id|data
)paren
suffix:semicolon
multiline_comment|/* tulip_core.c */
r_extern
r_int
id|tulip_debug
suffix:semicolon
r_extern
r_const
r_char
op_star
r_const
id|medianame
(braket
)braket
suffix:semicolon
r_extern
r_const
r_char
id|tulip_media_cap
(braket
)braket
suffix:semicolon
r_extern
r_struct
id|tulip_chip_table
id|tulip_tbl
(braket
)braket
suffix:semicolon
r_extern
id|u8
id|t21040_csr13
(braket
)braket
suffix:semicolon
r_extern
id|u16
id|t21041_csr13
(braket
)braket
suffix:semicolon
r_extern
id|u16
id|t21041_csr14
(braket
)braket
suffix:semicolon
r_extern
id|u16
id|t21041_csr15
(braket
)braket
suffix:semicolon
DECL|function|tulip_outl_csr
r_static
r_inline
r_void
id|tulip_outl_csr
(paren
r_struct
id|tulip_private
op_star
id|tp
comma
id|u32
id|newValue
comma
r_enum
id|tulip_offsets
id|offset
)paren
(brace
id|outl
(paren
id|newValue
comma
id|tp-&gt;base_addr
op_plus
id|offset
)paren
suffix:semicolon
)brace
DECL|function|tulip_stop_rxtx
r_static
r_inline
r_void
id|tulip_stop_rxtx
c_func
(paren
r_struct
id|tulip_private
op_star
id|tp
comma
id|u32
id|csr6mask
)paren
(brace
id|tulip_outl_csr
c_func
(paren
id|tp
comma
id|csr6mask
op_amp
op_complement
(paren
id|csr6_st
op_or
id|csr6_sr
)paren
comma
id|CSR6
)paren
suffix:semicolon
)brace
DECL|function|tulip_restart_rxtx
r_static
r_inline
r_void
id|tulip_restart_rxtx
c_func
(paren
r_struct
id|tulip_private
op_star
id|tp
comma
id|u32
id|csr6mask
)paren
(brace
id|tulip_outl_csr
c_func
(paren
id|tp
comma
id|csr6mask
op_or
id|csr6_sr
comma
id|CSR6
)paren
suffix:semicolon
id|tulip_outl_csr
c_func
(paren
id|tp
comma
id|csr6mask
op_or
id|csr6_st
op_or
id|csr6_sr
comma
id|CSR6
)paren
suffix:semicolon
)brace
macro_line|#endif /* __NET_TULIP_H__ */
eof
