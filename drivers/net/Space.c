multiline_comment|/*&n; * INET&t;&t;An implementation of the TCP/IP protocol suite for the LINUX&n; *&t;&t;operating system.  INET is implemented using the  BSD Socket&n; *&t;&t;interface as the means of communication with the user level.&n; *&n; *&t;&t;Holds initial configuration information for devices.&n; *&n; * Version:&t;@(#)Space.c&t;1.0.7&t;08/12/93&n; *&n; * Authors:&t;Ross Biro, &lt;bir7@leland.Stanford.Edu&gt;&n; *&t;&t;Fred N. van Kempen, &lt;waltje@uWalt.NL.Mugnet.ORG&gt;&n; *&t;&t;Donald J. Becker, &lt;becker@super.org&gt;&n; *&n; * Changelog:&n; *&t;&t;Paul Gortmaker (06/98): &n; *&t;&t; - sort probes in a sane way, make sure all (safe) probes&n; *&t;&t;   get run once &amp; failed autoprobes don&squot;t autoprobe again.&n; *&n; *&t;FIXME:&n; *&t;&t;Phase out placeholder dev entries put in the linked list&n; *&t;&t;here in favour of drivers using init_etherdev(NULL, ...)&n; *&t;&t;combined with a single find_all_devs() function (for 2.3)&n; *&n; *&t;&t;This program is free software; you can redistribute it and/or&n; *&t;&t;modify it under the terms of the GNU General Public License&n; *&t;&t;as published by the Free Software Foundation; either version&n; *&t;&t;2 of the License, or (at your option) any later version.&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/netdevice.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/netlink.h&gt;
DECL|macro|NEXT_DEV
mdefine_line|#define&t;NEXT_DEV&t;NULL
multiline_comment|/* A unified ethernet device probe.  This is the easiest way to have every&n;   ethernet adaptor have the name &quot;eth[0123...]&quot;.&n;   */
r_extern
r_int
id|tulip_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|hp100_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|ultra_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|ultra32_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|ultramca_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|wd_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|el2_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|ne2k_pci_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|ne_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|hp_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|hp_plus_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|znet_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|express_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|eepro_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|eepro100_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|el3_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|at1500_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|pcnet32_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|at1700_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|fmv18x_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|eth16i_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|depca_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|i82596_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|ewrk3_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|de4x5_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|el1_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|wavelan_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|el16_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|elmc_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|elplus_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|ac3200_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|es_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|lne390_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|ne3210_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|e2100_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|ni5010_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|ni52_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|ni65_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|sonic_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|SK_init
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|seeq8005_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|tc59x_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|dgrs_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|smc_init
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|sparc_lance_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|happy_meal_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|qec_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|myri_sbus_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|sgiseeq_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|atarilance_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|a2065_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|ariadne_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|ariadne2_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|hydra_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|apne_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|bionet_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|pamsnet_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|tlan_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|mace_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|bmac_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|cs89x0_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|ethertap_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|ether1_probe
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|ether3_probe
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|etherh_probe
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|am79c961_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|epic100_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|rtl8139_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|hplance_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
multiline_comment|/* Gigabit Ethernet adapters */
r_extern
r_int
id|yellowfin_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
multiline_comment|/* Detachable devices (&quot;pocket adaptors&quot;) */
r_extern
r_int
id|atp_init
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|de600_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|de620_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
multiline_comment|/* FDDI adapters */
r_extern
r_int
id|dfx_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|apfddi_init
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
multiline_comment|/* HIPPI boards */
r_extern
r_int
id|cern_hippi_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_extern
r_int
id|rr_hippi_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|struct|devprobe
r_struct
id|devprobe
(brace
DECL|member|probe
r_int
(paren
op_star
id|probe
)paren
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
DECL|member|status
r_int
id|status
suffix:semicolon
multiline_comment|/* non-zero if autoprobe has failed */
)brace
suffix:semicolon
multiline_comment|/*&n; * probe_list walks a list of probe functions and calls each so long&n; * as a non-zero ioaddr is given, or as long as it hasn&squot;t already failed &n; * to find a card in the past (as recorded by &quot;status&quot;) when asked to&n; * autoprobe (i.e. a probe that fails to find a card when autoprobing&n; * will not be asked to autoprobe again).  It exits when a card is found.&n; */
DECL|function|__initfunc
id|__initfunc
c_func
(paren
r_static
r_int
id|probe_list
c_func
(paren
r_struct
id|device
op_star
id|dev
comma
r_struct
id|devprobe
op_star
id|plist
)paren
)paren
(brace
r_struct
id|devprobe
op_star
id|p
op_assign
id|plist
suffix:semicolon
r_int
r_int
id|base_addr
op_assign
id|dev-&gt;base_addr
suffix:semicolon
r_while
c_loop
(paren
id|p-&gt;probe
op_ne
l_int|NULL
)paren
(brace
r_if
c_cond
(paren
id|base_addr
op_logical_and
id|p
op_member_access_from_pointer
id|probe
c_func
(paren
id|dev
)paren
op_eq
l_int|0
)paren
multiline_comment|/* probe given addr */
r_return
l_int|0
suffix:semicolon
r_else
r_if
c_cond
(paren
id|p-&gt;status
op_eq
l_int|0
)paren
(brace
multiline_comment|/* has autoprobe failed yet? */
id|p-&gt;status
op_assign
id|p
op_member_access_from_pointer
id|probe
c_func
(paren
id|dev
)paren
suffix:semicolon
multiline_comment|/* no, try autoprobe */
r_if
c_cond
(paren
id|p-&gt;status
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
)brace
id|p
op_increment
suffix:semicolon
)brace
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
multiline_comment|/*&n; * If your probe touches ISA ports (&lt;0x400) in addition to&n; * looking for PCI cards, then put it in the isa_probes&n; * list instead.&n; */
DECL|variable|__initdata
r_struct
id|devprobe
id|pci_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_DGRS
(brace
id|dgrs_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_VORTEX
(brace
id|tc59x_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_DEC_ELCP 
(brace
id|tulip_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_NE2K_PCI
(brace
id|ne2k_pci_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_PCNET32
(brace
id|pcnet32_probe
comma
l_int|0
)brace
comma
macro_line|#endif&t;
macro_line|#ifdef CONFIG_EEXPRESS_PRO100&t;/* Intel EtherExpress Pro/100 */
(brace
id|eepro100_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_DE4X5             /* DEC DE425, DE434, DE435 adapters */
(brace
id|de4x5_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_TLAN
(brace
id|tlan_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_EPIC100
(brace
id|epic100_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_RTL8139
(brace
id|rtl8139_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_YELLOWFIN
(brace
id|yellowfin_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * This is a bit of an artificial separation as there are PCI drivers&n; * that also probe for EISA cards (in the PCI group) and there are ISA&n; * drivers that probe for EISA cards (in the ISA group).  These are the&n; * EISA only driver probes.&n; */
DECL|variable|__initdata
r_struct
id|devprobe
id|eisa_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_ULTRA32 
(brace
id|ultra32_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_AC3200&t;
(brace
id|ac3200_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ES3210
(brace
id|es_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_LNE390
(brace
id|lne390_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_NE3210
(brace
id|ne3210_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_struct
id|devprobe
id|sparc_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_HAPPYMEAL
(brace
id|happy_meal_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_SUNLANCE
(brace
id|sparc_lance_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_SUNQE
(brace
id|qec_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_MYRI_SBUS
(brace
id|myri_sbus_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_struct
id|devprobe
id|mca_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_ULTRAMCA 
(brace
id|ultramca_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ELMC&t;&t;/* 3c523 */
(brace
id|elmc_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * ISA probes that touch addresses &lt; 0x400 (including those that also&n; * look for EISA/PCI cards in addition to ISA cards).&n; */
DECL|variable|__initdata
r_struct
id|devprobe
id|isa_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_EL3&t;&t;/* ISA, EISA (MCA someday) 3c5x9 */
(brace
id|el3_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_HP100 &t;&t;/* ISA, EISA &amp; PCI */
(brace
id|hp100_probe
comma
l_int|0
)brace
comma
macro_line|#endif&t;
macro_line|#ifdef CONFIG_ULTRA 
(brace
id|ultra_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_WD80x3 
(brace
id|wd_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_EL2 &t;&t;/* 3c503 */
(brace
id|el2_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_HPLAN
(brace
id|hp_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_HPLAN_PLUS
(brace
id|hp_plus_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_E2100&t;&t;/* Cabletron E21xx series. */
(brace
id|e2100_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_NE2000&t;&t;/* ISA (use ne2k-pci for PCI cards) */
(brace
id|ne_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_SMC9194
(brace
id|smc_init
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_SEEQ8005 
(brace
id|seeq8005_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_AT1500
(brace
id|at1500_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_CS89x0
(brace
id|cs89x0_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_AT1700
(brace
id|at1700_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_FMV18X&t;&t;/* Fujitsu FMV-181/182 */
(brace
id|fmv18x_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ETH16I
(brace
id|eth16i_probe
comma
l_int|0
)brace
comma
multiline_comment|/* ICL EtherTeam 16i/32 */
macro_line|#endif
macro_line|#ifdef CONFIG_ZNET&t;&t;/* Zenith Z-Note and some IBM Thinkpads. */
(brace
id|znet_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_EEXPRESS&t;&t;/* Intel EtherExpress */
(brace
id|express_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_EEXPRESS_PRO&t;/* Intel EtherExpress Pro/10 */
(brace
id|eepro_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_DEPCA&t;&t;/* DEC DEPCA */
(brace
id|depca_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_EWRK3             /* DEC EtherWORKS 3 */
(brace
id|ewrk3_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#if defined(CONFIG_APRICOT) || defined(CONFIG_MVME16x_NET) || defined(CONFIG_BVME6000_NET)&t;/* Intel I82596 */
(brace
id|i82596_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_EL1&t;&t;/* 3c501 */
(brace
id|el1_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_WAVELAN&t;&t;/* WaveLAN */
(brace
id|wavelan_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_EL16&t;&t;/* 3c507 */
(brace
id|el16_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ELPLUS&t;&t;/* 3c505 */
(brace
id|elplus_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_SK_G16
(brace
id|SK_init
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_NI5010
(brace
id|ni5010_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_NI52
(brace
id|ni52_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_NI65
(brace
id|ni65_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_struct
id|devprobe
id|parport_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_DE600&t;&t;/* D-Link DE-600 adapter */
(brace
id|de600_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_DE620&t;&t;/* D-Link DE-620 adapter */
(brace
id|de620_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ATP&t;&t;/* AT-LAN-TEC (RealTek) pocket adaptor. */
(brace
id|atp_init
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_struct
id|devprobe
id|m68k_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_ATARILANCE&t;/* Lance-based Atari ethernet boards */
(brace
id|atarilance_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_A2065&t;&t;/* Commodore/Ameristar A2065 Ethernet Board */
(brace
id|a2065_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ARIADNE&t;&t;/* Village Tronic Ariadne Ethernet Board */
(brace
id|ariadne_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ARIADNE2&t;&t;/* Village Tronic Ariadne II Ethernet Board */
(brace
id|ariadne2_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_HYDRA&t;&t;/* Hydra Systems Amiganet Ethernet board */
(brace
id|hydra_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_APNE&t;&t;/* A1200 PCMCIA NE2000 */
(brace
id|apne_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ATARI_BIONET&t;/* Atari Bionet Ethernet board */
(brace
id|bionet_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ATARI_PAMSNET&t;/* Atari PAMsNet Ethernet board */
(brace
id|pamsnet_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_HPLANCE&t;&t;/* HP300 internal Ethernet */
(brace
id|hplance_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_struct
id|devprobe
id|ppc_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_MACE
(brace
id|mace_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_BMAC
(brace
id|bmac_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_struct
id|devprobe
id|sgi_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_SGISEEQ
(brace
id|sgiseeq_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_struct
id|devprobe
id|mips_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_MIPS_JAZZ_SONIC
(brace
id|sonic_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
DECL|variable|__initdata
r_struct
id|devprobe
id|arm_probes
(braket
)braket
id|__initdata
op_assign
(brace
macro_line|#ifdef CONFIG_ARM_ETHERH
(brace
id|etherh_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ARM_ETHER3
(brace
id|ether3_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ARM_ETHER1
(brace
id|ether1_probe
comma
l_int|0
)brace
comma
macro_line|#endif
macro_line|#ifdef CONFIG_ARM_AM79C961A
(brace
id|am79c961_probe
comma
l_int|0
)brace
comma
macro_line|#endif
(brace
l_int|NULL
comma
l_int|0
)brace
comma
)brace
suffix:semicolon
multiline_comment|/*&n; * Unified ethernet device probe, segmented per architecture and&n; * per bus interface.&n; */
DECL|function|__initfunc
id|__initfunc
c_func
(paren
r_static
r_int
id|ethif_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
)paren
(brace
r_int
r_int
id|base_addr
op_assign
id|dev-&gt;base_addr
suffix:semicolon
multiline_comment|/* &n;&t; * Backwards compatibility - historically an I/O base of 1 was &n;&t; * used to indicate not to probe for this ethN interface &n;&t; */
r_if
c_cond
(paren
id|base_addr
op_eq
l_int|1
)paren
r_return
l_int|1
suffix:semicolon
multiline_comment|/* ENXIO */
multiline_comment|/* &n;&t; * The arch specific probes are 1st so that any on-board ethernet&n;&t; * will be probed before other ISA/EISA/MCA/PCI bus cards.&n;&t; */
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|arm_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|m68k_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|mips_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|ppc_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|sgi_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|sparc_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|pci_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|eisa_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|mca_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
multiline_comment|/*&n;         * Backwards compatibility - an I/O of 0xffe0 was used to indicate&n;         * that we shouldn&squot;t do a bunch of potentially risky ISA probes&n;         * for ethN (N&gt;1).  Since the widespread use of modules, *nobody*&n;         * compiles a kernel with all the ISA drivers built in anymore,&n;         * and so we should delete this check in linux 2.3 - Paul G.&n;         */
r_if
c_cond
(paren
id|base_addr
op_ne
l_int|0xffe0
op_logical_and
id|probe_list
c_func
(paren
id|dev
comma
id|isa_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_if
c_cond
(paren
id|probe_list
c_func
(paren
id|dev
comma
id|parport_probes
)paren
op_eq
l_int|0
)paren
r_return
l_int|0
suffix:semicolon
r_return
op_minus
id|ENODEV
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_FDDI
DECL|function|__initfunc
id|__initfunc
c_func
(paren
r_static
r_int
id|fddiif_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
)paren
(brace
r_int
r_int
id|base_addr
op_assign
id|dev-&gt;base_addr
suffix:semicolon
r_if
c_cond
(paren
id|base_addr
op_eq
l_int|1
)paren
r_return
l_int|1
suffix:semicolon
multiline_comment|/* ENXIO */
r_if
c_cond
(paren
l_int|1
macro_line|#ifdef CONFIG_DEFXX
op_logical_and
id|dfx_probe
c_func
(paren
id|dev
)paren
macro_line|#endif
macro_line|#ifdef CONFIG_APFDDI
op_logical_and
id|apfddi_init
c_func
(paren
id|dev
)paren
suffix:semicolon
macro_line|#endif
op_logical_and
l_int|1
)paren
(brace
r_return
l_int|1
suffix:semicolon
multiline_comment|/* -ENODEV or -EAGAIN would be more accurate. */
)brace
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef CONFIG_HIPPI
DECL|function|hippi_probe
r_static
r_int
id|hippi_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
(brace
multiline_comment|/*&n;&t; * Damn this is ugly.&n;&t; *&n;&t; * Why the heck would we want to determine this from the base&n;&t; * address? Stupid PC&squot;ism .... grrrrr.&n;&t; */
r_if
c_cond
(paren
id|dev-&gt;base_addr
op_eq
op_minus
l_int|1
)paren
r_return
l_int|1
suffix:semicolon
r_if
c_cond
(paren
l_int|1
macro_line|#ifdef CONFIG_CERN_HIPPI
op_logical_and
id|cern_hippi_probe
c_func
(paren
id|dev
)paren
macro_line|#endif
macro_line|#ifdef CONFIG_ROADRUNNER
op_logical_and
id|rr_hippi_probe
c_func
(paren
id|dev
)paren
macro_line|#endif
op_logical_and
l_int|1
)paren
(brace
r_return
l_int|1
suffix:semicolon
multiline_comment|/* -ENODEV or -EAGAIN would be more accurate. */
)brace
r_return
l_int|0
suffix:semicolon
)brace
macro_line|#endif
macro_line|#ifdef CONFIG_ETHERTAP
DECL|variable|tap0_dev
r_static
r_struct
id|device
id|tap0_dev
op_assign
(brace
l_string|&quot;tap0&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NETLINK_TAPBASE
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|ethertap_probe
comma
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define NEXT_DEV&t;(&amp;tap0_dev)
macro_line|#endif
macro_line|#ifdef CONFIG_SDLA
r_extern
r_int
id|sdla_init
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|variable|sdla0_dev
r_static
r_struct
id|device
id|sdla0_dev
op_assign
(brace
l_string|&quot;sdla0&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|sdla_init
comma
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define NEXT_DEV&t;(&amp;sdla0_dev)
macro_line|#endif
macro_line|#if defined(CONFIG_LTPC)
r_extern
r_int
id|ltpc_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|variable|dev_ltpc
r_static
r_struct
id|device
id|dev_ltpc
op_assign
(brace
l_string|&quot;ltalk0&bslash;0   &quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|ltpc_probe
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define NEXT_DEV&t;(&amp;dev_ltpc)
macro_line|#endif  /* LTPC */
macro_line|#if defined(CONFIG_COPS)
r_extern
r_int
id|cops_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|variable|cops2_dev
r_static
r_struct
id|device
id|cops2_dev
op_assign
(brace
l_string|&quot;lt2&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|cops_probe
)brace
suffix:semicolon
DECL|variable|cops1_dev
r_static
r_struct
id|device
id|cops1_dev
op_assign
(brace
l_string|&quot;lt1&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|cops2_dev
comma
id|cops_probe
)brace
suffix:semicolon
DECL|variable|cops0_dev
r_static
r_struct
id|device
id|cops0_dev
op_assign
(brace
l_string|&quot;lt0&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|cops1_dev
comma
id|cops_probe
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define NEXT_DEV     (&amp;cops0_dev)
macro_line|#endif  /* COPS */
macro_line|#if defined(CONFIG_IPDDP)
r_extern
r_int
id|ipddp_init
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
DECL|variable|dev_ipddp
r_static
r_struct
id|device
id|dev_ipddp
op_assign
(brace
l_string|&quot;ipddp0&bslash;0   &quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|ipddp_init
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define NEXT_DEV     (&amp;dev_ipddp)
macro_line|#endif /* CONFIG_IPDDP */
multiline_comment|/* The first device defaults to I/O base &squot;0&squot;, which means autoprobe. */
macro_line|#ifndef ETH0_ADDR
DECL|macro|ETH0_ADDR
macro_line|# define ETH0_ADDR 0
macro_line|#endif
macro_line|#ifndef ETH0_IRQ
DECL|macro|ETH0_IRQ
macro_line|# define ETH0_IRQ 0
macro_line|#endif
multiline_comment|/* &quot;eth0&quot; defaults to autoprobe (== 0), other use a base of 0xffe0 (== -0x20),&n;   which means &quot;don&squot;t do ISA probes&quot;.  Distributions don&squot;t ship kernels with&n;   all ISA drivers compiled in anymore, so its probably no longer an issue. */
DECL|macro|ETH_NOPROBE_ADDR
mdefine_line|#define ETH_NOPROBE_ADDR 0xffe0
DECL|variable|eth7_dev
r_static
r_struct
id|device
id|eth7_dev
op_assign
(brace
l_string|&quot;eth7&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|ETH_NOPROBE_ADDR
multiline_comment|/* I/O base*/
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|ethif_probe
)brace
suffix:semicolon
DECL|variable|eth6_dev
r_static
r_struct
id|device
id|eth6_dev
op_assign
(brace
l_string|&quot;eth6&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|ETH_NOPROBE_ADDR
multiline_comment|/* I/O base*/
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|eth7_dev
comma
id|ethif_probe
)brace
suffix:semicolon
DECL|variable|eth5_dev
r_static
r_struct
id|device
id|eth5_dev
op_assign
(brace
l_string|&quot;eth5&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|ETH_NOPROBE_ADDR
multiline_comment|/* I/O base*/
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|eth6_dev
comma
id|ethif_probe
)brace
suffix:semicolon
DECL|variable|eth4_dev
r_static
r_struct
id|device
id|eth4_dev
op_assign
(brace
l_string|&quot;eth4&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|ETH_NOPROBE_ADDR
multiline_comment|/* I/O base*/
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|eth5_dev
comma
id|ethif_probe
)brace
suffix:semicolon
DECL|variable|eth3_dev
r_static
r_struct
id|device
id|eth3_dev
op_assign
(brace
l_string|&quot;eth3&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|ETH_NOPROBE_ADDR
multiline_comment|/* I/O base*/
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|eth4_dev
comma
id|ethif_probe
)brace
suffix:semicolon
DECL|variable|eth2_dev
r_static
r_struct
id|device
id|eth2_dev
op_assign
(brace
l_string|&quot;eth2&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|ETH_NOPROBE_ADDR
multiline_comment|/* I/O base*/
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|eth3_dev
comma
id|ethif_probe
)brace
suffix:semicolon
DECL|variable|eth1_dev
r_static
r_struct
id|device
id|eth1_dev
op_assign
(brace
l_string|&quot;eth1&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|ETH_NOPROBE_ADDR
multiline_comment|/* I/O base*/
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|eth2_dev
comma
id|ethif_probe
)brace
suffix:semicolon
DECL|variable|eth0_dev
r_static
r_struct
id|device
id|eth0_dev
op_assign
(brace
l_string|&quot;eth0&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|ETH0_ADDR
comma
id|ETH0_IRQ
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|eth1_dev
comma
id|ethif_probe
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define NEXT_DEV&t;(&amp;eth0_dev)
macro_line|#if defined(SLIP) || defined(CONFIG_SLIP)
multiline_comment|/* To be exact, this node just hooks the initialization&n;&t;   routines to the device structures.&t;&t;&t;*/
r_extern
r_int
id|slip_init_ctrl_dev
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|variable|slip_bootstrap
r_static
r_struct
id|device
id|slip_bootstrap
op_assign
(brace
l_string|&quot;slip_proto&quot;
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|slip_init_ctrl_dev
comma
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#undef NEXT_DEV
DECL|macro|NEXT_DEV
mdefine_line|#define NEXT_DEV (&amp;slip_bootstrap)
macro_line|#endif&t;/* SLIP */
macro_line|#if defined(X25_ASY) || defined(CONFIG_X25_ASY)
multiline_comment|/* To be exact, this node just hooks the initialization&n;&t;   routines to the device structures.&t;&t;&t;*/
r_extern
r_int
id|x25_asy_init_ctrl_dev
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|variable|x25_asy_bootstrap
r_static
r_struct
id|device
id|x25_asy_bootstrap
op_assign
(brace
l_string|&quot;x25_proto&quot;
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|x25_asy_init_ctrl_dev
comma
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#undef NEXT_DEV
DECL|macro|NEXT_DEV
mdefine_line|#define NEXT_DEV (&amp;x25_asy_bootstrap)
macro_line|#endif&t;/* X25_ASY */
macro_line|#if defined(CONFIG_MKISS)
multiline_comment|/* To be exact, this node just hooks the initialization&n;&t;   routines to the device structures.&t;&t;&t;*/
r_extern
r_int
id|mkiss_init_ctrl_dev
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|variable|mkiss_bootstrap
r_static
r_struct
id|device
id|mkiss_bootstrap
op_assign
(brace
l_string|&quot;mkiss_proto&quot;
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|mkiss_init_ctrl_dev
comma
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#undef NEXT_DEV
DECL|macro|NEXT_DEV
mdefine_line|#define NEXT_DEV (&amp;mkiss_bootstrap)
macro_line|#endif&t;/* MKISS */
macro_line|#if defined(CONFIG_STRIP)
r_extern
r_int
id|strip_init_ctrl_dev
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|variable|strip_bootstrap
r_static
r_struct
id|device
id|strip_bootstrap
op_assign
(brace
l_string|&quot;strip_proto&quot;
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|strip_init_ctrl_dev
comma
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#undef NEXT_DEV
DECL|macro|NEXT_DEV
mdefine_line|#define NEXT_DEV (&amp;strip_bootstrap)
macro_line|#endif   /* STRIP */
macro_line|#if defined(CONFIG_PPP)
r_extern
r_int
id|ppp_init
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
DECL|variable|ppp_bootstrap
r_static
r_struct
id|device
id|ppp_bootstrap
op_assign
(brace
l_string|&quot;ppp_proto&quot;
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|ppp_init
comma
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#undef NEXT_DEV
DECL|macro|NEXT_DEV
mdefine_line|#define NEXT_DEV (&amp;ppp_bootstrap)
macro_line|#endif   /* PPP */
macro_line|#ifdef CONFIG_DUMMY
r_extern
r_int
id|dummy_init
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
DECL|variable|dummy_dev
r_static
r_struct
id|device
id|dummy_dev
op_assign
(brace
l_string|&quot;dummy&quot;
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|dummy_init
comma
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef&t;NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define&t;NEXT_DEV&t;(&amp;dummy_dev)
macro_line|#endif
macro_line|#ifdef CONFIG_EQUALIZER
r_extern
r_int
id|eql_init
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
DECL|variable|eql_dev
r_struct
id|device
id|eql_dev
op_assign
(brace
l_string|&quot;eql&quot;
comma
multiline_comment|/* Master device for IP traffic load &n;&t;&t;&t;&t;   balancing */
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
multiline_comment|/* recv end/start; mem end/start */
l_int|0
comma
multiline_comment|/* base I/O address */
l_int|0
comma
multiline_comment|/* IRQ */
l_int|0
comma
l_int|0
comma
l_int|0
comma
multiline_comment|/* flags */
id|NEXT_DEV
comma
multiline_comment|/* next device */
id|eql_init
multiline_comment|/* set up the rest */
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef       NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define      NEXT_DEV        (&amp;eql_dev)
macro_line|#endif
macro_line|#ifdef CONFIG_TR
multiline_comment|/* Token-ring device probe */
r_extern
r_int
id|ibmtr_probe
c_func
(paren
r_struct
id|device
op_star
)paren
suffix:semicolon
r_static
r_int
DECL|function|trif_probe
id|trif_probe
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
(brace
r_if
c_cond
(paren
l_int|1
macro_line|#ifdef CONFIG_IBMTR
op_logical_and
id|ibmtr_probe
c_func
(paren
id|dev
)paren
macro_line|#endif
macro_line|#ifdef CONFIG_SKTR
op_logical_and
id|sktr_probe
c_func
(paren
id|dev
)paren
macro_line|#endif
op_logical_and
l_int|1
)paren
(brace
r_return
l_int|1
suffix:semicolon
multiline_comment|/* -ENODEV or -EAGAIN would be more accurate. */
)brace
r_return
l_int|0
suffix:semicolon
)brace
DECL|variable|tr7_dev
r_static
r_struct
id|device
id|tr7_dev
op_assign
(brace
l_string|&quot;tr7&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|trif_probe
)brace
suffix:semicolon
DECL|variable|tr6_dev
r_static
r_struct
id|device
id|tr6_dev
op_assign
(brace
l_string|&quot;tr6&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|tr7_dev
comma
id|trif_probe
)brace
suffix:semicolon
DECL|variable|tr5_dev
r_static
r_struct
id|device
id|tr5_dev
op_assign
(brace
l_string|&quot;tr5&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|tr6_dev
comma
id|trif_probe
)brace
suffix:semicolon
DECL|variable|tr4_dev
r_static
r_struct
id|device
id|tr4_dev
op_assign
(brace
l_string|&quot;tr4&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|tr5_dev
comma
id|trif_probe
)brace
suffix:semicolon
DECL|variable|tr3_dev
r_static
r_struct
id|device
id|tr3_dev
op_assign
(brace
l_string|&quot;tr3&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|tr4_dev
comma
id|trif_probe
)brace
suffix:semicolon
DECL|variable|tr2_dev
r_static
r_struct
id|device
id|tr2_dev
op_assign
(brace
l_string|&quot;tr2&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|tr3_dev
comma
id|trif_probe
)brace
suffix:semicolon
DECL|variable|tr1_dev
r_static
r_struct
id|device
id|tr1_dev
op_assign
(brace
l_string|&quot;tr1&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|tr2_dev
comma
id|trif_probe
)brace
suffix:semicolon
DECL|variable|tr0_dev
r_static
r_struct
id|device
id|tr0_dev
op_assign
(brace
l_string|&quot;tr0&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|tr1_dev
comma
id|trif_probe
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef       NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define      NEXT_DEV        (&amp;tr0_dev)
macro_line|#endif 
macro_line|#ifdef CONFIG_FDDI
DECL|variable|fddi7_dev
r_static
r_struct
id|device
id|fddi7_dev
op_assign
(brace
l_string|&quot;fddi7&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|fddiif_probe
)brace
suffix:semicolon
DECL|variable|fddi6_dev
r_static
r_struct
id|device
id|fddi6_dev
op_assign
(brace
l_string|&quot;fddi6&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|fddi7_dev
comma
id|fddiif_probe
)brace
suffix:semicolon
DECL|variable|fddi5_dev
r_static
r_struct
id|device
id|fddi5_dev
op_assign
(brace
l_string|&quot;fddi5&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|fddi6_dev
comma
id|fddiif_probe
)brace
suffix:semicolon
DECL|variable|fddi4_dev
r_static
r_struct
id|device
id|fddi4_dev
op_assign
(brace
l_string|&quot;fddi4&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|fddi5_dev
comma
id|fddiif_probe
)brace
suffix:semicolon
DECL|variable|fddi3_dev
r_static
r_struct
id|device
id|fddi3_dev
op_assign
(brace
l_string|&quot;fddi3&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|fddi4_dev
comma
id|fddiif_probe
)brace
suffix:semicolon
DECL|variable|fddi2_dev
r_static
r_struct
id|device
id|fddi2_dev
op_assign
(brace
l_string|&quot;fddi2&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|fddi3_dev
comma
id|fddiif_probe
)brace
suffix:semicolon
DECL|variable|fddi1_dev
r_static
r_struct
id|device
id|fddi1_dev
op_assign
(brace
l_string|&quot;fddi1&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|fddi2_dev
comma
id|fddiif_probe
)brace
suffix:semicolon
DECL|variable|fddi0_dev
r_static
r_struct
id|device
id|fddi0_dev
op_assign
(brace
l_string|&quot;fddi0&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|fddi1_dev
comma
id|fddiif_probe
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#undef&t;NEXT_DEV
DECL|macro|NEXT_DEV
mdefine_line|#define&t;NEXT_DEV&t;(&amp;fddi0_dev)
macro_line|#endif 
macro_line|#ifdef CONFIG_HIPPI
DECL|variable|hip3_dev
r_static
r_struct
id|device
id|hip3_dev
op_assign
(brace
l_string|&quot;hip3&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|hippi_probe
)brace
suffix:semicolon
DECL|variable|hip2_dev
r_static
r_struct
id|device
id|hip2_dev
op_assign
(brace
l_string|&quot;hip2&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|hip3_dev
comma
id|hippi_probe
)brace
suffix:semicolon
DECL|variable|hip1_dev
r_static
r_struct
id|device
id|hip1_dev
op_assign
(brace
l_string|&quot;hip1&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|hip2_dev
comma
id|hippi_probe
)brace
suffix:semicolon
DECL|variable|hip0_dev
r_static
r_struct
id|device
id|hip0_dev
op_assign
(brace
l_string|&quot;hip0&quot;
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
op_amp
id|hip1_dev
comma
id|hippi_probe
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#undef&t;NEXT_DEV
DECL|macro|NEXT_DEV
mdefine_line|#define&t;NEXT_DEV&t;(&amp;hip0_dev)
macro_line|#endif 
macro_line|#ifdef CONFIG_APBIF
r_extern
r_int
id|bif_init
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
DECL|variable|bif_dev
r_static
r_struct
id|device
id|bif_dev
op_assign
(brace
l_string|&quot;bif&quot;
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0x0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
l_int|0
comma
id|NEXT_DEV
comma
id|bif_init
)brace
suffix:semicolon
DECL|macro|NEXT_DEV
macro_line|#   undef       NEXT_DEV
DECL|macro|NEXT_DEV
macro_line|#   define      NEXT_DEV        (&amp;bif_dev)
macro_line|#endif
r_extern
r_int
id|loopback_init
c_func
(paren
r_struct
id|device
op_star
id|dev
)paren
suffix:semicolon
DECL|variable|loopback_dev
r_struct
id|device
id|loopback_dev
op_assign
(brace
l_string|&quot;lo&quot;
comma
multiline_comment|/* Software Loopback interface&t;&t;*/
l_int|0x0
comma
multiline_comment|/* recv memory end&t;&t;&t;*/
l_int|0x0
comma
multiline_comment|/* recv memory start&t;&t;&t;*/
l_int|0x0
comma
multiline_comment|/* memory end&t;&t;&t;&t;*/
l_int|0x0
comma
multiline_comment|/* memory start&t;&t;&t;&t;*/
l_int|0
comma
multiline_comment|/* base I/O address&t;&t;&t;*/
l_int|0
comma
multiline_comment|/* IRQ&t;&t;&t;&t;&t;*/
l_int|0
comma
l_int|0
comma
l_int|0
comma
multiline_comment|/* flags&t;&t;&t;&t;*/
id|NEXT_DEV
comma
multiline_comment|/* next device&t;&t;&t;&t;*/
id|loopback_init
multiline_comment|/* loopback_init should set up the rest&t;*/
)brace
suffix:semicolon
DECL|variable|dev_base
r_struct
id|device
op_star
id|dev_base
op_assign
op_amp
id|loopback_dev
suffix:semicolon
eof
