multiline_comment|/* oktagon_esp.h: Defines and structures for the CyberStorm SCSI Mk II driver.&n; *&n; * Copyright (C) 1996 Jesper Skov (jskov@cs.auc.dk)&n; */
macro_line|#include &quot;NCR53C9x.h&quot;
macro_line|#ifndef OKTAGON_ESP_H
DECL|macro|OKTAGON_ESP_H
mdefine_line|#define OKTAGON_ESP_H
multiline_comment|/* The controller registers can be found in the Z2 config area at these&n; * offsets:&n; */
DECL|macro|OKTAGON_ESP_ADDR
mdefine_line|#define OKTAGON_ESP_ADDR 0x03000
DECL|macro|OKTAGON_DMA_ADDR
mdefine_line|#define OKTAGON_DMA_ADDR 0x01000
multiline_comment|/* The CyberStorm II DMA interface */
DECL|struct|oktagon_dma_registers
r_struct
id|oktagon_dma_registers
(brace
DECL|member|cond_reg
r_volatile
r_int
r_char
id|cond_reg
suffix:semicolon
multiline_comment|/* DMA cond    (ro)  [0x000] */
DECL|macro|ctrl_reg
mdefine_line|#define ctrl_reg  cond_reg&t;&t;&t;/* DMA control (wo)  [0x000] */
DECL|member|dmapad4
r_int
r_char
id|dmapad4
(braket
l_int|0x3f
)braket
suffix:semicolon
DECL|member|dma_addr0
r_volatile
r_int
r_char
id|dma_addr0
suffix:semicolon
multiline_comment|/* DMA address (MSB) [0x040] */
DECL|member|dmapad1
r_int
r_char
id|dmapad1
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|dma_addr1
r_volatile
r_int
r_char
id|dma_addr1
suffix:semicolon
multiline_comment|/* DMA address       [0x044] */
DECL|member|dmapad2
r_int
r_char
id|dmapad2
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|dma_addr2
r_volatile
r_int
r_char
id|dma_addr2
suffix:semicolon
multiline_comment|/* DMA address       [0x048] */
DECL|member|dmapad3
r_int
r_char
id|dmapad3
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|dma_addr3
r_volatile
r_int
r_char
id|dma_addr3
suffix:semicolon
multiline_comment|/* DMA address (LSB) [0x04c] */
)brace
suffix:semicolon
r_extern
r_int
id|oktagon_esp_detect
c_func
(paren
r_struct
id|SHT
op_star
)paren
suffix:semicolon
r_extern
r_int
id|oktagon_esp_release
c_func
(paren
r_struct
id|Scsi_Host
op_star
)paren
suffix:semicolon
r_extern
r_const
r_char
op_star
id|esp_info
c_func
(paren
r_struct
id|Scsi_Host
op_star
)paren
suffix:semicolon
r_extern
r_int
id|esp_queue
c_func
(paren
id|Scsi_Cmnd
op_star
comma
r_void
(paren
op_star
id|done
)paren
(paren
id|Scsi_Cmnd
op_star
)paren
)paren
suffix:semicolon
r_extern
r_int
id|esp_command
c_func
(paren
id|Scsi_Cmnd
op_star
)paren
suffix:semicolon
r_extern
r_int
id|esp_abort
c_func
(paren
id|Scsi_Cmnd
op_star
)paren
suffix:semicolon
r_extern
r_int
id|esp_reset
c_func
(paren
id|Scsi_Cmnd
op_star
comma
r_int
r_int
)paren
suffix:semicolon
r_extern
r_int
id|esp_proc_info
c_func
(paren
r_char
op_star
id|buffer
comma
r_char
op_star
op_star
id|start
comma
id|off_t
id|offset
comma
r_int
id|length
comma
r_int
id|hostno
comma
r_int
id|inout
)paren
suffix:semicolon
DECL|macro|SCSI_OKTAGON_ESP
mdefine_line|#define SCSI_OKTAGON_ESP {                       &bslash;&n;   proc_name:           &quot;esp-oktagon&quot;,           &bslash;&n;   proc_info:           &amp;esp_proc_info,          &bslash;&n;   name:                &quot;BSC Oktagon SCSI&quot;,      &bslash;&n;   detect:              oktagon_esp_detect,      &bslash;&n;   release:             oktagon_esp_release,     &bslash;&n;   queuecommand:        esp_queue,               &bslash;&n;   abort:               esp_abort,               &bslash;&n;   reset:               esp_reset,               &bslash;&n;   can_queue:           7,                       &bslash;&n;   this_id:             7,                       &bslash;&n;   sg_tablesize:        SG_ALL,                  &bslash;&n;   cmd_per_lun:         1,                       &bslash;&n;   use_clustering:      ENABLE_CLUSTERING }
macro_line|#endif /* OKTAGON_ESP_H */
eof
