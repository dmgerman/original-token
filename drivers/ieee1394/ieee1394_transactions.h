macro_line|#ifndef _IEEE1394_TRANSACTIONS_H
DECL|macro|_IEEE1394_TRANSACTIONS_H
mdefine_line|#define _IEEE1394_TRANSACTIONS_H
macro_line|#include &quot;ieee1394_core.h&quot;
multiline_comment|/*&n; * Utility functions to fill out packet headers.&n; */
r_void
id|fill_async_readquad
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
id|u64
id|addr
)paren
suffix:semicolon
r_void
id|fill_async_readquad_resp
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
r_int
id|rcode
comma
id|quadlet_t
id|data
)paren
suffix:semicolon
r_void
id|fill_async_readblock
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
id|u64
id|addr
comma
r_int
id|length
)paren
suffix:semicolon
r_void
id|fill_async_readblock_resp
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
r_int
id|rcode
comma
r_int
id|length
)paren
suffix:semicolon
r_void
id|fill_async_writequad
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
id|u64
id|addr
comma
id|quadlet_t
id|data
)paren
suffix:semicolon
r_void
id|fill_async_writeblock
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
id|u64
id|addr
comma
r_int
id|length
)paren
suffix:semicolon
r_void
id|fill_async_write_resp
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
r_int
id|rcode
)paren
suffix:semicolon
r_void
id|fill_async_lock
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
id|u64
id|addr
comma
r_int
id|extcode
comma
r_int
id|length
)paren
suffix:semicolon
r_void
id|fill_async_lock_resp
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
r_int
id|rcode
comma
r_int
id|extcode
comma
r_int
id|length
)paren
suffix:semicolon
r_void
id|fill_iso_packet
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
comma
r_int
id|length
comma
r_int
id|channel
comma
r_int
id|tag
comma
r_int
id|sync
)paren
suffix:semicolon
multiline_comment|/*&n; * Get and free transaction labels.&n; */
r_int
id|get_tlabel
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|nodeid
comma
r_int
id|wait
)paren
suffix:semicolon
r_void
id|free_tlabel
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|nodeid
comma
r_int
id|tlabel
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_readqpacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_readbpacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
r_int
id|length
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_writeqpacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
id|quadlet_t
id|data
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_writebpacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
r_int
id|length
)paren
suffix:semicolon
r_struct
id|hpsb_packet
op_star
id|hpsb_make_lockpacket
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
r_int
id|extcode
)paren
suffix:semicolon
multiline_comment|/*&n; * hpsb_packet_success - Make sense of the ack and reply codes and&n; * return more convenient error codes:&n; * 0           success&n; * -EBUSY      node is busy, try again&n; * -EAGAIN     error which can probably resolved by retry&n; * -EREMOTEIO  node suffers from an internal error&n; * -EACCES     this transaction is not allowed on requested address&n; * -EINVAL     invalid address at node&n; */
r_int
id|hpsb_packet_success
c_func
(paren
r_struct
id|hpsb_packet
op_star
id|packet
)paren
suffix:semicolon
multiline_comment|/*&n; * The generic read, write and lock functions.  All recognize the local node ID&n; * and act accordingly.  Read and write automatically use quadlet commands if&n; * length == 4 and and block commands otherwise (however, they do not yet&n; * support lengths that are not a multiple of 4).&n; */
r_int
id|hpsb_read
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
id|quadlet_t
op_star
id|buffer
comma
r_int
id|length
)paren
suffix:semicolon
r_int
id|hpsb_write
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
id|quadlet_t
op_star
id|buffer
comma
r_int
id|length
)paren
suffix:semicolon
r_int
id|hpsb_lock
c_func
(paren
r_struct
id|hpsb_host
op_star
id|host
comma
id|nodeid_t
id|node
comma
id|u64
id|addr
comma
r_int
id|extcode
comma
id|quadlet_t
op_star
id|data
comma
id|quadlet_t
id|arg
)paren
suffix:semicolon
macro_line|#endif /* _IEEE1394_TRANSACTIONS_H */
eof
