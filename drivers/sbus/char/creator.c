multiline_comment|/*&n; * creator.c: Linux/Sun Ultra Creator console support.&n; *&n; * Copyright (C) 1997 MIguel de Icaza (miguel@nuclecu.unam.mx)&n; *&n; */
macro_line|#include &lt;linux/kd.h&gt;
macro_line|#include &lt;linux/tty.h&gt;
macro_line|#include &lt;linux/malloc.h&gt;
macro_line|#include &lt;linux/proc_fs.h&gt;
macro_line|#include &lt;asm/sbus.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/fbio.h&gt;
macro_line|#include &lt;asm/pgtable.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &quot;../../char/vt_kern.h&quot;
macro_line|#include &quot;../../char/selection.h&quot;
macro_line|#include &quot;../../char/console_struct.h&quot;
macro_line|#include &quot;fb.h&quot;
DECL|function|__initfunc
id|__initfunc
c_func
(paren
r_void
id|creator_setup
(paren
id|fbinfo_t
op_star
id|fb
comma
r_int
id|slot
comma
r_int
id|con_node
comma
r_int
r_int
id|creator
comma
r_int
id|creator_io
)paren
)paren
(brace
id|uint
id|bases
(braket
l_int|2
)braket
suffix:semicolon
r_int
r_int
op_star
id|p
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|creator
)paren
(brace
id|prom_getproperty
(paren
id|con_node
comma
l_string|&quot;address&quot;
comma
(paren
r_char
op_star
)paren
op_amp
id|bases
(braket
l_int|0
)braket
comma
l_int|4
)paren
suffix:semicolon
id|prom_printf
(paren
l_string|&quot;Bases: %x %x&bslash;n&quot;
comma
id|bases
(braket
l_int|0
)braket
comma
id|bases
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|p
op_assign
(paren
r_int
r_int
op_star
)paren
id|creator
op_assign
id|bases
(braket
l_int|0
)braket
suffix:semicolon
id|fb-&gt;base
op_assign
id|creator
suffix:semicolon
id|fb-&gt;base
op_assign
l_int|0xff168000
suffix:semicolon
)brace
id|fb-&gt;type.fb_cmsize
op_assign
l_int|256
suffix:semicolon
id|fb-&gt;mmap
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;loadcmap
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;setcursor
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;setcursormap
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;setcurshape
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;ioctl
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;switch_from_graph
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;postsetup
op_assign
id|sun_cg_postsetup
suffix:semicolon
id|fb-&gt;reset
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;blank
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;unblank
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;type.fb_depth
op_assign
l_int|8
suffix:semicolon
)brace
multiline_comment|/*&n; * creator.c: Linux/Sun Ultra Creator console support.&n; *&n; * Copyright (C) 1997 MIguel de Icaza (miguel@nuclecu.unam.mx)&n; *&n; */
macro_line|#include &lt;linux/kd.h&gt;
macro_line|#include &lt;linux/tty.h&gt;
macro_line|#include &lt;linux/malloc.h&gt;
macro_line|#include &lt;linux/proc_fs.h&gt;
macro_line|#include &lt;asm/sbus.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/fbio.h&gt;
macro_line|#include &lt;asm/pgtable.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &quot;../../char/vt_kern.h&quot;
macro_line|#include &quot;../../char/selection.h&quot;
macro_line|#include &quot;../../char/console_struct.h&quot;
macro_line|#include &quot;fb.h&quot;
DECL|function|__initfunc
id|__initfunc
c_func
(paren
r_void
id|creator_setup
(paren
id|fbinfo_t
op_star
id|fb
comma
r_int
id|slot
comma
r_int
id|con_node
comma
r_int
r_int
id|creator
comma
r_int
id|creator_io
)paren
)paren
(brace
id|uint
id|bases
(braket
l_int|2
)braket
suffix:semicolon
r_int
r_int
op_star
id|p
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|creator
)paren
(brace
id|prom_getproperty
(paren
id|con_node
comma
l_string|&quot;address&quot;
comma
(paren
r_char
op_star
)paren
op_amp
id|bases
(braket
l_int|0
)braket
comma
l_int|4
)paren
suffix:semicolon
id|prom_printf
(paren
l_string|&quot;Bases: %x %x&bslash;n&quot;
comma
id|bases
(braket
l_int|0
)braket
comma
id|bases
(braket
l_int|1
)braket
)paren
suffix:semicolon
id|p
op_assign
(paren
r_int
r_int
op_star
)paren
id|creator
op_assign
id|bases
(braket
l_int|0
)braket
suffix:semicolon
id|fb-&gt;base
op_assign
id|creator
suffix:semicolon
id|fb-&gt;base
op_assign
l_int|0xff168000
suffix:semicolon
)brace
id|fb-&gt;type.fb_cmsize
op_assign
l_int|256
suffix:semicolon
id|fb-&gt;mmap
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;loadcmap
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;setcursor
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;setcursormap
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;setcurshape
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;ioctl
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;switch_from_graph
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;postsetup
op_assign
id|sun_cg_postsetup
suffix:semicolon
id|fb-&gt;reset
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;blank
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;unblank
op_assign
l_int|0
suffix:semicolon
id|fb-&gt;type.fb_depth
op_assign
l_int|8
suffix:semicolon
)brace
eof
