multiline_comment|/*&n; * xor.c : Multiple Devices driver for Linux&n; *&n; * Copyright (C) 1996, 1997, 1998, 1999 Ingo Molnar, Matti Aarnio, Jakub Jelinek&n; *&n; *&n; * optimized RAID-5 checksumming functions.&n; *&n; * This program is free software; you can redistribute it and/or modify&n; * it under the terms of the GNU General Public License as published by&n; * the Free Software Foundation; either version 2, or (at your option)&n; * any later version.&n; *&n; * You should have received a copy of the GNU General Public License&n; * (for example /usr/src/linux/COPYING); if not, write to the Free&n; * Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; */
macro_line|#include &lt;linux/config.h&gt;
DECL|macro|BH_TRACE
mdefine_line|#define BH_TRACE 0
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/raid/md.h&gt;
macro_line|#ifdef __sparc_v9__
macro_line|#include &lt;asm/head.h&gt;
macro_line|#include &lt;asm/asi.h&gt;
macro_line|#include &lt;asm/visasm.h&gt;
macro_line|#endif
multiline_comment|/*&n; * we use the &squot;XOR function template&squot; to register multiple xor&n; * functions runtime. The kernel measures their speed upon bootup&n; * and decides which one to use. (compile-time registration is&n; * not enough as certain CPU features like MMX can only be detected&n; * runtime)&n; *&n; * this architecture makes it pretty easy to add new routines&n; * that are faster on certain CPUs, without killing other CPU&squot;s&n; * &squot;native&squot; routine. Although the current routines are belived&n; * to be the physically fastest ones on all CPUs tested, but&n; * feel free to prove me wrong and add yet another routine =B-)&n; * --mingo&n; */
DECL|macro|MAX_XOR_BLOCKS
mdefine_line|#define MAX_XOR_BLOCKS 5
DECL|macro|XOR_ARGS
mdefine_line|#define XOR_ARGS (unsigned int count, struct buffer_head **bh_ptr)
DECL|typedef|XOR_ARGS
r_typedef
r_void
(paren
op_star
id|xor_block_t
)paren
id|XOR_ARGS
suffix:semicolon
DECL|variable|xor_block
id|xor_block_t
id|xor_block
op_assign
l_int|NULL
suffix:semicolon
macro_line|#ifndef __sparc_v9__
r_struct
id|xor_block_template
suffix:semicolon
DECL|struct|xor_block_template
r_struct
id|xor_block_template
(brace
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
DECL|member|xor_block
id|xor_block_t
id|xor_block
suffix:semicolon
DECL|member|speed
r_int
id|speed
suffix:semicolon
DECL|member|next
r_struct
id|xor_block_template
op_star
id|next
suffix:semicolon
)brace
suffix:semicolon
DECL|variable|xor_functions
r_struct
id|xor_block_template
op_star
id|xor_functions
op_assign
l_int|NULL
suffix:semicolon
DECL|macro|XORBLOCK_TEMPLATE
mdefine_line|#define XORBLOCK_TEMPLATE(x) &bslash;&n;static void xor_block_##x XOR_ARGS; &bslash;&n;static struct xor_block_template t_xor_block_##x = &bslash;&n;&t;&t;&t;&t; { #x, xor_block_##x, 0, NULL }; &bslash;&n;static void xor_block_##x XOR_ARGS
macro_line|#ifdef __i386__
macro_line|#ifdef CONFIG_X86_XMM
multiline_comment|/*&n; * Cache avoiding checksumming functions utilizing KNI instructions&n; * Copyright (C) 1999 Zach Brown (with obvious credit due Ingo)&n; */
DECL|function|XORBLOCK_TEMPLATE
id|XORBLOCK_TEMPLATE
c_func
(paren
id|pIII_kni
)paren
(brace
r_char
id|xmm_save
(braket
l_int|16
op_star
l_int|4
)braket
suffix:semicolon
r_int
id|cr0
suffix:semicolon
r_int
id|lines
op_assign
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_size
op_rshift
l_int|8
)paren
suffix:semicolon
id|__asm__
id|__volatile__
(paren
l_string|&quot;movl %%cr0,%0&t;&t;;&bslash;n&bslash;t&quot;
l_string|&quot;clts&t;&t;&t;;&bslash;n&bslash;t&quot;
l_string|&quot;movups %%xmm0,(%1)&t;;&bslash;n&bslash;t&quot;
l_string|&quot;movups %%xmm1,0x10(%1)&t;;&bslash;n&bslash;t&quot;
l_string|&quot;movups %%xmm2,0x20(%1)&t;;&bslash;n&bslash;t&quot;
l_string|&quot;movups %%xmm3,0x30(%1)&t;;&bslash;n&bslash;t&quot;
suffix:colon
l_string|&quot;=r&quot;
(paren
id|cr0
)paren
suffix:colon
l_string|&quot;r&quot;
(paren
id|xmm_save
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
DECL|macro|OFFS
mdefine_line|#define OFFS(x) &quot;8*(&quot;#x&quot;*2)&quot;
DECL|macro|PF0
mdefine_line|#define&t;PF0(x) &bslash;&n;&t;&quot;&t;prefetcht0  &quot;OFFS(x)&quot;(%1)   ;&bslash;n&quot;
DECL|macro|LD
mdefine_line|#define LD(x,y) &bslash;&n;        &quot;       movaps   &quot;OFFS(x)&quot;(%1), %%xmm&quot;#y&quot;   ;&bslash;n&quot;
DECL|macro|ST
mdefine_line|#define ST(x,y) &bslash;&n;        &quot;       movaps %%xmm&quot;#y&quot;,   &quot;OFFS(x)&quot;(%1)   ;&bslash;n&quot;
DECL|macro|PF1
mdefine_line|#define PF1(x) &bslash;&n;&t;&quot;&t;prefetchnta &quot;OFFS(x)&quot;(%2)   ;&bslash;n&quot;
DECL|macro|PF2
mdefine_line|#define PF2(x) &bslash;&n;&t;&quot;&t;prefetchnta &quot;OFFS(x)&quot;(%3)   ;&bslash;n&quot;
DECL|macro|PF3
mdefine_line|#define PF3(x) &bslash;&n;&t;&quot;&t;prefetchnta &quot;OFFS(x)&quot;(%4)   ;&bslash;n&quot;
DECL|macro|PF4
mdefine_line|#define PF4(x) &bslash;&n;&t;&quot;&t;prefetchnta &quot;OFFS(x)&quot;(%5)   ;&bslash;n&quot;
DECL|macro|PF5
mdefine_line|#define PF5(x) &bslash;&n;&t;&quot;&t;prefetchnta &quot;OFFS(x)&quot;(%6)   ;&bslash;n&quot;
DECL|macro|XO1
mdefine_line|#define XO1(x,y) &bslash;&n;        &quot;       xorps   &quot;OFFS(x)&quot;(%2), %%xmm&quot;#y&quot;   ;&bslash;n&quot;
DECL|macro|XO2
mdefine_line|#define XO2(x,y) &bslash;&n;        &quot;       xorps   &quot;OFFS(x)&quot;(%3), %%xmm&quot;#y&quot;   ;&bslash;n&quot;
DECL|macro|XO3
mdefine_line|#define XO3(x,y) &bslash;&n;        &quot;       xorps   &quot;OFFS(x)&quot;(%4), %%xmm&quot;#y&quot;   ;&bslash;n&quot;
DECL|macro|XO4
mdefine_line|#define XO4(x,y) &bslash;&n;        &quot;       xorps   &quot;OFFS(x)&quot;(%5), %%xmm&quot;#y&quot;   ;&bslash;n&quot;
DECL|macro|XO5
mdefine_line|#define XO5(x,y) &bslash;&n;        &quot;       xorps   &quot;OFFS(x)&quot;(%6), %%xmm&quot;#y&quot;   ;&bslash;n&quot;
r_switch
c_cond
(paren
id|count
)paren
(brace
r_case
l_int|2
suffix:colon
id|__asm__
id|__volatile__
(paren
DECL|macro|BLOCK
macro_line|#undef BLOCK
DECL|macro|BLOCK
mdefine_line|#define BLOCK(i) &bslash;&n;&t;&t;LD(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;LD(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;PF1(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF1(i+2)&t;&t;&bslash;&n;&t;&t;&t;&t;LD(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;LD(i+3,3)&t;&bslash;&n;&t;&t;PF0(i+4)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF0(i+6)&t;&t;&bslash;&n;&t;&t;XO1(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO1(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO1(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO1(i+3,3)&t;&bslash;&n;&t;&t;ST(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;ST(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;ST(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;ST(i+3,3)&t;&bslash;&n;
id|PF0
c_func
(paren
l_int|0
)paren
id|PF0
c_func
(paren
l_int|2
)paren
l_string|&quot; .align 32,0x90&t;&t;;&bslash;n&quot;
l_string|&quot; 1:                            ;&bslash;n&quot;
id|BLOCK
c_func
(paren
l_int|0
)paren
id|BLOCK
c_func
(paren
l_int|4
)paren
id|BLOCK
c_func
(paren
l_int|8
)paren
id|BLOCK
c_func
(paren
l_int|12
)paren
l_string|&quot;       addl $256, %1           ;&bslash;n&quot;
l_string|&quot;       addl $256, %2           ;&bslash;n&quot;
l_string|&quot;       decl %0                 ;&bslash;n&quot;
l_string|&quot;       jnz 1b                  ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|__asm__
id|__volatile__
(paren
DECL|macro|BLOCK
macro_line|#undef BLOCK
DECL|macro|BLOCK
mdefine_line|#define BLOCK(i) &bslash;&n;&t;&t;PF1(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF1(i+2)&t;&t;&bslash;&n;&t;&t;LD(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;LD(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;LD(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;LD(i+3,3)&t;&bslash;&n;&t;&t;PF2(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF2(i+2)&t;&t;&bslash;&n;&t;&t;PF0(i+4)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF0(i+6)&t;&t;&bslash;&n;&t;&t;XO1(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO1(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO1(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO1(i+3,3)&t;&bslash;&n;&t;&t;XO2(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO2(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO2(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO2(i+3,3)&t;&bslash;&n;&t;&t;ST(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;ST(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;ST(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;ST(i+3,3)&t;&bslash;&n;
id|PF0
c_func
(paren
l_int|0
)paren
id|PF0
c_func
(paren
l_int|2
)paren
l_string|&quot; .align 32,0x90&t;&t;;&bslash;n&quot;
l_string|&quot; 1:                            ;&bslash;n&quot;
id|BLOCK
c_func
(paren
l_int|0
)paren
id|BLOCK
c_func
(paren
l_int|4
)paren
id|BLOCK
c_func
(paren
l_int|8
)paren
id|BLOCK
c_func
(paren
l_int|12
)paren
l_string|&quot;       addl $256, %1           ;&bslash;n&quot;
l_string|&quot;       addl $256, %2           ;&bslash;n&quot;
l_string|&quot;       addl $256, %3           ;&bslash;n&quot;
l_string|&quot;       decl %0                 ;&bslash;n&quot;
l_string|&quot;       jnz 1b                  ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|__asm__
id|__volatile__
(paren
DECL|macro|BLOCK
macro_line|#undef BLOCK
DECL|macro|BLOCK
mdefine_line|#define BLOCK(i) &bslash;&n;&t;&t;PF1(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF1(i+2)&t;&t;&bslash;&n;&t;&t;LD(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;LD(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;LD(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;LD(i+3,3)&t;&bslash;&n;&t;&t;PF2(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF2(i+2)&t;&t;&bslash;&n;&t;&t;XO1(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO1(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO1(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO1(i+3,3)&t;&bslash;&n;&t;&t;PF3(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF3(i+2)&t;&t;&bslash;&n;&t;&t;PF0(i+4)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF0(i+6)&t;&t;&bslash;&n;&t;&t;XO2(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO2(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO2(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO2(i+3,3)&t;&bslash;&n;&t;&t;XO3(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO3(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO3(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO3(i+3,3)&t;&bslash;&n;&t;&t;ST(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;ST(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;ST(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;ST(i+3,3)&t;&bslash;&n;
id|PF0
c_func
(paren
l_int|0
)paren
id|PF0
c_func
(paren
l_int|2
)paren
l_string|&quot; .align 32,0x90&t;&t;;&bslash;n&quot;
l_string|&quot; 1:                            ;&bslash;n&quot;
id|BLOCK
c_func
(paren
l_int|0
)paren
id|BLOCK
c_func
(paren
l_int|4
)paren
id|BLOCK
c_func
(paren
l_int|8
)paren
id|BLOCK
c_func
(paren
l_int|12
)paren
l_string|&quot;       addl $256, %1           ;&bslash;n&quot;
l_string|&quot;       addl $256, %2           ;&bslash;n&quot;
l_string|&quot;       addl $256, %3           ;&bslash;n&quot;
l_string|&quot;       addl $256, %4           ;&bslash;n&quot;
l_string|&quot;       decl %0                 ;&bslash;n&quot;
l_string|&quot;       jnz 1b                  ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|__asm__
id|__volatile__
(paren
DECL|macro|BLOCK
macro_line|#undef BLOCK
DECL|macro|BLOCK
mdefine_line|#define BLOCK(i) &bslash;&n;&t;&t;PF1(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF1(i+2)&t;&t;&bslash;&n;&t;&t;LD(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;LD(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;LD(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;LD(i+3,3)&t;&bslash;&n;&t;&t;PF2(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF2(i+2)&t;&t;&bslash;&n;&t;&t;XO1(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO1(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO1(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO1(i+3,3)&t;&bslash;&n;&t;&t;PF3(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF3(i+2)&t;&t;&bslash;&n;&t;&t;XO2(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO2(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO2(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO2(i+3,3)&t;&bslash;&n;&t;&t;PF4(i)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF4(i+2)&t;&t;&bslash;&n;&t;&t;PF0(i+4)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;PF0(i+6)&t;&t;&bslash;&n;&t;&t;XO3(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO3(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO3(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO3(i+3,3)&t;&bslash;&n;&t;&t;XO4(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;XO4(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO4(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO4(i+3,3)&t;&bslash;&n;&t;&t;ST(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;ST(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;ST(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;ST(i+3,3)&t;&bslash;&n;
id|PF0
c_func
(paren
l_int|0
)paren
id|PF0
c_func
(paren
l_int|2
)paren
l_string|&quot; .align 32,0x90&t;&t;;&bslash;n&quot;
l_string|&quot; 1:                            ;&bslash;n&quot;
id|BLOCK
c_func
(paren
l_int|0
)paren
id|BLOCK
c_func
(paren
l_int|4
)paren
id|BLOCK
c_func
(paren
l_int|8
)paren
id|BLOCK
c_func
(paren
l_int|12
)paren
l_string|&quot;       addl $256, %1           ;&bslash;n&quot;
l_string|&quot;       addl $256, %2           ;&bslash;n&quot;
l_string|&quot;       addl $256, %3           ;&bslash;n&quot;
l_string|&quot;       addl $256, %4           ;&bslash;n&quot;
l_string|&quot;       addl $256, %5           ;&bslash;n&quot;
l_string|&quot;       decl %0                 ;&bslash;n&quot;
l_string|&quot;       jnz 1b                  ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|4
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
id|__asm__
id|__volatile__
(paren
l_string|&quot;sfence&t;&t;&t;;&bslash;n&bslash;t&quot;
l_string|&quot;movups (%1),%%xmm0&t;;&bslash;n&bslash;t&quot;
l_string|&quot;movups 0x10(%1),%%xmm1&t;;&bslash;n&bslash;t&quot;
l_string|&quot;movups 0x20(%1),%%xmm2&t;;&bslash;n&bslash;t&quot;
l_string|&quot;movups 0x30(%1),%%xmm3&t;;&bslash;n&bslash;t&quot;
l_string|&quot;movl &t;%0,%%cr0&t;;&bslash;n&bslash;t&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|cr0
)paren
comma
l_string|&quot;r&quot;
(paren
id|xmm_save
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
)brace
DECL|macro|OFFS
macro_line|#undef OFFS
DECL|macro|LD
macro_line|#undef LD
DECL|macro|ST
macro_line|#undef ST
DECL|macro|PF0
macro_line|#undef PF0
DECL|macro|PF1
macro_line|#undef PF1
DECL|macro|PF2
macro_line|#undef PF2
DECL|macro|PF3
macro_line|#undef PF3
DECL|macro|PF4
macro_line|#undef PF4
DECL|macro|PF5
macro_line|#undef PF5
DECL|macro|XO1
macro_line|#undef XO1
DECL|macro|XO2
macro_line|#undef XO2
DECL|macro|XO3
macro_line|#undef XO3
DECL|macro|XO4
macro_line|#undef XO4
DECL|macro|XO5
macro_line|#undef XO5
DECL|macro|BLOCK
macro_line|#undef BLOCK
macro_line|#endif /* CONFIG_X86_XMM */
multiline_comment|/*&n; * high-speed RAID5 checksumming functions utilizing MMX instructions&n; * Copyright (C) 1998 Ingo Molnar&n; */
DECL|function|XORBLOCK_TEMPLATE
id|XORBLOCK_TEMPLATE
c_func
(paren
id|pII_mmx
)paren
(brace
r_char
id|fpu_save
(braket
l_int|108
)braket
suffix:semicolon
r_int
id|lines
op_assign
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_size
op_rshift
l_int|7
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|current-&gt;flags
op_amp
id|PF_USEDFPU
)paren
)paren
id|__asm__
id|__volatile__
(paren
l_string|&quot; clts;&bslash;n&quot;
)paren
suffix:semicolon
id|__asm__
id|__volatile__
(paren
l_string|&quot; fsave %0; fwait&bslash;n&quot;
op_scope_resolution
l_string|&quot;m&quot;
(paren
id|fpu_save
(braket
l_int|0
)braket
)paren
)paren
suffix:semicolon
DECL|macro|LD
mdefine_line|#define LD(x,y) &bslash;&n;        &quot;       movq   8*(&quot;#x&quot;)(%1), %%mm&quot;#y&quot;   ;&bslash;n&quot;
DECL|macro|ST
mdefine_line|#define ST(x,y) &bslash;&n;        &quot;       movq %%mm&quot;#y&quot;,   8*(&quot;#x&quot;)(%1)   ;&bslash;n&quot;
DECL|macro|XO1
mdefine_line|#define XO1(x,y) &bslash;&n;        &quot;       pxor   8*(&quot;#x&quot;)(%2), %%mm&quot;#y&quot;   ;&bslash;n&quot;
DECL|macro|XO2
mdefine_line|#define XO2(x,y) &bslash;&n;        &quot;       pxor   8*(&quot;#x&quot;)(%3), %%mm&quot;#y&quot;   ;&bslash;n&quot;
DECL|macro|XO3
mdefine_line|#define XO3(x,y) &bslash;&n;        &quot;       pxor   8*(&quot;#x&quot;)(%4), %%mm&quot;#y&quot;   ;&bslash;n&quot;
DECL|macro|XO4
mdefine_line|#define XO4(x,y) &bslash;&n;        &quot;       pxor   8*(&quot;#x&quot;)(%5), %%mm&quot;#y&quot;   ;&bslash;n&quot;
r_switch
c_cond
(paren
id|count
)paren
(brace
r_case
l_int|2
suffix:colon
id|__asm__
id|__volatile__
(paren
DECL|macro|BLOCK
macro_line|#undef BLOCK
DECL|macro|BLOCK
mdefine_line|#define BLOCK(i) &bslash;&n;&t;&t;&t;LD(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;LD(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;LD(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;LD(i+3,3)&t;&bslash;&n;&t;&t;&t;XO1(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;ST(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO1(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;ST(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO1(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;ST(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO1(i+3,3)&t;&bslash;&n;&t;&t;&t;&t;&t;&t;ST(i+3,3)
l_string|&quot; .align 32,0x90&t;&t;;&bslash;n&quot;
l_string|&quot; 1:                            ;&bslash;n&quot;
id|BLOCK
c_func
(paren
l_int|0
)paren
id|BLOCK
c_func
(paren
l_int|4
)paren
id|BLOCK
c_func
(paren
l_int|8
)paren
id|BLOCK
c_func
(paren
l_int|12
)paren
l_string|&quot;       addl $128, %1         ;&bslash;n&quot;
l_string|&quot;       addl $128, %2         ;&bslash;n&quot;
l_string|&quot;       decl %0               ;&bslash;n&quot;
l_string|&quot;       jnz 1b                ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|__asm__
id|__volatile__
(paren
DECL|macro|BLOCK
macro_line|#undef BLOCK
DECL|macro|BLOCK
mdefine_line|#define BLOCK(i) &bslash;&n;&t;&t;&t;LD(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;LD(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;LD(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;LD(i+3,3)&t;&bslash;&n;&t;&t;&t;XO1(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO1(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO1(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO1(i+3,3)&t;&bslash;&n;&t;&t;&t;XO2(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;ST(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO2(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;ST(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO2(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;ST(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO2(i+3,3)&t;&bslash;&n;&t;&t;&t;&t;&t;&t;ST(i+3,3)
l_string|&quot; .align 32,0x90&t;&t;;&bslash;n&quot;
l_string|&quot; 1:                            ;&bslash;n&quot;
id|BLOCK
c_func
(paren
l_int|0
)paren
id|BLOCK
c_func
(paren
l_int|4
)paren
id|BLOCK
c_func
(paren
l_int|8
)paren
id|BLOCK
c_func
(paren
l_int|12
)paren
l_string|&quot;       addl $128, %1         ;&bslash;n&quot;
l_string|&quot;       addl $128, %2         ;&bslash;n&quot;
l_string|&quot;       addl $128, %3         ;&bslash;n&quot;
l_string|&quot;       decl %0               ;&bslash;n&quot;
l_string|&quot;       jnz 1b                ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|__asm__
id|__volatile__
(paren
DECL|macro|BLOCK
macro_line|#undef BLOCK
DECL|macro|BLOCK
mdefine_line|#define BLOCK(i) &bslash;&n;&t;&t;&t;LD(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;LD(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;LD(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;LD(i+3,3)&t;&bslash;&n;&t;&t;&t;XO1(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO1(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO1(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO1(i+3,3)&t;&bslash;&n;&t;&t;&t;XO2(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO2(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO2(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO2(i+3,3)&t;&bslash;&n;&t;&t;&t;XO3(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;ST(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO3(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;ST(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO3(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;ST(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO3(i+3,3)&t;&bslash;&n;&t;&t;&t;&t;&t;&t;ST(i+3,3)
l_string|&quot; .align 32,0x90&t;&t;;&bslash;n&quot;
l_string|&quot; 1:                            ;&bslash;n&quot;
id|BLOCK
c_func
(paren
l_int|0
)paren
id|BLOCK
c_func
(paren
l_int|4
)paren
id|BLOCK
c_func
(paren
l_int|8
)paren
id|BLOCK
c_func
(paren
l_int|12
)paren
l_string|&quot;       addl $128, %1         ;&bslash;n&quot;
l_string|&quot;       addl $128, %2         ;&bslash;n&quot;
l_string|&quot;       addl $128, %3         ;&bslash;n&quot;
l_string|&quot;       addl $128, %4         ;&bslash;n&quot;
l_string|&quot;       decl %0               ;&bslash;n&quot;
l_string|&quot;       jnz 1b                ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|__asm__
id|__volatile__
(paren
DECL|macro|BLOCK
macro_line|#undef BLOCK
DECL|macro|BLOCK
mdefine_line|#define BLOCK(i) &bslash;&n;&t;&t;&t;LD(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;LD(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;LD(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;LD(i+3,3)&t;&bslash;&n;&t;&t;&t;XO1(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO1(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO1(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO1(i+3,3)&t;&bslash;&n;&t;&t;&t;XO2(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO2(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO2(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO2(i+3,3)&t;&bslash;&n;&t;&t;&t;XO3(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO3(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO3(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO3(i+3,3)&t;&bslash;&n;&t;&t;&t;XO4(i,0)&t;&t;&t;&t;&bslash;&n;&t;&t;&t;ST(i,0)&t;&t;&t;&t;&t;&bslash;&n;&t;&t;&t;&t;XO4(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;ST(i+1,1)&t;&t;&t;&bslash;&n;&t;&t;&t;&t;&t;XO4(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;ST(i+2,2)&t;&t;&bslash;&n;&t;&t;&t;&t;&t;&t;XO4(i+3,3)&t;&bslash;&n;&t;&t;&t;&t;&t;&t;ST(i+3,3)
l_string|&quot; .align 32,0x90&t;&t;;&bslash;n&quot;
l_string|&quot; 1:                            ;&bslash;n&quot;
id|BLOCK
c_func
(paren
l_int|0
)paren
id|BLOCK
c_func
(paren
l_int|4
)paren
id|BLOCK
c_func
(paren
l_int|8
)paren
id|BLOCK
c_func
(paren
l_int|12
)paren
l_string|&quot;       addl $128, %1         ;&bslash;n&quot;
l_string|&quot;       addl $128, %2         ;&bslash;n&quot;
l_string|&quot;       addl $128, %3         ;&bslash;n&quot;
l_string|&quot;       addl $128, %4         ;&bslash;n&quot;
l_string|&quot;       addl $128, %5         ;&bslash;n&quot;
l_string|&quot;       decl %0               ;&bslash;n&quot;
l_string|&quot;       jnz 1b                ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;g&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|4
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
id|__asm__
id|__volatile__
(paren
l_string|&quot; frstor %0;&bslash;n&quot;
op_scope_resolution
l_string|&quot;m&quot;
(paren
id|fpu_save
(braket
l_int|0
)braket
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|current-&gt;flags
op_amp
id|PF_USEDFPU
)paren
)paren
id|stts
c_func
(paren
)paren
suffix:semicolon
)brace
DECL|macro|LD
macro_line|#undef LD
DECL|macro|XO1
macro_line|#undef XO1
DECL|macro|XO2
macro_line|#undef XO2
DECL|macro|XO3
macro_line|#undef XO3
DECL|macro|XO4
macro_line|#undef XO4
DECL|macro|ST
macro_line|#undef ST
DECL|macro|BLOCK
macro_line|#undef BLOCK
DECL|function|XORBLOCK_TEMPLATE
id|XORBLOCK_TEMPLATE
c_func
(paren
id|p5_mmx
)paren
(brace
r_char
id|fpu_save
(braket
l_int|108
)braket
suffix:semicolon
r_int
id|lines
op_assign
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_size
op_rshift
l_int|6
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|current-&gt;flags
op_amp
id|PF_USEDFPU
)paren
)paren
id|__asm__
id|__volatile__
(paren
l_string|&quot; clts;&bslash;n&quot;
)paren
suffix:semicolon
id|__asm__
id|__volatile__
(paren
l_string|&quot; fsave %0; fwait&bslash;n&quot;
op_scope_resolution
l_string|&quot;m&quot;
(paren
id|fpu_save
(braket
l_int|0
)braket
)paren
)paren
suffix:semicolon
r_switch
c_cond
(paren
id|count
)paren
(brace
r_case
l_int|2
suffix:colon
id|__asm__
id|__volatile__
(paren
l_string|&quot; .align 32,0x90             ;&bslash;n&quot;
l_string|&quot; 1:                         ;&bslash;n&quot;
l_string|&quot;       movq   (%1), %%mm0   ;&bslash;n&quot;
l_string|&quot;       movq  8(%1), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor   (%2), %%mm0   ;&bslash;n&quot;
l_string|&quot;       movq 16(%1), %%mm2   ;&bslash;n&quot;
l_string|&quot;       movq %%mm0,   (%1)   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%2), %%mm1   ;&bslash;n&quot;
l_string|&quot;       movq 24(%1), %%mm3   ;&bslash;n&quot;
l_string|&quot;       movq %%mm1,  8(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%2), %%mm2   ;&bslash;n&quot;
l_string|&quot;       movq 32(%1), %%mm4   ;&bslash;n&quot;
l_string|&quot;       movq %%mm2, 16(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%2), %%mm3   ;&bslash;n&quot;
l_string|&quot;       movq 40(%1), %%mm5   ;&bslash;n&quot;
l_string|&quot;       movq %%mm3, 24(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%2), %%mm4   ;&bslash;n&quot;
l_string|&quot;       movq 48(%1), %%mm6   ;&bslash;n&quot;
l_string|&quot;       movq %%mm4, 32(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%2), %%mm5   ;&bslash;n&quot;
l_string|&quot;       movq 56(%1), %%mm7   ;&bslash;n&quot;
l_string|&quot;       movq %%mm5, 40(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%2), %%mm6   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%2), %%mm7   ;&bslash;n&quot;
l_string|&quot;       movq %%mm6, 48(%1)   ;&bslash;n&quot;
l_string|&quot;       movq %%mm7, 56(%1)   ;&bslash;n&quot;
l_string|&quot;       addl $64, %1         ;&bslash;n&quot;
l_string|&quot;       addl $64, %2         ;&bslash;n&quot;
l_string|&quot;       decl %0              ;&bslash;n&quot;
l_string|&quot;       jnz 1b               ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|__asm__
id|__volatile__
(paren
l_string|&quot; .align 32,0x90             ;&bslash;n&quot;
l_string|&quot; 1:                         ;&bslash;n&quot;
l_string|&quot;       movq   (%1), %%mm0   ;&bslash;n&quot;
l_string|&quot;       movq  8(%1), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor   (%2), %%mm0   ;&bslash;n&quot;
l_string|&quot;       movq 16(%1), %%mm2   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%2), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor   (%3), %%mm0   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%2), %%mm2   ;&bslash;n&quot;
l_string|&quot;       movq %%mm0,   (%1)   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%3), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%3), %%mm2   ;&bslash;n&quot;
l_string|&quot;       movq 24(%1), %%mm3   ;&bslash;n&quot;
l_string|&quot;       movq %%mm1,  8(%1)   ;&bslash;n&quot;
l_string|&quot;       movq 32(%1), %%mm4   ;&bslash;n&quot;
l_string|&quot;       movq 40(%1), %%mm5   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%2), %%mm3   ;&bslash;n&quot;
l_string|&quot;       movq %%mm2, 16(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%2), %%mm4   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%3), %%mm3   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%2), %%mm5   ;&bslash;n&quot;
l_string|&quot;       movq %%mm3, 24(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%3), %%mm4   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%3), %%mm5   ;&bslash;n&quot;
l_string|&quot;       movq 48(%1), %%mm6   ;&bslash;n&quot;
l_string|&quot;       movq %%mm4, 32(%1)   ;&bslash;n&quot;
l_string|&quot;       movq 56(%1), %%mm7   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%2), %%mm6   ;&bslash;n&quot;
l_string|&quot;       movq %%mm5, 40(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%2), %%mm7   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%3), %%mm6   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%3), %%mm7   ;&bslash;n&quot;
l_string|&quot;       movq %%mm6, 48(%1)   ;&bslash;n&quot;
l_string|&quot;       movq %%mm7, 56(%1)   ;&bslash;n&quot;
l_string|&quot;       addl $64, %1         ;&bslash;n&quot;
l_string|&quot;       addl $64, %2         ;&bslash;n&quot;
l_string|&quot;       addl $64, %3         ;&bslash;n&quot;
l_string|&quot;       decl %0              ;&bslash;n&quot;
l_string|&quot;       jnz 1b               ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|__asm__
id|__volatile__
(paren
l_string|&quot; .align 32,0x90             ;&bslash;n&quot;
l_string|&quot; 1:                         ;&bslash;n&quot;
l_string|&quot;       movq   (%1), %%mm0   ;&bslash;n&quot;
l_string|&quot;       movq  8(%1), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor   (%2), %%mm0   ;&bslash;n&quot;
l_string|&quot;       movq 16(%1), %%mm2   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%2), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor   (%3), %%mm0   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%2), %%mm2   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%3), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor   (%4), %%mm0   ;&bslash;n&quot;
l_string|&quot;       movq 24(%1), %%mm3   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%3), %%mm2   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%4), %%mm1   ;&bslash;n&quot;
l_string|&quot;       movq %%mm0,   (%1)   ;&bslash;n&quot;
l_string|&quot;       movq 32(%1), %%mm4   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%2), %%mm3   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%4), %%mm2   ;&bslash;n&quot;
l_string|&quot;       movq %%mm1,  8(%1)   ;&bslash;n&quot;
l_string|&quot;       movq 40(%1), %%mm5   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%2), %%mm4   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%3), %%mm3   ;&bslash;n&quot;
l_string|&quot;       movq %%mm2, 16(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%2), %%mm5   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%3), %%mm4   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%4), %%mm3   ;&bslash;n&quot;
l_string|&quot;       movq %%mm3, 24(%1)   ;&bslash;n&quot;
l_string|&quot;       movq 56(%1), %%mm7   ;&bslash;n&quot;
l_string|&quot;       movq 48(%1), %%mm6   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%3), %%mm5   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%4), %%mm4   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%2), %%mm6   ;&bslash;n&quot;
l_string|&quot;       movq %%mm4, 32(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%2), %%mm7   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%4), %%mm5   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%3), %%mm6   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%3), %%mm7   ;&bslash;n&quot;
l_string|&quot;       movq %%mm5, 40(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%4), %%mm6   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%4), %%mm7   ;&bslash;n&quot;
l_string|&quot;       movq %%mm6, 48(%1)   ;&bslash;n&quot;
l_string|&quot;       movq %%mm7, 56(%1)   ;&bslash;n&quot;
l_string|&quot;       addl $64, %1         ;&bslash;n&quot;
l_string|&quot;       addl $64, %2         ;&bslash;n&quot;
l_string|&quot;       addl $64, %3         ;&bslash;n&quot;
l_string|&quot;       addl $64, %4         ;&bslash;n&quot;
l_string|&quot;       decl %0              ;&bslash;n&quot;
l_string|&quot;       jnz 1b               ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;r&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|__asm__
id|__volatile__
(paren
l_string|&quot; .align 32,0x90             ;&bslash;n&quot;
l_string|&quot; 1:                         ;&bslash;n&quot;
l_string|&quot;       movq   (%1), %%mm0   ;&bslash;n&quot;
l_string|&quot;       movq  8(%1), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor   (%2), %%mm0   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%2), %%mm1   ;&bslash;n&quot;
l_string|&quot;       movq 16(%1), %%mm2   ;&bslash;n&quot;
l_string|&quot;       pxor   (%3), %%mm0   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%3), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%2), %%mm2   ;&bslash;n&quot;
l_string|&quot;       pxor   (%4), %%mm0   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%4), %%mm1   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%3), %%mm2   ;&bslash;n&quot;
l_string|&quot;       movq 24(%1), %%mm3   ;&bslash;n&quot;
l_string|&quot;       pxor   (%5), %%mm0   ;&bslash;n&quot;
l_string|&quot;       pxor  8(%5), %%mm1   ;&bslash;n&quot;
l_string|&quot;       movq %%mm0,   (%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%4), %%mm2   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%2), %%mm3   ;&bslash;n&quot;
l_string|&quot;       movq %%mm1,  8(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 16(%5), %%mm2   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%3), %%mm3   ;&bslash;n&quot;
l_string|&quot;       movq 32(%1), %%mm4   ;&bslash;n&quot;
l_string|&quot;       movq %%mm2, 16(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%4), %%mm3   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%2), %%mm4   ;&bslash;n&quot;
l_string|&quot;       movq 40(%1), %%mm5   ;&bslash;n&quot;
l_string|&quot;       pxor 24(%5), %%mm3   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%3), %%mm4   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%2), %%mm5   ;&bslash;n&quot;
l_string|&quot;       movq %%mm3, 24(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%4), %%mm4   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%3), %%mm5   ;&bslash;n&quot;
l_string|&quot;       movq 48(%1), %%mm6   ;&bslash;n&quot;
l_string|&quot;       movq 56(%1), %%mm7   ;&bslash;n&quot;
l_string|&quot;       pxor 32(%5), %%mm4   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%4), %%mm5   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%2), %%mm6   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%2), %%mm7   ;&bslash;n&quot;
l_string|&quot;       movq %%mm4, 32(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%3), %%mm6   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%3), %%mm7   ;&bslash;n&quot;
l_string|&quot;       pxor 40(%5), %%mm5   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%4), %%mm6   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%4), %%mm7   ;&bslash;n&quot;
l_string|&quot;       movq %%mm5, 40(%1)   ;&bslash;n&quot;
l_string|&quot;       pxor 48(%5), %%mm6   ;&bslash;n&quot;
l_string|&quot;       pxor 56(%5), %%mm7   ;&bslash;n&quot;
l_string|&quot;       movq %%mm6, 48(%1)   ;&bslash;n&quot;
l_string|&quot;       movq %%mm7, 56(%1)   ;&bslash;n&quot;
l_string|&quot;       addl $64, %1         ;&bslash;n&quot;
l_string|&quot;       addl $64, %2         ;&bslash;n&quot;
l_string|&quot;       addl $64, %3         ;&bslash;n&quot;
l_string|&quot;       addl $64, %4         ;&bslash;n&quot;
l_string|&quot;       addl $64, %5         ;&bslash;n&quot;
l_string|&quot;       decl %0              ;&bslash;n&quot;
l_string|&quot;       jnz 1b               ;&bslash;n&quot;
suffix:colon
suffix:colon
l_string|&quot;g&quot;
(paren
id|lines
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;r&quot;
(paren
id|bh_ptr
(braket
l_int|4
)braket
op_member_access_from_pointer
id|b_data
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_break
suffix:semicolon
)brace
id|__asm__
id|__volatile__
(paren
l_string|&quot; frstor %0;&bslash;n&quot;
op_scope_resolution
l_string|&quot;m&quot;
(paren
id|fpu_save
(braket
l_int|0
)braket
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
(paren
id|current-&gt;flags
op_amp
id|PF_USEDFPU
)paren
)paren
id|stts
c_func
(paren
)paren
suffix:semicolon
)brace
macro_line|#endif /* __i386__ */
macro_line|#endif /* !__sparc_v9__ */
macro_line|#ifdef __sparc_v9__
multiline_comment|/*&n; * High speed xor_block operation for RAID4/5 utilizing the&n; * UltraSparc Visual Instruction Set.&n; *&n; * Copyright (C) 1997, 1999 Jakub Jelinek (jj@ultra.linux.cz)&n; *&n; *&t;Requirements:&n; *&t;!(((long)dest | (long)sourceN) &amp; (64 - 1)) &amp;&amp;&n; *&t;!(len &amp; 127) &amp;&amp; len &gt;= 256&n; *&n; * It is done in pure assembly, as otherwise gcc makes it&n; * a non-leaf function, which is not what we want.&n; * Also, we don&squot;t measure the speeds as on other architectures,&n; * as the measuring routine does not take into account cold caches&n; * and the fact that xor_block_VIS bypasses the caches.&n; * xor_block_32regs might be 5% faster for count 2 if caches are hot&n; * and things just right (for count 3 VIS is about as fast as 32regs for&n; * hot caches and for count 4 and 5 VIS is faster by good margin always),&n; * but I think it is better not to pollute the caches.&n; * Actually, if I&squot;d just fight for speed for hot caches, I could&n; * write a hybrid VIS/integer routine, which would do always two&n; * 64B blocks in VIS and two in IEUs, but I really care more about&n; * caches.&n; */
r_extern
r_void
op_star
id|VISenter
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|xor_block_VIS
id|XOR_ARGS
suffix:semicolon
DECL|function|__xor_block_VIS
r_void
id|__xor_block_VIS
c_func
(paren
r_void
)paren
(brace
id|__asm__
(paren
"&quot;"
dot
id|globl
id|xor_block_VIS
id|xor_block_VIS
suffix:colon
id|ldx
(braket
op_mod
op_mod
id|o1
op_plus
l_int|0
)braket
comma
op_mod
op_mod
id|o4
id|ldx
(braket
op_mod
op_mod
id|o1
op_plus
l_int|8
)braket
comma
op_mod
op_mod
id|o3
id|ldx
(braket
op_mod
op_mod
id|o4
op_plus
op_mod
l_int|1
)braket
comma
op_mod
op_mod
id|g5
id|ldx
(braket
op_mod
op_mod
id|o4
op_plus
op_mod
l_int|0
)braket
comma
op_mod
op_mod
id|o4
id|ldx
(braket
op_mod
op_mod
id|o3
op_plus
op_mod
l_int|0
)braket
comma
op_mod
op_mod
id|o3
id|rd
op_mod
op_mod
id|fprs
comma
op_mod
op_mod
id|o5
id|andcc
op_mod
op_mod
id|o5
comma
op_mod
l_int|2
comma
op_mod
op_mod
id|g0
id|be
comma
id|pt
op_mod
op_mod
id|icc
comma
l_float|297f
id|sethi
op_mod
op_mod
id|hi
c_func
(paren
op_mod
l_int|5
)paren
comma
op_mod
op_mod
id|g1
id|jmpl
op_mod
op_mod
id|g1
op_plus
op_mod
op_mod
id|lo
c_func
(paren
op_mod
l_int|5
)paren
comma
op_mod
op_mod
id|g7
id|add
op_mod
op_mod
id|g7
comma
l_int|8
comma
op_mod
op_mod
id|g7
l_int|297
suffix:colon
id|wr
op_mod
op_mod
id|g0
comma
op_mod
l_int|4
comma
op_mod
op_mod
id|fprs
id|membar
macro_line|#LoadStore|#StoreLoad|#StoreStore
id|sub
op_mod
op_mod
id|g5
comma
l_int|64
comma
op_mod
op_mod
id|g5
id|ldda
(braket
op_mod
op_mod
id|o4
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f0
id|ldda
(braket
op_mod
op_mod
id|o3
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f16
id|cmp
op_mod
op_mod
id|o0
comma
l_int|4
id|bgeu
comma
id|pt
op_mod
op_mod
id|xcc
comma
l_float|10f
id|cmp
op_mod
op_mod
id|o0
comma
l_int|3
id|be
comma
id|pn
op_mod
op_mod
id|xcc
comma
l_float|13f
id|mov
op_minus
l_int|64
comma
op_mod
op_mod
id|g1
id|sub
op_mod
op_mod
id|g5
comma
l_int|64
comma
op_mod
op_mod
id|g5
id|rd
op_mod
op_mod
id|asi
comma
op_mod
op_mod
id|g1
id|wr
op_mod
op_mod
id|g0
comma
op_mod
l_int|3
comma
op_mod
op_mod
id|asi
l_int|2
suffix:colon
id|ldda
(braket
op_mod
op_mod
id|o4
op_plus
l_int|64
)braket
op_mod
op_mod
id|asi
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f0
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f16
id|fxor
op_mod
op_mod
id|f2
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f18
id|fxor
op_mod
op_mod
id|f4
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f20
id|fxor
op_mod
op_mod
id|f6
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f22
id|fxor
op_mod
op_mod
id|f8
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f24
id|fxor
op_mod
op_mod
id|f10
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f26
id|fxor
op_mod
op_mod
id|f12
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f28
id|fxor
op_mod
op_mod
id|f14
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f30
id|stda
op_mod
op_mod
id|f16
comma
(braket
op_mod
op_mod
id|o4
)braket
op_mod
l_int|3
id|ldda
(braket
op_mod
op_mod
id|o3
op_plus
l_int|64
)braket
op_mod
op_mod
id|asi
comma
op_mod
op_mod
id|f48
id|ldda
(braket
op_mod
op_mod
id|o4
op_plus
l_int|128
)braket
op_mod
op_mod
id|asi
comma
op_mod
op_mod
id|f0
id|fxor
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f50
id|add
op_mod
op_mod
id|o4
comma
l_int|128
comma
op_mod
op_mod
id|o4
id|fxor
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f52
id|add
op_mod
op_mod
id|o3
comma
l_int|128
comma
op_mod
op_mod
id|o3
id|fxor
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f54
id|subcc
op_mod
op_mod
id|g5
comma
l_int|128
comma
op_mod
op_mod
id|g5
id|fxor
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f62
id|stda
op_mod
op_mod
id|f48
comma
(braket
op_mod
op_mod
id|o4
op_minus
l_int|64
)braket
op_mod
op_mod
id|asi
id|bne
comma
id|pt
op_mod
op_mod
id|xcc
comma
l_int|2
id|b
id|ldda
(braket
op_mod
op_mod
id|o3
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f16
id|ldda
(braket
op_mod
op_mod
id|o4
op_plus
l_int|64
)braket
op_mod
op_mod
id|asi
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f0
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f16
id|fxor
op_mod
op_mod
id|f2
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f18
id|fxor
op_mod
op_mod
id|f4
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f20
id|fxor
op_mod
op_mod
id|f6
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f22
id|fxor
op_mod
op_mod
id|f8
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f24
id|fxor
op_mod
op_mod
id|f10
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f26
id|fxor
op_mod
op_mod
id|f12
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f28
id|fxor
op_mod
op_mod
id|f14
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f30
id|stda
op_mod
op_mod
id|f16
comma
(braket
op_mod
op_mod
id|o4
)braket
op_mod
l_int|3
id|ldda
(braket
op_mod
op_mod
id|o3
op_plus
l_int|64
)braket
op_mod
op_mod
id|asi
comma
op_mod
op_mod
id|f48
id|membar
macro_line|#Sync
id|fxor
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f62
id|stda
op_mod
op_mod
id|f48
comma
(braket
op_mod
op_mod
id|o4
op_plus
l_int|64
)braket
op_mod
op_mod
id|asi
id|membar
macro_line|#Sync|#StoreStore|#StoreLoad
id|wr
op_mod
op_mod
id|g0
comma
l_int|0
comma
op_mod
op_mod
id|fprs
id|retl
id|wr
op_mod
op_mod
id|g1
comma
op_mod
op_mod
id|g0
comma
op_mod
op_mod
id|asi
l_int|13
suffix:colon
id|ldx
(braket
op_mod
op_mod
id|o1
op_plus
l_int|16
)braket
comma
op_mod
op_mod
id|o2
id|ldx
(braket
op_mod
op_mod
id|o2
op_plus
op_mod
l_int|0
)braket
comma
op_mod
op_mod
id|o2
l_int|3
suffix:colon
id|ldda
(braket
op_mod
op_mod
id|o2
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f0
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f2
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f50
id|add
op_mod
op_mod
id|o4
comma
l_int|64
comma
op_mod
op_mod
id|o4
id|fxor
op_mod
op_mod
id|f4
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f6
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f54
id|add
op_mod
op_mod
id|o3
comma
l_int|64
comma
op_mod
op_mod
id|o3
id|fxor
op_mod
op_mod
id|f8
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f10
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f12
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f14
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f62
id|ldda
(braket
op_mod
op_mod
id|o4
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f0
id|fxor
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
id|add
op_mod
op_mod
id|o2
comma
l_int|64
comma
op_mod
op_mod
id|o2
id|fxor
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
id|subcc
op_mod
op_mod
id|g5
comma
l_int|64
comma
op_mod
op_mod
id|g5
id|fxor
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
id|stda
op_mod
op_mod
id|f48
comma
(braket
op_mod
op_mod
id|o4
op_plus
op_mod
op_mod
id|g1
)braket
op_mod
l_int|3
id|bne
comma
id|pt
op_mod
op_mod
id|xcc
comma
l_int|3
id|b
id|ldda
(braket
op_mod
op_mod
id|o3
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f16
id|ldda
(braket
op_mod
op_mod
id|o2
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f0
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f2
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f4
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f6
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f8
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f10
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f12
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f14
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f62
id|membar
macro_line|#Sync
id|fxor
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
id|stda
op_mod
op_mod
id|f48
comma
(braket
op_mod
op_mod
id|o4
)braket
op_mod
l_int|3
id|membar
macro_line|#Sync|#StoreStore|#StoreLoad
id|retl
id|wr
op_mod
op_mod
id|g0
comma
l_int|0
comma
op_mod
op_mod
id|fprs
l_int|10
suffix:colon
id|cmp
op_mod
op_mod
id|o0
comma
l_int|5
id|be
comma
id|pt
op_mod
op_mod
id|xcc
comma
l_float|15f
id|mov
op_minus
l_int|64
comma
op_mod
op_mod
id|g1
l_int|14
suffix:colon
id|ldx
(braket
op_mod
op_mod
id|o1
op_plus
l_int|16
)braket
comma
op_mod
op_mod
id|o2
id|ldx
(braket
op_mod
op_mod
id|o1
op_plus
l_int|24
)braket
comma
op_mod
op_mod
id|o0
id|ldx
(braket
op_mod
op_mod
id|o2
op_plus
op_mod
l_int|0
)braket
comma
op_mod
op_mod
id|o2
id|ldx
(braket
op_mod
op_mod
id|o0
op_plus
op_mod
l_int|0
)braket
comma
op_mod
op_mod
id|o0
l_int|4
suffix:colon
id|ldda
(braket
op_mod
op_mod
id|o2
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f0
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f16
id|fxor
op_mod
op_mod
id|f2
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f18
id|add
op_mod
op_mod
id|o4
comma
l_int|64
comma
op_mod
op_mod
id|o4
id|fxor
op_mod
op_mod
id|f4
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f20
id|fxor
op_mod
op_mod
id|f6
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f22
id|add
op_mod
op_mod
id|o3
comma
l_int|64
comma
op_mod
op_mod
id|o3
id|fxor
op_mod
op_mod
id|f8
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f24
id|fxor
op_mod
op_mod
id|f10
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f26
id|fxor
op_mod
op_mod
id|f12
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f28
id|fxor
op_mod
op_mod
id|f14
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f30
id|ldda
(braket
op_mod
op_mod
id|o0
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f34
id|fxor
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f36
id|fxor
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f38
id|add
op_mod
op_mod
id|o2
comma
l_int|64
comma
op_mod
op_mod
id|o2
id|fxor
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f40
id|fxor
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f42
id|fxor
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f44
id|fxor
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f46
id|ldda
(braket
op_mod
op_mod
id|o4
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f0
id|fxor
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f52
id|add
op_mod
op_mod
id|o0
comma
l_int|64
comma
op_mod
op_mod
id|o0
id|fxor
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f58
id|subcc
op_mod
op_mod
id|g5
comma
l_int|64
comma
op_mod
op_mod
id|g5
id|fxor
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f62
id|stda
op_mod
op_mod
id|f48
comma
(braket
op_mod
op_mod
id|o4
op_plus
op_mod
op_mod
id|g1
)braket
op_mod
l_int|3
id|bne
comma
id|pt
op_mod
op_mod
id|xcc
comma
l_int|4
id|b
id|ldda
(braket
op_mod
op_mod
id|o3
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f16
id|ldda
(braket
op_mod
op_mod
id|o2
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f0
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f16
id|fxor
op_mod
op_mod
id|f2
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f18
id|fxor
op_mod
op_mod
id|f4
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f20
id|fxor
op_mod
op_mod
id|f6
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f22
id|fxor
op_mod
op_mod
id|f8
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f24
id|fxor
op_mod
op_mod
id|f10
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f26
id|fxor
op_mod
op_mod
id|f12
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f28
id|fxor
op_mod
op_mod
id|f14
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f30
id|ldda
(braket
op_mod
op_mod
id|o0
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f34
id|fxor
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f36
id|fxor
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f38
id|fxor
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f40
id|fxor
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f42
id|fxor
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f44
id|fxor
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f46
id|membar
macro_line|#Sync
id|fxor
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f62
id|stda
op_mod
op_mod
id|f48
comma
(braket
op_mod
op_mod
id|o4
)braket
op_mod
l_int|3
id|membar
macro_line|#Sync|#StoreStore|#StoreLoad
id|retl
id|wr
op_mod
op_mod
id|g0
comma
l_int|0
comma
op_mod
op_mod
id|fprs
l_int|15
suffix:colon
id|ldx
(braket
op_mod
op_mod
id|o1
op_plus
l_int|16
)braket
comma
op_mod
op_mod
id|o2
id|ldx
(braket
op_mod
op_mod
id|o1
op_plus
l_int|24
)braket
comma
op_mod
op_mod
id|o0
id|ldx
(braket
op_mod
op_mod
id|o1
op_plus
l_int|32
)braket
comma
op_mod
op_mod
id|o1
id|ldx
(braket
op_mod
op_mod
id|o2
op_plus
op_mod
l_int|0
)braket
comma
op_mod
op_mod
id|o2
id|ldx
(braket
op_mod
op_mod
id|o0
op_plus
op_mod
l_int|0
)braket
comma
op_mod
op_mod
id|o0
id|ldx
(braket
op_mod
op_mod
id|o1
op_plus
op_mod
l_int|0
)braket
comma
op_mod
op_mod
id|o1
l_int|5
suffix:colon
id|ldda
(braket
op_mod
op_mod
id|o2
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f0
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f2
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f50
id|add
op_mod
op_mod
id|o4
comma
l_int|64
comma
op_mod
op_mod
id|o4
id|fxor
op_mod
op_mod
id|f4
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f6
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f54
id|add
op_mod
op_mod
id|o3
comma
l_int|64
comma
op_mod
op_mod
id|o3
id|fxor
op_mod
op_mod
id|f8
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f10
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f12
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f14
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f62
id|ldda
(braket
op_mod
op_mod
id|o0
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f16
id|fxor
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
id|add
op_mod
op_mod
id|o2
comma
l_int|64
comma
op_mod
op_mod
id|o2
id|fxor
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
id|ldda
(braket
op_mod
op_mod
id|o1
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f50
id|add
op_mod
op_mod
id|o0
comma
l_int|64
comma
op_mod
op_mod
id|o0
id|fxor
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f54
id|add
op_mod
op_mod
id|o1
comma
l_int|64
comma
op_mod
op_mod
id|o1
id|fxor
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f62
id|ldda
(braket
op_mod
op_mod
id|o4
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f0
id|fxor
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
id|subcc
op_mod
op_mod
id|g5
comma
l_int|64
comma
op_mod
op_mod
id|g5
id|fxor
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
id|stda
op_mod
op_mod
id|f48
comma
(braket
op_mod
op_mod
id|o4
op_plus
op_mod
op_mod
id|g1
)braket
op_mod
l_int|3
id|bne
comma
id|pt
op_mod
op_mod
id|xcc
comma
l_int|5
id|b
id|ldda
(braket
op_mod
op_mod
id|o3
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f16
id|ldda
(braket
op_mod
op_mod
id|o2
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f0
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f2
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f4
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f6
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f8
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f10
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f12
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f14
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f62
id|ldda
(braket
op_mod
op_mod
id|o0
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f16
id|fxor
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
id|ldda
(braket
op_mod
op_mod
id|o1
)braket
op_mod
l_int|3
comma
op_mod
op_mod
id|f32
id|fxor
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f16
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f18
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f20
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f22
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f24
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f26
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f28
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f30
comma
op_mod
op_mod
id|f62
id|membar
macro_line|#Sync
id|fxor
op_mod
op_mod
id|f48
comma
op_mod
op_mod
id|f32
comma
op_mod
op_mod
id|f48
id|fxor
op_mod
op_mod
id|f50
comma
op_mod
op_mod
id|f34
comma
op_mod
op_mod
id|f50
id|fxor
op_mod
op_mod
id|f52
comma
op_mod
op_mod
id|f36
comma
op_mod
op_mod
id|f52
id|fxor
op_mod
op_mod
id|f54
comma
op_mod
op_mod
id|f38
comma
op_mod
op_mod
id|f54
id|fxor
op_mod
op_mod
id|f56
comma
op_mod
op_mod
id|f40
comma
op_mod
op_mod
id|f56
id|fxor
op_mod
op_mod
id|f58
comma
op_mod
op_mod
id|f42
comma
op_mod
op_mod
id|f58
id|fxor
op_mod
op_mod
id|f60
comma
op_mod
op_mod
id|f44
comma
op_mod
op_mod
id|f60
id|fxor
op_mod
op_mod
id|f62
comma
op_mod
op_mod
id|f46
comma
op_mod
op_mod
id|f62
id|stda
op_mod
op_mod
id|f48
comma
(braket
op_mod
op_mod
id|o4
)braket
op_mod
l_int|3
id|membar
macro_line|#Sync|#StoreStore|#StoreLoad
id|retl
id|wr
op_mod
op_mod
id|g0
comma
l_int|0
comma
op_mod
op_mod
id|fprs
"&quot;"
suffix:colon
suffix:colon
l_string|&quot;i&quot;
(paren
op_amp
(paren
(paren
r_struct
id|buffer_head
op_star
)paren
l_int|0
)paren
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;i&quot;
(paren
op_amp
(paren
(paren
r_struct
id|buffer_head
op_star
)paren
l_int|0
)paren
op_member_access_from_pointer
id|b_data
)paren
comma
l_string|&quot;i&quot;
(paren
id|FPRS_FEF
op_or
id|FPRS_DU
)paren
comma
l_string|&quot;i&quot;
(paren
id|ASI_BLK_P
)paren
comma
l_string|&quot;i&quot;
(paren
id|FPRS_FEF
)paren
comma
l_string|&quot;i&quot;
(paren
id|VISenter
)paren
)paren
suffix:semicolon
)brace
macro_line|#endif /* __sparc_v9__ */
macro_line|#if defined(__sparc__) &amp;&amp; !defined(__sparc_v9__)
multiline_comment|/*&n; * High speed xor_block operation for RAID4/5 utilizing the&n; * ldd/std SPARC instructions.&n; *&n; * Copyright (C) 1999 Jakub Jelinek (jj@ultra.linux.cz)&n; *&n; */
DECL|function|XORBLOCK_TEMPLATE
id|XORBLOCK_TEMPLATE
c_func
(paren
id|SPARC
)paren
(brace
r_int
id|size
op_assign
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_size
suffix:semicolon
r_int
id|lines
op_assign
id|size
op_div
(paren
r_sizeof
(paren
r_int
)paren
)paren
op_div
l_int|8
comma
id|i
suffix:semicolon
r_int
op_star
id|destp
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_int
op_star
id|source1
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_int
op_star
id|source2
comma
op_star
id|source3
comma
op_star
id|source4
suffix:semicolon
r_switch
c_cond
(paren
id|count
)paren
(brace
r_case
l_int|2
suffix:colon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
id|__asm__
id|__volatile__
c_func
(paren
"&quot;"
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|g2
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|g4
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|o0
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|o2
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|std
op_mod
op_mod
id|g2
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x00
)braket
id|std
op_mod
op_mod
id|g4
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x08
)braket
id|std
op_mod
op_mod
id|o0
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x10
)braket
id|std
op_mod
op_mod
id|o2
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x18
)braket
l_string|&quot; : : &quot;
id|r
l_string|&quot; (destp), &quot;
id|r
l_string|&quot; (source1) : &quot;
id|g2
l_string|&quot;, &quot;
id|g3
l_string|&quot;, &quot;
id|g4
l_string|&quot;, &quot;
id|g5
l_string|&quot;, &quot;
id|o0
"&quot;"
comma
l_string|&quot;o1&quot;
comma
l_string|&quot;o2&quot;
comma
l_string|&quot;o3&quot;
comma
l_string|&quot;o4&quot;
comma
l_string|&quot;o5&quot;
comma
l_string|&quot;l0&quot;
comma
l_string|&quot;l1&quot;
comma
l_string|&quot;l2&quot;
comma
l_string|&quot;l3&quot;
comma
l_string|&quot;l4&quot;
comma
l_string|&quot;l5&quot;
)paren
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|source2
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
id|__asm__
id|__volatile__
c_func
(paren
"&quot;"
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|g2
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|g4
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|o0
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|o2
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|std
op_mod
op_mod
id|g2
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x00
)braket
id|std
op_mod
op_mod
id|g4
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x08
)braket
id|std
op_mod
op_mod
id|o0
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x10
)braket
id|std
op_mod
op_mod
id|o2
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x18
)braket
l_string|&quot; : : &quot;
id|r
l_string|&quot; (destp), &quot;
id|r
l_string|&quot; (source1), &quot;
id|r
"&quot;"
(paren
id|source2
)paren
suffix:colon
l_string|&quot;g2&quot;
comma
l_string|&quot;g3&quot;
comma
l_string|&quot;g4&quot;
comma
l_string|&quot;g5&quot;
comma
l_string|&quot;o0&quot;
comma
l_string|&quot;o1&quot;
comma
l_string|&quot;o2&quot;
comma
l_string|&quot;o3&quot;
comma
l_string|&quot;o4&quot;
comma
l_string|&quot;o5&quot;
comma
l_string|&quot;l0&quot;
comma
l_string|&quot;l1&quot;
comma
l_string|&quot;l2&quot;
comma
l_string|&quot;l3&quot;
comma
l_string|&quot;l4&quot;
comma
l_string|&quot;l5&quot;
)paren
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|source2
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|source2
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source3
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
id|__asm__
id|__volatile__
c_func
(paren
"&quot;"
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|g2
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|g4
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|o0
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|o2
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
id|ldd
(braket
op_mod
l_int|3
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
id|ldd
(braket
op_mod
l_int|3
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
id|ldd
(braket
op_mod
l_int|3
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|ldd
(braket
op_mod
l_int|3
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|std
op_mod
op_mod
id|g2
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x00
)braket
id|std
op_mod
op_mod
id|g4
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x08
)braket
id|std
op_mod
op_mod
id|o0
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x10
)braket
id|std
op_mod
op_mod
id|o2
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x18
)braket
l_string|&quot; : : &quot;
id|r
l_string|&quot; (destp), &quot;
id|r
l_string|&quot; (source1), &quot;
id|r
l_string|&quot; (source2), &quot;
id|r
"&quot;"
(paren
id|source3
)paren
suffix:colon
l_string|&quot;g2&quot;
comma
l_string|&quot;g3&quot;
comma
l_string|&quot;g4&quot;
comma
l_string|&quot;g5&quot;
comma
l_string|&quot;o0&quot;
comma
l_string|&quot;o1&quot;
comma
l_string|&quot;o2&quot;
comma
l_string|&quot;o3&quot;
comma
l_string|&quot;o4&quot;
comma
l_string|&quot;o5&quot;
comma
l_string|&quot;l0&quot;
comma
l_string|&quot;l1&quot;
comma
l_string|&quot;l2&quot;
comma
l_string|&quot;l3&quot;
comma
l_string|&quot;l4&quot;
comma
l_string|&quot;l5&quot;
)paren
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|source2
op_add_assign
l_int|8
suffix:semicolon
id|source3
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|source2
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source3
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source4
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|4
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
id|__asm__
id|__volatile__
c_func
(paren
"&quot;"
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|g2
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|g4
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|o0
id|ldd
(braket
op_mod
l_int|0
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|o2
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
id|ldd
(braket
op_mod
l_int|1
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|ldd
(braket
op_mod
l_int|2
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
id|ldd
(braket
op_mod
l_int|3
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
id|ldd
(braket
op_mod
l_int|3
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
id|ldd
(braket
op_mod
l_int|3
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|ldd
(braket
op_mod
l_int|3
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
id|ldd
(braket
op_mod
l_int|4
op_plus
l_int|0x00
)braket
comma
op_mod
op_mod
id|o4
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
id|ldd
(braket
op_mod
l_int|4
op_plus
l_int|0x08
)braket
comma
op_mod
op_mod
id|l0
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
id|ldd
(braket
op_mod
l_int|4
op_plus
l_int|0x10
)braket
comma
op_mod
op_mod
id|l2
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|ldd
(braket
op_mod
l_int|4
op_plus
l_int|0x18
)braket
comma
op_mod
op_mod
id|l4
op_xor
op_mod
op_mod
id|g2
comma
op_mod
op_mod
id|o4
comma
op_mod
op_mod
id|g2
op_xor
op_mod
op_mod
id|g3
comma
op_mod
op_mod
id|o5
comma
op_mod
op_mod
id|g3
op_xor
op_mod
op_mod
id|g4
comma
op_mod
op_mod
id|l0
comma
op_mod
op_mod
id|g4
op_xor
op_mod
op_mod
id|g5
comma
op_mod
op_mod
id|l1
comma
op_mod
op_mod
id|g5
op_xor
op_mod
op_mod
id|o0
comma
op_mod
op_mod
id|l2
comma
op_mod
op_mod
id|o0
op_xor
op_mod
op_mod
id|o1
comma
op_mod
op_mod
id|l3
comma
op_mod
op_mod
id|o1
op_xor
op_mod
op_mod
id|o2
comma
op_mod
op_mod
id|l4
comma
op_mod
op_mod
id|o2
op_xor
op_mod
op_mod
id|o3
comma
op_mod
op_mod
id|l5
comma
op_mod
op_mod
id|o3
id|std
op_mod
op_mod
id|g2
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x00
)braket
id|std
op_mod
op_mod
id|g4
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x08
)braket
id|std
op_mod
op_mod
id|o0
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x10
)braket
id|std
op_mod
op_mod
id|o2
comma
(braket
op_mod
l_int|0
op_plus
l_int|0x18
)braket
l_string|&quot; : : &quot;
id|r
l_string|&quot; (destp), &quot;
id|r
l_string|&quot; (source1), &quot;
id|r
l_string|&quot; (source2), &quot;
id|r
l_string|&quot; (source3), &quot;
id|r
"&quot;"
(paren
id|source4
)paren
suffix:colon
l_string|&quot;g2&quot;
comma
l_string|&quot;g3&quot;
comma
l_string|&quot;g4&quot;
comma
l_string|&quot;g5&quot;
comma
l_string|&quot;o0&quot;
comma
l_string|&quot;o1&quot;
comma
l_string|&quot;o2&quot;
comma
l_string|&quot;o3&quot;
comma
l_string|&quot;o4&quot;
comma
l_string|&quot;o5&quot;
comma
l_string|&quot;l0&quot;
comma
l_string|&quot;l1&quot;
comma
l_string|&quot;l2&quot;
comma
l_string|&quot;l3&quot;
comma
l_string|&quot;l4&quot;
comma
l_string|&quot;l5&quot;
)paren
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|source2
op_add_assign
l_int|8
suffix:semicolon
id|source3
op_add_assign
l_int|8
suffix:semicolon
id|source4
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
)brace
macro_line|#endif /* __sparc_v[78]__ */
macro_line|#ifndef __sparc_v9__
multiline_comment|/*&n; * this one works reasonably on any x86 CPU&n; * (send me an assembly version for inclusion if you can make it faster)&n; *&n; * this one is just as fast as written in pure assembly on x86.&n; * the reason for this separate version is that the&n; * fast open-coded xor routine &quot;32reg&quot; produces suboptimal code&n; * on x86, due to lack of registers.&n; */
id|XORBLOCK_TEMPLATE
c_func
(paren
l_int|8
id|regs
)paren
(brace
r_int
id|len
op_assign
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_size
suffix:semicolon
r_int
op_star
id|destp
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_int
op_star
id|source1
comma
op_star
id|source2
comma
op_star
id|source3
comma
op_star
id|source4
suffix:semicolon
r_int
id|lines
op_assign
id|len
op_div
(paren
r_sizeof
(paren
r_int
)paren
)paren
op_div
l_int|8
comma
id|i
suffix:semicolon
r_switch
c_cond
(paren
id|count
)paren
(brace
r_case
l_int|2
suffix:colon
id|source1
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|7
)paren
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|source2
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source1
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|7
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|7
)paren
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|source2
op_add_assign
l_int|8
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|source3
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source2
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source1
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|7
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|7
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|7
)paren
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|source2
op_add_assign
l_int|8
suffix:semicolon
id|source3
op_add_assign
l_int|8
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|source4
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|4
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source3
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source2
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source1
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|0
)paren
op_xor_assign
op_star
(paren
id|source4
op_plus
l_int|0
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|1
)paren
op_xor_assign
op_star
(paren
id|source4
op_plus
l_int|1
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|2
)paren
op_xor_assign
op_star
(paren
id|source4
op_plus
l_int|2
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|3
)paren
op_xor_assign
op_star
(paren
id|source4
op_plus
l_int|3
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|4
)paren
op_xor_assign
op_star
(paren
id|source4
op_plus
l_int|4
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|5
)paren
op_xor_assign
op_star
(paren
id|source4
op_plus
l_int|5
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|6
)paren
op_xor_assign
op_star
(paren
id|source4
op_plus
l_int|6
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source1
op_plus
l_int|7
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source2
op_plus
l_int|7
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source3
op_plus
l_int|7
)paren
suffix:semicolon
op_star
(paren
id|destp
op_plus
l_int|7
)paren
op_xor_assign
op_star
(paren
id|source4
op_plus
l_int|7
)paren
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|source2
op_add_assign
l_int|8
suffix:semicolon
id|source3
op_add_assign
l_int|8
suffix:semicolon
id|source4
op_add_assign
l_int|8
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * platform independent RAID5 checksum calculation, this should&n; * be very fast on any platform that has a decent amount of&n; * registers. (32 or more)&n; */
id|XORBLOCK_TEMPLATE
c_func
(paren
l_int|32
id|regs
)paren
(brace
r_int
id|size
op_assign
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_size
suffix:semicolon
r_int
id|lines
op_assign
id|size
op_div
(paren
r_sizeof
(paren
r_int
)paren
)paren
op_div
l_int|8
comma
id|i
suffix:semicolon
r_int
op_star
id|destp
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|0
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_int
op_star
id|source1
comma
op_star
id|source2
comma
op_star
id|source3
comma
op_star
id|source4
suffix:semicolon
multiline_comment|/* LOTS of registers available...&n;&t;     We do explicite loop-unrolling here for code which&n;&t;     favours RISC machines.  In fact this is almoast direct&n;&t;     RISC assembly on Alpha and SPARC :-)  */
r_switch
c_cond
(paren
id|count
)paren
(brace
r_case
l_int|2
suffix:colon
id|source1
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
r_register
r_int
id|d0
comma
id|d1
comma
id|d2
comma
id|d3
comma
id|d4
comma
id|d5
comma
id|d6
comma
id|d7
suffix:semicolon
id|d0
op_assign
id|destp
(braket
l_int|0
)braket
suffix:semicolon
multiline_comment|/* Pull the stuff into registers&t;*/
id|d1
op_assign
id|destp
(braket
l_int|1
)braket
suffix:semicolon
multiline_comment|/*  ... in bursts, if possible.&t;&t;*/
id|d2
op_assign
id|destp
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_assign
id|destp
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_assign
id|destp
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_assign
id|destp
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_assign
id|destp
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_assign
id|destp
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source1
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source1
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source1
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source1
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source1
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source1
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source1
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source1
(braket
l_int|7
)braket
suffix:semicolon
id|destp
(braket
l_int|0
)braket
op_assign
id|d0
suffix:semicolon
multiline_comment|/* Store the result (in burts)&t;&t;*/
id|destp
(braket
l_int|1
)braket
op_assign
id|d1
suffix:semicolon
id|destp
(braket
l_int|2
)braket
op_assign
id|d2
suffix:semicolon
id|destp
(braket
l_int|3
)braket
op_assign
id|d3
suffix:semicolon
id|destp
(braket
l_int|4
)braket
op_assign
id|d4
suffix:semicolon
multiline_comment|/* Store the result (in burts)&t;&t;*/
id|destp
(braket
l_int|5
)braket
op_assign
id|d5
suffix:semicolon
id|destp
(braket
l_int|6
)braket
op_assign
id|d6
suffix:semicolon
id|destp
(braket
l_int|7
)braket
op_assign
id|d7
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|3
suffix:colon
id|source2
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source1
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
r_register
r_int
id|d0
comma
id|d1
comma
id|d2
comma
id|d3
comma
id|d4
comma
id|d5
comma
id|d6
comma
id|d7
suffix:semicolon
id|d0
op_assign
id|destp
(braket
l_int|0
)braket
suffix:semicolon
multiline_comment|/* Pull the stuff into registers&t;*/
id|d1
op_assign
id|destp
(braket
l_int|1
)braket
suffix:semicolon
multiline_comment|/*  ... in bursts, if possible.&t;&t;*/
id|d2
op_assign
id|destp
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_assign
id|destp
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_assign
id|destp
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_assign
id|destp
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_assign
id|destp
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_assign
id|destp
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source1
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source1
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source1
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source1
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source1
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source1
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source1
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source1
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source2
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source2
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source2
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source2
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source2
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source2
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source2
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source2
(braket
l_int|7
)braket
suffix:semicolon
id|destp
(braket
l_int|0
)braket
op_assign
id|d0
suffix:semicolon
multiline_comment|/* Store the result (in burts)&t;&t;*/
id|destp
(braket
l_int|1
)braket
op_assign
id|d1
suffix:semicolon
id|destp
(braket
l_int|2
)braket
op_assign
id|d2
suffix:semicolon
id|destp
(braket
l_int|3
)braket
op_assign
id|d3
suffix:semicolon
id|destp
(braket
l_int|4
)braket
op_assign
id|d4
suffix:semicolon
multiline_comment|/* Store the result (in burts)&t;&t;*/
id|destp
(braket
l_int|5
)braket
op_assign
id|d5
suffix:semicolon
id|destp
(braket
l_int|6
)braket
op_assign
id|d6
suffix:semicolon
id|destp
(braket
l_int|7
)braket
op_assign
id|d7
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|source2
op_add_assign
l_int|8
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|4
suffix:colon
id|source3
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source2
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source1
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
r_register
r_int
id|d0
comma
id|d1
comma
id|d2
comma
id|d3
comma
id|d4
comma
id|d5
comma
id|d6
comma
id|d7
suffix:semicolon
id|d0
op_assign
id|destp
(braket
l_int|0
)braket
suffix:semicolon
multiline_comment|/* Pull the stuff into registers&t;*/
id|d1
op_assign
id|destp
(braket
l_int|1
)braket
suffix:semicolon
multiline_comment|/*  ... in bursts, if possible.&t;&t;*/
id|d2
op_assign
id|destp
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_assign
id|destp
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_assign
id|destp
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_assign
id|destp
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_assign
id|destp
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_assign
id|destp
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source1
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source1
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source1
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source1
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source1
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source1
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source1
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source1
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source2
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source2
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source2
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source2
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source2
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source2
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source2
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source2
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source3
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source3
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source3
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source3
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source3
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source3
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source3
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source3
(braket
l_int|7
)braket
suffix:semicolon
id|destp
(braket
l_int|0
)braket
op_assign
id|d0
suffix:semicolon
multiline_comment|/* Store the result (in burts)&t;&t;*/
id|destp
(braket
l_int|1
)braket
op_assign
id|d1
suffix:semicolon
id|destp
(braket
l_int|2
)braket
op_assign
id|d2
suffix:semicolon
id|destp
(braket
l_int|3
)braket
op_assign
id|d3
suffix:semicolon
id|destp
(braket
l_int|4
)braket
op_assign
id|d4
suffix:semicolon
multiline_comment|/* Store the result (in burts)&t;&t;*/
id|destp
(braket
l_int|5
)braket
op_assign
id|d5
suffix:semicolon
id|destp
(braket
l_int|6
)braket
op_assign
id|d6
suffix:semicolon
id|destp
(braket
l_int|7
)braket
op_assign
id|d7
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|source2
op_add_assign
l_int|8
suffix:semicolon
id|source3
op_add_assign
l_int|8
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
r_case
l_int|5
suffix:colon
id|source4
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|4
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source3
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|3
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source2
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|2
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
id|source1
op_assign
(paren
r_int
op_star
)paren
id|bh_ptr
(braket
l_int|1
)braket
op_member_access_from_pointer
id|b_data
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|lines
suffix:semicolon
id|i
OG
l_int|0
suffix:semicolon
id|i
op_decrement
)paren
(brace
r_register
r_int
id|d0
comma
id|d1
comma
id|d2
comma
id|d3
comma
id|d4
comma
id|d5
comma
id|d6
comma
id|d7
suffix:semicolon
id|d0
op_assign
id|destp
(braket
l_int|0
)braket
suffix:semicolon
multiline_comment|/* Pull the stuff into registers&t;*/
id|d1
op_assign
id|destp
(braket
l_int|1
)braket
suffix:semicolon
multiline_comment|/*  ... in bursts, if possible.&t;&t;*/
id|d2
op_assign
id|destp
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_assign
id|destp
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_assign
id|destp
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_assign
id|destp
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_assign
id|destp
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_assign
id|destp
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source1
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source1
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source1
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source1
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source1
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source1
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source1
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source1
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source2
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source2
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source2
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source2
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source2
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source2
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source2
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source2
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source3
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source3
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source3
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source3
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source3
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source3
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source3
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source3
(braket
l_int|7
)braket
suffix:semicolon
id|d0
op_xor_assign
id|source4
(braket
l_int|0
)braket
suffix:semicolon
id|d1
op_xor_assign
id|source4
(braket
l_int|1
)braket
suffix:semicolon
id|d2
op_xor_assign
id|source4
(braket
l_int|2
)braket
suffix:semicolon
id|d3
op_xor_assign
id|source4
(braket
l_int|3
)braket
suffix:semicolon
id|d4
op_xor_assign
id|source4
(braket
l_int|4
)braket
suffix:semicolon
id|d5
op_xor_assign
id|source4
(braket
l_int|5
)braket
suffix:semicolon
id|d6
op_xor_assign
id|source4
(braket
l_int|6
)braket
suffix:semicolon
id|d7
op_xor_assign
id|source4
(braket
l_int|7
)braket
suffix:semicolon
id|destp
(braket
l_int|0
)braket
op_assign
id|d0
suffix:semicolon
multiline_comment|/* Store the result (in burts)&t;&t;*/
id|destp
(braket
l_int|1
)braket
op_assign
id|d1
suffix:semicolon
id|destp
(braket
l_int|2
)braket
op_assign
id|d2
suffix:semicolon
id|destp
(braket
l_int|3
)braket
op_assign
id|d3
suffix:semicolon
id|destp
(braket
l_int|4
)braket
op_assign
id|d4
suffix:semicolon
multiline_comment|/* Store the result (in burts)&t;&t;*/
id|destp
(braket
l_int|5
)braket
op_assign
id|d5
suffix:semicolon
id|destp
(braket
l_int|6
)braket
op_assign
id|d6
suffix:semicolon
id|destp
(braket
l_int|7
)braket
op_assign
id|d7
suffix:semicolon
id|source1
op_add_assign
l_int|8
suffix:semicolon
id|source2
op_add_assign
l_int|8
suffix:semicolon
id|source3
op_add_assign
l_int|8
suffix:semicolon
id|source4
op_add_assign
l_int|8
suffix:semicolon
id|destp
op_add_assign
l_int|8
suffix:semicolon
)brace
r_break
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * (the -6*32 shift factor colors the cache)&n; */
DECL|macro|SIZE
mdefine_line|#define SIZE (PAGE_SIZE-6*32)
DECL|function|xor_speed
r_static
r_void
id|xor_speed
(paren
r_struct
id|xor_block_template
op_star
id|func
comma
r_struct
id|buffer_head
op_star
id|b1
comma
r_struct
id|buffer_head
op_star
id|b2
)paren
(brace
r_int
id|speed
suffix:semicolon
r_int
r_int
id|now
suffix:semicolon
r_int
id|i
comma
id|count
comma
id|max
suffix:semicolon
r_struct
id|buffer_head
op_star
id|bh_ptr
(braket
l_int|6
)braket
suffix:semicolon
id|func-&gt;next
op_assign
id|xor_functions
suffix:semicolon
id|xor_functions
op_assign
id|func
suffix:semicolon
id|bh_ptr
(braket
l_int|0
)braket
op_assign
id|b1
suffix:semicolon
id|bh_ptr
(braket
l_int|1
)braket
op_assign
id|b2
suffix:semicolon
multiline_comment|/*&n;&t; * count the number of XORs done during a whole jiffy.&n;&t; * calculate the speed of checksumming from this.&n;&t; * (we use a 2-page allocation to have guaranteed&n;&t; * color L1-cache layout)&n;&t; */
id|max
op_assign
l_int|0
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|5
suffix:semicolon
id|i
op_increment
)paren
(brace
id|now
op_assign
id|jiffies
suffix:semicolon
id|count
op_assign
l_int|0
suffix:semicolon
r_while
c_loop
(paren
id|jiffies
op_eq
id|now
)paren
(brace
id|mb
c_func
(paren
)paren
suffix:semicolon
id|func
op_member_access_from_pointer
id|xor_block
c_func
(paren
l_int|2
comma
id|bh_ptr
)paren
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
id|count
op_increment
suffix:semicolon
id|mb
c_func
(paren
)paren
suffix:semicolon
)brace
r_if
c_cond
(paren
id|count
OG
id|max
)paren
id|max
op_assign
id|count
suffix:semicolon
)brace
id|speed
op_assign
id|max
op_star
(paren
id|HZ
op_star
id|SIZE
op_div
l_int|1024
)paren
suffix:semicolon
id|func-&gt;speed
op_assign
id|speed
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;   %-10s: %5d.%03d MB/sec&bslash;n&quot;
comma
id|func-&gt;name
comma
id|speed
op_div
l_int|1000
comma
id|speed
op_mod
l_int|1000
)paren
suffix:semicolon
)brace
DECL|function|pick_fastest_function
r_static
r_inline
r_void
id|pick_fastest_function
c_func
(paren
r_void
)paren
(brace
r_struct
id|xor_block_template
op_star
id|f
comma
op_star
id|fastest
suffix:semicolon
id|fastest
op_assign
id|xor_functions
suffix:semicolon
r_for
c_loop
(paren
id|f
op_assign
id|fastest
suffix:semicolon
id|f
suffix:semicolon
id|f
op_assign
id|f-&gt;next
)paren
(brace
r_if
c_cond
(paren
id|f-&gt;speed
OG
id|fastest-&gt;speed
)paren
id|fastest
op_assign
id|f
suffix:semicolon
)brace
macro_line|#ifdef CONFIG_X86_XMM 
r_if
c_cond
(paren
id|cpu_has_xmm
)paren
(brace
id|fastest
op_assign
op_amp
id|t_xor_block_pIII_kni
suffix:semicolon
)brace
macro_line|#endif
id|xor_block
op_assign
id|fastest-&gt;xor_block
suffix:semicolon
id|printk
c_func
(paren
l_string|&quot;using fastest function: %s (%d.%03d MB/sec)&bslash;n&quot;
comma
id|fastest-&gt;name
comma
id|fastest-&gt;speed
op_div
l_int|1000
comma
id|fastest-&gt;speed
op_mod
l_int|1000
)paren
suffix:semicolon
)brace
DECL|variable|b1
DECL|variable|b2
r_static
r_struct
id|buffer_head
id|b1
comma
id|b2
suffix:semicolon
DECL|function|calibrate_xor_block
r_void
id|calibrate_xor_block
c_func
(paren
r_void
)paren
(brace
id|memset
c_func
(paren
op_amp
id|b1
comma
l_int|0
comma
r_sizeof
(paren
id|b1
)paren
)paren
suffix:semicolon
id|b2
op_assign
id|b1
suffix:semicolon
id|b1.b_data
op_assign
(paren
r_char
op_star
)paren
id|md__get_free_pages
c_func
(paren
id|GFP_KERNEL
comma
l_int|2
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|b1.b_data
)paren
(brace
id|pick_fastest_function
c_func
(paren
)paren
suffix:semicolon
r_return
suffix:semicolon
)brace
id|b2.b_data
op_assign
id|b1.b_data
op_plus
l_int|2
op_star
id|PAGE_SIZE
op_plus
id|SIZE
suffix:semicolon
id|b1.b_size
op_assign
id|SIZE
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;raid5: measuring checksumming speed&bslash;n&quot;
)paren
suffix:semicolon
id|sti
c_func
(paren
)paren
suffix:semicolon
multiline_comment|/* should be safe */
macro_line|#if defined(__sparc__) &amp;&amp; !defined(__sparc_v9__)
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;raid5: trying high-speed SPARC checksum routine&bslash;n&quot;
)paren
suffix:semicolon
id|xor_speed
c_func
(paren
op_amp
id|t_xor_block_SPARC
comma
op_amp
id|b1
comma
op_amp
id|b2
)paren
suffix:semicolon
macro_line|#endif
macro_line|#ifdef CONFIG_X86_XMM 
r_if
c_cond
(paren
id|cpu_has_xmm
)paren
(brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;raid5: KNI detected, trying cache-avoiding KNI checksum routine&bslash;n&quot;
)paren
suffix:semicolon
multiline_comment|/* we force the use of the KNI xor block because it&n;&t;&t;&t;can write around l2.  we may also be able&n;&t;&t;&t;to load into the l1 only depending on how&n;&t;&t;&t;the cpu deals with a load to a line that is&n;&t;&t;&t;being prefetched.&n;&t;&t;*/
id|xor_speed
c_func
(paren
op_amp
id|t_xor_block_pIII_kni
comma
op_amp
id|b1
comma
op_amp
id|b2
)paren
suffix:semicolon
)brace
macro_line|#endif /* CONFIG_X86_XMM */
macro_line|#ifdef __i386__
r_if
c_cond
(paren
id|md_cpu_has_mmx
c_func
(paren
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;raid5: MMX detected, trying high-speed MMX checksum routines&bslash;n&quot;
)paren
suffix:semicolon
id|xor_speed
c_func
(paren
op_amp
id|t_xor_block_pII_mmx
comma
op_amp
id|b1
comma
op_amp
id|b2
)paren
suffix:semicolon
id|xor_speed
c_func
(paren
op_amp
id|t_xor_block_p5_mmx
comma
op_amp
id|b1
comma
op_amp
id|b2
)paren
suffix:semicolon
)brace
macro_line|#endif /* __i386__ */
id|xor_speed
c_func
(paren
op_amp
id|t_xor_block_8regs
comma
op_amp
id|b1
comma
op_amp
id|b2
)paren
suffix:semicolon
id|xor_speed
c_func
(paren
op_amp
id|t_xor_block_32regs
comma
op_amp
id|b1
comma
op_amp
id|b2
)paren
suffix:semicolon
id|free_pages
c_func
(paren
(paren
r_int
r_int
)paren
id|b1.b_data
comma
l_int|2
)paren
suffix:semicolon
id|pick_fastest_function
c_func
(paren
)paren
suffix:semicolon
)brace
macro_line|#else /* __sparc_v9__ */
DECL|function|calibrate_xor_block
r_void
id|calibrate_xor_block
c_func
(paren
r_void
)paren
(brace
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;raid5: using high-speed VIS checksum routine&bslash;n&quot;
)paren
suffix:semicolon
id|xor_block
op_assign
id|xor_block_VIS
suffix:semicolon
)brace
macro_line|#endif /* __sparc_v9__ */
DECL|variable|xor_block
id|MD_EXPORT_SYMBOL
c_func
(paren
id|xor_block
)paren
suffix:semicolon
eof
