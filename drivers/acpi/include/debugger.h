multiline_comment|/******************************************************************************&n; *&n; * Name: debugger.h - ACPI/AML debugger&n; *&n; *****************************************************************************/
multiline_comment|/*&n; *  Copyright (C) 2000 R. Byron Moore&n; *&n; *  This program is free software; you can redistribute it and/or modify&n; *  it under the terms of the GNU General Public License as published by&n; *  the Free Software Foundation; either version 2 of the License, or&n; *  (at your option) any later version.&n; *&n; *  This program is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA&n; */
macro_line|#ifndef __DEBUGGER_H__
DECL|macro|__DEBUGGER_H__
mdefine_line|#define __DEBUGGER_H__
DECL|macro|DB_MAX_ARGS
mdefine_line|#define DB_MAX_ARGS             8  /* Must be max method args + 1 */
DECL|macro|DB_COMMAND_PROMPT
mdefine_line|#define DB_COMMAND_PROMPT      &squot;-&squot;
DECL|macro|DB_EXECUTE_PROMPT
mdefine_line|#define DB_EXECUTE_PROMPT      &squot;%&squot;
r_extern
r_int
id|optind
suffix:semicolon
r_extern
r_char
op_star
id|optarg
suffix:semicolon
r_extern
id|u8
op_star
id|aml_ptr
suffix:semicolon
r_extern
id|u32
id|acpi_aml_length
suffix:semicolon
r_extern
id|u8
id|opt_tables
suffix:semicolon
r_extern
id|u8
id|opt_disasm
suffix:semicolon
r_extern
id|u8
id|opt_stats
suffix:semicolon
r_extern
id|u8
id|opt_parse_jit
suffix:semicolon
r_extern
id|u8
id|opt_verbose
suffix:semicolon
r_extern
r_char
op_star
id|args
(braket
id|DB_MAX_ARGS
)braket
suffix:semicolon
r_extern
r_char
id|line_buf
(braket
l_int|80
)braket
suffix:semicolon
r_extern
r_char
id|scope_buf
(braket
l_int|40
)braket
suffix:semicolon
r_extern
r_char
id|debug_filename
(braket
l_int|40
)braket
suffix:semicolon
r_extern
id|u8
id|output_to_file
suffix:semicolon
r_extern
r_char
op_star
id|buffer
suffix:semicolon
r_extern
r_char
op_star
id|filename
suffix:semicolon
r_extern
r_char
op_star
id|INDENT_STRING
suffix:semicolon
r_extern
id|u32
id|acpi_gbl_method_breakpoint
suffix:semicolon
r_extern
id|u8
id|acpi_gbl_db_output_flags
suffix:semicolon
r_extern
id|u32
id|acpi_gbl_db_debug_level
suffix:semicolon
r_extern
id|u32
id|acpi_gbl_db_console_debug_level
suffix:semicolon
r_extern
id|u32
id|num_names
suffix:semicolon
r_extern
id|u32
id|num_methods
suffix:semicolon
r_extern
id|u32
id|num_regions
suffix:semicolon
r_extern
id|u32
id|num_packages
suffix:semicolon
r_extern
id|u32
id|num_aliases
suffix:semicolon
r_extern
id|u32
id|num_devices
suffix:semicolon
r_extern
id|u32
id|num_field_defs
suffix:semicolon
r_extern
id|u32
id|num_thermal_zones
suffix:semicolon
r_extern
id|u32
id|num_named_objects
suffix:semicolon
r_extern
id|u32
id|num_grammar_elements
suffix:semicolon
r_extern
id|u32
id|num_method_elements
suffix:semicolon
r_extern
id|u32
id|num_mutexes
suffix:semicolon
r_extern
id|u32
id|num_power_resources
suffix:semicolon
r_extern
id|u32
id|num_bank_fields
suffix:semicolon
r_extern
id|u32
id|num_index_fields
suffix:semicolon
r_extern
id|u32
id|num_events
suffix:semicolon
r_extern
id|u32
id|size_of_parse_tree
suffix:semicolon
r_extern
id|u32
id|size_of_method_trees
suffix:semicolon
r_extern
id|u32
id|size_of_nTes
suffix:semicolon
r_extern
id|u32
id|size_of_acpi_objects
suffix:semicolon
DECL|macro|BUFFER_SIZE
mdefine_line|#define BUFFER_SIZE             4196
DECL|macro|DB_REDIRECTABLE_OUTPUT
mdefine_line|#define DB_REDIRECTABLE_OUTPUT  0x01
DECL|macro|DB_CONSOLE_OUTPUT
mdefine_line|#define DB_CONSOLE_OUTPUT       0x02
DECL|macro|DB_DUPLICATE_OUTPUT
mdefine_line|#define DB_DUPLICATE_OUTPUT     0x03
DECL|struct|command_info
r_typedef
r_struct
id|command_info
(brace
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
multiline_comment|/* Command Name */
DECL|member|min_args
r_char
id|min_args
suffix:semicolon
multiline_comment|/* Minimum arguments required */
DECL|typedef|COMMAND_INFO
)brace
id|COMMAND_INFO
suffix:semicolon
DECL|struct|argument_info
r_typedef
r_struct
id|argument_info
(brace
DECL|member|name
r_char
op_star
id|name
suffix:semicolon
multiline_comment|/* Argument Name */
DECL|typedef|ARGUMENT_INFO
)brace
id|ARGUMENT_INFO
suffix:semicolon
DECL|macro|PARAM_LIST
mdefine_line|#define PARAM_LIST(pl)                  pl
DECL|macro|DBTEST_OUTPUT_LEVEL
mdefine_line|#define DBTEST_OUTPUT_LEVEL(lvl)        if (opt_verbose)
DECL|macro|VERBOSE_PRINT
mdefine_line|#define VERBOSE_PRINT(fp)               DBTEST_OUTPUT_LEVEL(lvl) {&bslash;&n;&t;&t;&t;  acpi_os_printf PARAM_LIST(fp);}
DECL|macro|EX_NO_SINGLE_STEP
mdefine_line|#define EX_NO_SINGLE_STEP       1
DECL|macro|EX_SINGLE_STEP
mdefine_line|#define EX_SINGLE_STEP          2
multiline_comment|/* Prototypes */
multiline_comment|/*&n; * dbapi - external debugger interfaces&n; */
r_int
id|acpi_db_initialize
(paren
r_void
)paren
suffix:semicolon
id|ACPI_STATUS
id|acpi_db_single_step
(paren
id|ACPI_WALK_STATE
op_star
id|walk_state
comma
id|ACPI_GENERIC_OP
op_star
id|op
comma
id|u8
id|op_type
)paren
suffix:semicolon
multiline_comment|/*&n; * dbcmds - debug commands and output routines&n; */
r_void
id|acpi_db_display_table_info
(paren
r_char
op_star
id|table_arg
)paren
suffix:semicolon
r_void
id|acpi_db_unload_acpi_table
(paren
r_char
op_star
id|table_arg
comma
r_char
op_star
id|instance_arg
)paren
suffix:semicolon
r_void
id|acpi_db_set_method_breakpoint
(paren
r_char
op_star
id|location
comma
id|ACPI_WALK_STATE
op_star
id|walk_state
comma
id|ACPI_GENERIC_OP
op_star
id|op
)paren
suffix:semicolon
r_void
id|acpi_db_set_method_call_breakpoint
(paren
id|ACPI_GENERIC_OP
op_star
id|op
)paren
suffix:semicolon
r_void
id|acpi_db_disassemble_aml
(paren
r_char
op_star
id|statements
comma
id|ACPI_GENERIC_OP
op_star
id|op
)paren
suffix:semicolon
r_void
id|acpi_db_dump_namespace
(paren
r_char
op_star
id|start_arg
comma
r_char
op_star
id|depth_arg
)paren
suffix:semicolon
r_void
id|acpi_db_dump_namespace_by_owner
(paren
r_char
op_star
id|owner_arg
comma
r_char
op_star
id|depth_arg
)paren
suffix:semicolon
r_void
id|acpi_db_send_notify
(paren
r_char
op_star
id|name
comma
id|u32
id|value
)paren
suffix:semicolon
r_void
id|acpi_db_set_method_data
(paren
r_char
op_star
id|type_arg
comma
r_char
op_star
id|index_arg
comma
r_char
op_star
id|value_arg
)paren
suffix:semicolon
id|ACPI_STATUS
id|acpi_db_display_objects
(paren
r_char
op_star
id|obj_type_arg
comma
r_char
op_star
id|display_count_arg
)paren
suffix:semicolon
id|ACPI_STATUS
id|acpi_db_find_name_in_namespace
(paren
r_char
op_star
id|name_arg
)paren
suffix:semicolon
r_void
id|acpi_db_set_scope
(paren
r_char
op_star
id|name
)paren
suffix:semicolon
r_void
id|acpi_db_find_references
(paren
r_char
op_star
id|object_arg
)paren
suffix:semicolon
multiline_comment|/*&n; * dbdisasm - AML disassembler&n; */
r_void
id|acpi_db_display_op
(paren
id|ACPI_GENERIC_OP
op_star
id|origin
comma
id|u32
id|num_opcodes
)paren
suffix:semicolon
r_void
id|acpi_db_display_namestring
(paren
r_char
op_star
id|name
)paren
suffix:semicolon
r_void
id|acpi_db_display_path
(paren
id|ACPI_GENERIC_OP
op_star
id|op
)paren
suffix:semicolon
r_void
id|acpi_db_display_opcode
(paren
id|ACPI_GENERIC_OP
op_star
id|op
)paren
suffix:semicolon
multiline_comment|/*&n; * dbdisply - debug display commands&n; */
r_void
id|acpi_db_display_method_info
(paren
id|ACPI_GENERIC_OP
op_star
id|op
)paren
suffix:semicolon
r_void
id|acpi_db_decode_and_display_object
(paren
r_char
op_star
id|target
comma
r_char
op_star
id|output_type
)paren
suffix:semicolon
r_void
id|acpi_db_display_result_object
(paren
id|ACPI_OBJECT_INTERNAL
op_star
id|ret_desc
)paren
suffix:semicolon
id|ACPI_STATUS
id|acpi_db_display_all_methods
(paren
r_char
op_star
id|display_count_arg
)paren
suffix:semicolon
r_void
id|acpi_db_display_internal_object
(paren
id|ACPI_OBJECT_INTERNAL
op_star
id|obj_desc
)paren
suffix:semicolon
r_void
id|acpi_db_display_arguments
(paren
r_void
)paren
suffix:semicolon
r_void
id|acpi_db_display_locals
(paren
r_void
)paren
suffix:semicolon
r_void
id|acpi_db_display_results
(paren
r_void
)paren
suffix:semicolon
r_void
id|acpi_db_display_calling_tree
(paren
r_void
)paren
suffix:semicolon
r_void
id|acpi_db_display_argument_object
(paren
id|ACPI_OBJECT_INTERNAL
op_star
id|obj_desc
)paren
suffix:semicolon
multiline_comment|/*&n; * dbexec - debugger control method execution&n; */
r_void
id|acpi_db_execute
(paren
r_char
op_star
id|name
comma
r_char
op_star
op_star
id|args
comma
id|u32
id|flags
)paren
suffix:semicolon
r_void
id|acpi_db_create_execution_threads
(paren
r_char
op_star
id|num_threads_arg
comma
r_char
op_star
id|num_loops_arg
comma
r_char
op_star
id|method_name_arg
)paren
suffix:semicolon
multiline_comment|/*&n; * dbfileio - Debugger file I/O commands&n; */
id|OBJECT_TYPE_INTERNAL
id|acpi_db_match_argument
(paren
r_char
op_star
id|user_argument
comma
id|ARGUMENT_INFO
op_star
id|arguments
)paren
suffix:semicolon
r_void
id|acpi_db_close_debug_file
(paren
r_void
)paren
suffix:semicolon
r_void
id|acpi_db_open_debug_file
(paren
r_char
op_star
id|name
)paren
suffix:semicolon
id|ACPI_STATUS
id|acpi_db_load_acpi_table
(paren
r_char
op_star
id|filename
)paren
suffix:semicolon
multiline_comment|/*&n; * dbhistry - debugger HISTORY command&n; */
r_void
id|acpi_db_add_to_history
(paren
r_char
op_star
id|command_line
)paren
suffix:semicolon
r_void
id|acpi_db_display_history
(paren
r_void
)paren
suffix:semicolon
r_char
op_star
id|acpi_db_get_from_history
(paren
r_char
op_star
id|command_num_arg
)paren
suffix:semicolon
multiline_comment|/*&n; * dbinput - user front-end to the AML debugger&n; */
id|ACPI_STATUS
id|acpi_db_command_dispatch
(paren
r_char
op_star
id|input_buffer
comma
id|ACPI_WALK_STATE
op_star
id|walk_state
comma
id|ACPI_GENERIC_OP
op_star
id|op
)paren
suffix:semicolon
r_void
id|acpi_db_execute_thread
(paren
r_void
op_star
id|context
)paren
suffix:semicolon
id|ACPI_STATUS
id|acpi_db_user_commands
(paren
r_char
id|prompt
comma
id|ACPI_GENERIC_OP
op_star
id|op
)paren
suffix:semicolon
multiline_comment|/*&n; * dbstats - Generation and display of ACPI table statistics&n; */
r_void
id|acpi_db_generate_statistics
(paren
id|ACPI_GENERIC_OP
op_star
id|root
comma
id|u8
id|is_method
)paren
suffix:semicolon
id|ACPI_STATUS
id|acpi_db_display_statistics
(paren
r_char
op_star
id|type_arg
)paren
suffix:semicolon
multiline_comment|/*&n; * dbutils - AML debugger utilities&n; */
r_void
id|acpi_db_set_output_destination
(paren
id|s32
id|where
)paren
suffix:semicolon
r_void
id|acpi_db_dump_buffer
(paren
id|u32
id|address
)paren
suffix:semicolon
r_void
id|acpi_db_dump_object
(paren
id|ACPI_OBJECT
op_star
id|obj_desc
comma
id|u32
id|level
)paren
suffix:semicolon
r_void
id|acpi_db_prep_namestring
(paren
r_char
op_star
id|name
)paren
suffix:semicolon
id|ACPI_STATUS
id|acpi_db_second_pass_parse
(paren
id|ACPI_GENERIC_OP
op_star
id|root
)paren
suffix:semicolon
id|ACPI_NAMED_OBJECT
op_star
id|acpi_db_local_ns_lookup
(paren
r_char
op_star
id|name
)paren
suffix:semicolon
macro_line|#endif  /* __DEBUGGER_H__ */
eof
