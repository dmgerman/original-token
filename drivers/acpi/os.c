multiline_comment|/*&n; *  os.c - OS-dependent functions&n; *&n; *  Copyright (C) 2000 Andrew Henroid&n; *&n; *  This program is free software; you can redistribute it and/or modify&n; *  it under the terms of the GNU General Public License as published by&n; *  the Free Software Foundation; either version 2 of the License, or&n; *  (at your option) any later version.&n; *&n; *  This program is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/slab.h&gt;
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/acpi.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/delay.h&gt;
macro_line|#include &quot;acpi.h&quot;
macro_line|#include &quot;driver.h&quot;
DECL|macro|_COMPONENT
mdefine_line|#define _COMPONENT&t;OS_DEPENDENT
id|MODULE_NAME
(paren
l_string|&quot;os&quot;
)paren
DECL|variable|acpi_irq_irq
r_static
r_int
id|acpi_irq_irq
op_assign
l_int|0
suffix:semicolon
DECL|variable|acpi_irq_handler
r_static
id|OSD_HANDLER
id|acpi_irq_handler
op_assign
l_int|NULL
suffix:semicolon
DECL|variable|acpi_irq_context
r_static
r_void
op_star
id|acpi_irq_context
op_assign
l_int|NULL
suffix:semicolon
macro_line|#ifdef ENABLE_DEBUGGER
macro_line|#include &lt;linux/kdb.h&gt;
multiline_comment|/* stuff for debugger support */
DECL|variable|acpi_in_debugger
r_int
id|acpi_in_debugger
op_assign
l_int|0
suffix:semicolon
r_extern
id|NATIVE_CHAR
id|line_buf
(braket
l_int|80
)braket
suffix:semicolon
macro_line|#endif
id|ACPI_STATUS
DECL|function|acpi_os_initialize
id|acpi_os_initialize
c_func
(paren
r_void
)paren
(brace
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_terminate
id|acpi_os_terminate
c_func
(paren
r_void
)paren
(brace
r_if
c_cond
(paren
id|acpi_irq_handler
)paren
(brace
id|acpi_os_remove_interrupt_handler
c_func
(paren
id|acpi_irq_irq
comma
id|acpi_irq_handler
)paren
suffix:semicolon
)brace
r_return
id|AE_OK
suffix:semicolon
)brace
id|s32
DECL|function|acpi_os_printf
id|acpi_os_printf
c_func
(paren
r_const
id|NATIVE_CHAR
op_star
id|fmt
comma
dot
dot
dot
)paren
(brace
id|s32
id|size
suffix:semicolon
id|va_list
id|args
suffix:semicolon
id|va_start
c_func
(paren
id|args
comma
id|fmt
)paren
suffix:semicolon
id|size
op_assign
id|acpi_os_vprintf
c_func
(paren
id|fmt
comma
id|args
)paren
suffix:semicolon
id|va_end
c_func
(paren
id|args
)paren
suffix:semicolon
r_return
id|size
suffix:semicolon
)brace
id|s32
DECL|function|acpi_os_vprintf
id|acpi_os_vprintf
c_func
(paren
r_const
id|NATIVE_CHAR
op_star
id|fmt
comma
id|va_list
id|args
)paren
(brace
r_static
r_char
id|buffer
(braket
l_int|512
)braket
suffix:semicolon
r_int
id|size
op_assign
id|vsprintf
c_func
(paren
id|buffer
comma
id|fmt
comma
id|args
)paren
suffix:semicolon
macro_line|#ifdef ENABLE_DEBUGGER
r_if
c_cond
(paren
id|acpi_in_debugger
)paren
(brace
id|kdb_printf
c_func
(paren
l_string|&quot;%s&quot;
comma
id|buffer
)paren
suffix:semicolon
)brace
r_else
(brace
id|printk
c_func
(paren
l_string|&quot;%s&quot;
comma
id|buffer
)paren
suffix:semicolon
)brace
macro_line|#else
id|printk
c_func
(paren
l_string|&quot;%s&quot;
comma
id|buffer
)paren
suffix:semicolon
macro_line|#endif
r_return
id|size
suffix:semicolon
)brace
r_void
op_star
DECL|function|acpi_os_allocate
id|acpi_os_allocate
c_func
(paren
id|u32
id|size
)paren
(brace
r_return
id|kmalloc
c_func
(paren
id|size
comma
id|GFP_KERNEL
)paren
suffix:semicolon
)brace
r_void
op_star
DECL|function|acpi_os_callocate
id|acpi_os_callocate
c_func
(paren
id|u32
id|size
)paren
(brace
r_void
op_star
id|ptr
op_assign
id|acpi_os_allocate
c_func
(paren
id|size
)paren
suffix:semicolon
r_if
c_cond
(paren
id|ptr
)paren
id|memset
c_func
(paren
id|ptr
comma
l_int|0
comma
id|size
)paren
suffix:semicolon
r_return
id|ptr
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_free
id|acpi_os_free
c_func
(paren
r_void
op_star
id|ptr
)paren
(brace
id|kfree
c_func
(paren
id|ptr
)paren
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_map_memory
id|acpi_os_map_memory
c_func
(paren
id|ACPI_PHYSICAL_ADDRESS
id|phys
comma
id|u32
id|size
comma
r_void
op_star
op_star
id|virt
)paren
(brace
r_if
c_cond
(paren
id|phys
OG
id|ULONG_MAX
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot;ACPI: Cannot map memory that high&bslash;n&quot;
)paren
suffix:semicolon
r_return
id|AE_ERROR
suffix:semicolon
)brace
r_if
c_cond
(paren
(paren
r_int
r_int
)paren
id|phys
OL
id|virt_to_phys
c_func
(paren
id|high_memory
)paren
)paren
(brace
op_star
id|virt
op_assign
id|phys_to_virt
c_func
(paren
(paren
r_int
r_int
)paren
id|phys
)paren
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
op_star
id|virt
op_assign
id|ioremap
c_func
(paren
(paren
r_int
r_int
)paren
id|phys
comma
id|size
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
op_star
id|virt
)paren
r_return
id|AE_ERROR
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_unmap_memory
id|acpi_os_unmap_memory
c_func
(paren
r_void
op_star
id|virt
comma
id|u32
id|size
)paren
(brace
r_if
c_cond
(paren
id|virt
op_ge
id|high_memory
)paren
id|iounmap
c_func
(paren
id|virt
)paren
suffix:semicolon
)brace
r_static
r_void
DECL|function|acpi_irq
id|acpi_irq
c_func
(paren
r_int
id|irq
comma
r_void
op_star
id|dev_id
comma
r_struct
id|pt_regs
op_star
id|regs
)paren
(brace
(paren
op_star
id|acpi_irq_handler
)paren
(paren
id|acpi_irq_context
)paren
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_install_interrupt_handler
id|acpi_os_install_interrupt_handler
c_func
(paren
id|u32
id|irq
comma
id|OSD_HANDLER
id|handler
comma
r_void
op_star
id|context
)paren
(brace
id|acpi_irq_irq
op_assign
id|irq
suffix:semicolon
id|acpi_irq_handler
op_assign
id|handler
suffix:semicolon
id|acpi_irq_context
op_assign
id|context
suffix:semicolon
r_if
c_cond
(paren
id|request_irq
c_func
(paren
id|irq
comma
id|acpi_irq
comma
id|SA_SHIRQ
comma
l_string|&quot;acpi&quot;
comma
id|acpi_irq
)paren
)paren
(brace
id|printk
c_func
(paren
id|KERN_ERR
l_string|&quot;ACPI: SCI (IRQ%d) allocation failed&bslash;n&quot;
comma
id|irq
)paren
suffix:semicolon
r_return
id|AE_ERROR
suffix:semicolon
)brace
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_remove_interrupt_handler
id|acpi_os_remove_interrupt_handler
c_func
(paren
id|u32
id|irq
comma
id|OSD_HANDLER
id|handler
)paren
(brace
r_if
c_cond
(paren
id|acpi_irq_handler
)paren
(brace
id|free_irq
c_func
(paren
id|irq
comma
id|acpi_irq
)paren
suffix:semicolon
id|acpi_irq_handler
op_assign
l_int|NULL
suffix:semicolon
)brace
r_return
id|AE_OK
suffix:semicolon
)brace
multiline_comment|/*&n; * Running in interpreter thread context, safe to sleep&n; */
r_void
DECL|function|acpi_os_sleep
id|acpi_os_sleep
c_func
(paren
id|u32
id|sec
comma
id|u32
id|ms
)paren
(brace
id|current-&gt;state
op_assign
id|TASK_INTERRUPTIBLE
suffix:semicolon
id|schedule_timeout
c_func
(paren
id|HZ
op_star
id|sec
op_plus
(paren
id|ms
op_star
id|HZ
)paren
op_div
l_int|1000
)paren
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_sleep_usec
id|acpi_os_sleep_usec
c_func
(paren
id|u32
id|us
)paren
(brace
id|udelay
c_func
(paren
id|us
)paren
suffix:semicolon
)brace
id|u8
DECL|function|acpi_os_in8
id|acpi_os_in8
c_func
(paren
id|ACPI_IO_ADDRESS
id|port
)paren
(brace
r_return
id|inb
c_func
(paren
id|port
)paren
suffix:semicolon
)brace
id|u16
DECL|function|acpi_os_in16
id|acpi_os_in16
c_func
(paren
id|ACPI_IO_ADDRESS
id|port
)paren
(brace
r_return
id|inw
c_func
(paren
id|port
)paren
suffix:semicolon
)brace
id|u32
DECL|function|acpi_os_in32
id|acpi_os_in32
c_func
(paren
id|ACPI_IO_ADDRESS
id|port
)paren
(brace
r_return
id|inl
c_func
(paren
id|port
)paren
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_out8
id|acpi_os_out8
c_func
(paren
id|ACPI_IO_ADDRESS
id|port
comma
id|u8
id|val
)paren
(brace
id|outb
c_func
(paren
id|val
comma
id|port
)paren
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_out16
id|acpi_os_out16
c_func
(paren
id|ACPI_IO_ADDRESS
id|port
comma
id|u16
id|val
)paren
(brace
id|outw
c_func
(paren
id|val
comma
id|port
)paren
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_out32
id|acpi_os_out32
c_func
(paren
id|ACPI_IO_ADDRESS
id|port
comma
id|u32
id|val
)paren
(brace
id|outl
c_func
(paren
id|val
comma
id|port
)paren
suffix:semicolon
)brace
id|UINT8
DECL|function|acpi_os_mem_in8
id|acpi_os_mem_in8
(paren
id|ACPI_PHYSICAL_ADDRESS
id|phys_addr
)paren
(brace
r_return
(paren
op_star
(paren
id|u8
op_star
)paren
(paren
id|u32
)paren
id|phys_addr
)paren
suffix:semicolon
)brace
id|UINT16
DECL|function|acpi_os_mem_in16
id|acpi_os_mem_in16
(paren
id|ACPI_PHYSICAL_ADDRESS
id|phys_addr
)paren
(brace
r_return
(paren
op_star
(paren
id|u16
op_star
)paren
(paren
id|u32
)paren
id|phys_addr
)paren
suffix:semicolon
)brace
id|UINT32
DECL|function|acpi_os_mem_in32
id|acpi_os_mem_in32
(paren
id|ACPI_PHYSICAL_ADDRESS
id|phys_addr
)paren
(brace
r_return
(paren
op_star
(paren
id|u32
op_star
)paren
(paren
id|u32
)paren
id|phys_addr
)paren
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_mem_out8
id|acpi_os_mem_out8
(paren
id|ACPI_PHYSICAL_ADDRESS
id|phys_addr
comma
id|UINT8
id|value
)paren
(brace
op_star
(paren
id|u8
op_star
)paren
(paren
id|u32
)paren
id|phys_addr
op_assign
id|value
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_mem_out16
id|acpi_os_mem_out16
(paren
id|ACPI_PHYSICAL_ADDRESS
id|phys_addr
comma
id|UINT16
id|value
)paren
(brace
op_star
(paren
id|u16
op_star
)paren
(paren
id|u32
)paren
id|phys_addr
op_assign
id|value
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_mem_out32
id|acpi_os_mem_out32
(paren
id|ACPI_PHYSICAL_ADDRESS
id|phys_addr
comma
id|UINT32
id|value
)paren
(brace
op_star
(paren
id|u32
op_star
)paren
(paren
id|u32
)paren
id|phys_addr
op_assign
id|value
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_read_pci_cfg_byte
id|acpi_os_read_pci_cfg_byte
c_func
(paren
id|u32
id|bus
comma
id|u32
id|func
comma
id|u32
id|addr
comma
id|u8
op_star
id|val
)paren
(brace
r_int
id|devfn
op_assign
id|PCI_DEVFN
c_func
(paren
(paren
id|func
op_rshift
l_int|16
)paren
op_amp
l_int|0xffff
comma
id|func
op_amp
l_int|0xffff
)paren
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
op_assign
id|pci_find_slot
c_func
(paren
id|bus
op_amp
l_int|0xffff
comma
id|devfn
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|val
op_logical_or
op_logical_neg
id|dev
op_logical_or
id|pci_read_config_byte
c_func
(paren
id|dev
comma
id|addr
comma
id|val
)paren
)paren
r_return
id|AE_ERROR
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_read_pci_cfg_word
id|acpi_os_read_pci_cfg_word
c_func
(paren
id|u32
id|bus
comma
id|u32
id|func
comma
id|u32
id|addr
comma
id|u16
op_star
id|val
)paren
(brace
r_int
id|devfn
op_assign
id|PCI_DEVFN
c_func
(paren
(paren
id|func
op_rshift
l_int|16
)paren
op_amp
l_int|0xffff
comma
id|func
op_amp
l_int|0xffff
)paren
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
op_assign
id|pci_find_slot
c_func
(paren
id|bus
op_amp
l_int|0xffff
comma
id|devfn
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|val
op_logical_or
op_logical_neg
id|dev
op_logical_or
id|pci_read_config_word
c_func
(paren
id|dev
comma
id|addr
comma
id|val
)paren
)paren
r_return
id|AE_ERROR
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_read_pci_cfg_dword
id|acpi_os_read_pci_cfg_dword
c_func
(paren
id|u32
id|bus
comma
id|u32
id|func
comma
id|u32
id|addr
comma
id|u32
op_star
id|val
)paren
(brace
r_int
id|devfn
op_assign
id|PCI_DEVFN
c_func
(paren
(paren
id|func
op_rshift
l_int|16
)paren
op_amp
l_int|0xffff
comma
id|func
op_amp
l_int|0xffff
)paren
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
op_assign
id|pci_find_slot
c_func
(paren
id|bus
op_amp
l_int|0xffff
comma
id|devfn
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|val
op_logical_or
op_logical_neg
id|dev
op_logical_or
id|pci_read_config_dword
c_func
(paren
id|dev
comma
id|addr
comma
id|val
)paren
)paren
r_return
id|AE_ERROR
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_write_pci_cfg_byte
id|acpi_os_write_pci_cfg_byte
c_func
(paren
id|u32
id|bus
comma
id|u32
id|func
comma
id|u32
id|addr
comma
id|u8
id|val
)paren
(brace
r_int
id|devfn
op_assign
id|PCI_DEVFN
c_func
(paren
(paren
id|func
op_rshift
l_int|16
)paren
op_amp
l_int|0xffff
comma
id|func
op_amp
l_int|0xffff
)paren
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
op_assign
id|pci_find_slot
c_func
(paren
id|bus
op_amp
l_int|0xffff
comma
id|devfn
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|dev
op_logical_or
id|pci_write_config_byte
c_func
(paren
id|dev
comma
id|addr
comma
id|val
)paren
)paren
r_return
id|AE_ERROR
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_write_pci_cfg_word
id|acpi_os_write_pci_cfg_word
c_func
(paren
id|u32
id|bus
comma
id|u32
id|func
comma
id|u32
id|addr
comma
id|u16
id|val
)paren
(brace
r_int
id|devfn
op_assign
id|PCI_DEVFN
c_func
(paren
(paren
id|func
op_rshift
l_int|16
)paren
op_amp
l_int|0xffff
comma
id|func
op_amp
l_int|0xffff
)paren
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
op_assign
id|pci_find_slot
c_func
(paren
id|bus
op_amp
l_int|0xffff
comma
id|devfn
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|dev
op_logical_or
id|pci_write_config_word
c_func
(paren
id|dev
comma
id|addr
comma
id|val
)paren
)paren
r_return
id|AE_ERROR
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_write_pci_cfg_dword
id|acpi_os_write_pci_cfg_dword
c_func
(paren
id|u32
id|bus
comma
id|u32
id|func
comma
id|u32
id|addr
comma
id|u32
id|val
)paren
(brace
r_int
id|devfn
op_assign
id|PCI_DEVFN
c_func
(paren
(paren
id|func
op_rshift
l_int|16
)paren
op_amp
l_int|0xffff
comma
id|func
op_amp
l_int|0xffff
)paren
suffix:semicolon
r_struct
id|pci_dev
op_star
id|dev
op_assign
id|pci_find_slot
c_func
(paren
id|bus
op_amp
l_int|0xffff
comma
id|devfn
)paren
suffix:semicolon
r_if
c_cond
(paren
op_logical_neg
id|dev
op_logical_or
id|pci_write_config_dword
c_func
(paren
id|dev
comma
id|addr
comma
id|val
)paren
)paren
r_return
id|AE_ERROR
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
multiline_comment|/*&n; * Queue for interpreter thread&n; */
id|ACPI_STATUS
DECL|function|acpi_os_queue_for_execution
id|acpi_os_queue_for_execution
c_func
(paren
id|u32
id|priority
comma
id|OSD_EXECUTION_CALLBACK
id|callback
comma
r_void
op_star
id|context
)paren
(brace
r_if
c_cond
(paren
id|acpi_run
c_func
(paren
id|callback
comma
id|context
)paren
)paren
r_return
id|AE_ERROR
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
multiline_comment|/*&n; * Semaphores are unused, interpreter access is single threaded&n; */
id|ACPI_STATUS
DECL|function|acpi_os_create_semaphore
id|acpi_os_create_semaphore
c_func
(paren
id|u32
id|max_units
comma
id|u32
id|init
comma
id|ACPI_HANDLE
op_star
id|handle
)paren
(brace
multiline_comment|/* a hack to fake out sems until we implement them */
op_star
id|handle
op_assign
(paren
id|ACPI_HANDLE
)paren
id|handle
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_delete_semaphore
id|acpi_os_delete_semaphore
c_func
(paren
id|ACPI_HANDLE
id|handle
)paren
(brace
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_wait_semaphore
id|acpi_os_wait_semaphore
c_func
(paren
id|ACPI_HANDLE
id|handle
comma
id|u32
id|units
comma
id|u32
id|timeout
)paren
(brace
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_signal_semaphore
id|acpi_os_signal_semaphore
c_func
(paren
id|ACPI_HANDLE
id|handle
comma
id|u32
id|units
)paren
(brace
r_return
id|AE_OK
suffix:semicolon
)brace
id|ACPI_STATUS
DECL|function|acpi_os_breakpoint
id|acpi_os_breakpoint
c_func
(paren
id|NATIVE_CHAR
op_star
id|msg
)paren
(brace
id|acpi_os_printf
c_func
(paren
l_string|&quot;breakpoint: %s&quot;
comma
id|msg
)paren
suffix:semicolon
r_return
id|AE_OK
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_dbg_trap
id|acpi_os_dbg_trap
c_func
(paren
r_char
op_star
id|msg
)paren
(brace
id|acpi_os_printf
c_func
(paren
l_string|&quot;trap: %s&quot;
comma
id|msg
)paren
suffix:semicolon
)brace
r_void
DECL|function|acpi_os_dbg_assert
id|acpi_os_dbg_assert
c_func
(paren
r_void
op_star
id|failure
comma
r_void
op_star
id|file
comma
id|u32
id|line
comma
id|NATIVE_CHAR
op_star
id|msg
)paren
(brace
id|acpi_os_printf
c_func
(paren
l_string|&quot;assert: %s&quot;
comma
id|msg
)paren
suffix:semicolon
)brace
id|u32
DECL|function|acpi_os_get_line
id|acpi_os_get_line
c_func
(paren
id|NATIVE_CHAR
op_star
id|buffer
)paren
(brace
macro_line|#ifdef ENABLE_DEBUGGER
r_if
c_cond
(paren
id|acpi_in_debugger
)paren
(brace
id|u32
id|chars
suffix:semicolon
id|kdb_read
c_func
(paren
id|buffer
comma
r_sizeof
(paren
id|line_buf
)paren
)paren
suffix:semicolon
multiline_comment|/* remove the CR kdb includes */
id|chars
op_assign
id|strlen
c_func
(paren
id|buffer
)paren
op_minus
l_int|1
suffix:semicolon
id|buffer
(braket
id|chars
)braket
op_assign
l_char|&squot;&bslash;0&squot;
suffix:semicolon
)brace
macro_line|#endif
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/*&n; * We just have to assume we&squot;re dealing with valid memory&n; */
id|BOOLEAN
DECL|function|acpi_os_readable
id|acpi_os_readable
c_func
(paren
r_void
op_star
id|ptr
comma
id|u32
id|len
)paren
(brace
r_return
l_int|1
suffix:semicolon
)brace
id|BOOLEAN
DECL|function|acpi_os_writable
id|acpi_os_writable
c_func
(paren
r_void
op_star
id|ptr
comma
id|u32
id|len
)paren
(brace
r_return
l_int|1
suffix:semicolon
)brace
eof
