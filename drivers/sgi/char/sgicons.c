multiline_comment|/* $Id: sgicons.c,v 1.10 1998/08/25 09:18:58 ralf Exp $&n; *&n; * sgicons.c: Setting up and registering console I/O on the SGI.&n; *&n; * Copyright (C) 1996 David S. Miller (dm@engr.sgi.com)&n; * Copyright (C) 1997 Miguel de Icaza (miguel@nuclecu.unam.mx)&n; *&n; * This implement a virtual console interface.&n; */
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/errno.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#include &quot;gconsole.h&quot;
multiline_comment|/* To make psaux code cleaner */
DECL|variable|aux_device_present
r_int
r_char
id|aux_device_present
op_assign
l_int|0xaa
suffix:semicolon
multiline_comment|/* This is the system graphics console (the first adapter found) */
DECL|variable|gconsole
r_struct
id|console_ops
op_star
id|gconsole
op_assign
l_int|0
suffix:semicolon
DECL|variable|real_gconsole
r_struct
id|console_ops
op_star
id|real_gconsole
op_assign
l_int|0
suffix:semicolon
r_void
DECL|function|enable_gconsole
id|enable_gconsole
(paren
r_void
)paren
(brace
r_if
c_cond
(paren
op_logical_neg
id|gconsole
)paren
id|gconsole
op_assign
id|real_gconsole
suffix:semicolon
)brace
r_void
DECL|function|disable_gconsole
id|disable_gconsole
(paren
r_void
)paren
(brace
r_if
c_cond
(paren
id|gconsole
)paren
(brace
id|real_gconsole
op_assign
id|gconsole
suffix:semicolon
id|gconsole
op_assign
l_int|0
suffix:semicolon
)brace
)brace
r_void
DECL|function|register_gconsole
id|register_gconsole
(paren
r_struct
id|console_ops
op_star
id|gc
)paren
(brace
r_if
c_cond
(paren
id|gconsole
)paren
r_return
suffix:semicolon
id|gconsole
op_assign
id|gc
suffix:semicolon
)brace
eof
