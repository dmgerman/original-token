multiline_comment|/* drmP.h -- Private header for Direct Rendering Manager -*- linux-c -*-&n; * Created: Mon Jan  4 10:05:05 1999 by faith@precisioninsight.com&n; *&n; * Copyright 1999 Precision Insight, Inc., Cedar Park, Texas.&n; * Copyright 2000 VA Linux Systems, Inc., Sunnyvale, California.&n; * All rights reserved.&n; *&n; * Permission is hereby granted, free of charge, to any person obtaining a&n; * copy of this software and associated documentation files (the &quot;Software&quot;),&n; * to deal in the Software without restriction, including without limitation&n; * the rights to use, copy, modify, merge, publish, distribute, sublicense,&n; * and/or sell copies of the Software, and to permit persons to whom the&n; * Software is furnished to do so, subject to the following conditions:&n; * &n; * The above copyright notice and this permission notice (including the next&n; * paragraph) shall be included in all copies or substantial portions of the&n; * Software.&n; * &n; * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR&n; * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,&n; * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL&n; * PRECISION INSIGHT AND/OR ITS SUPPLIERS BE LIABLE FOR ANY CLAIM, DAMAGES OR&n; * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,&n; * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER&n; * DEALINGS IN THE SOFTWARE.&n; * &n; * Authors:&n; *    Rickard E. (Rik) Faith &lt;faith@valinux.com&gt;&n; * &n; */
macro_line|#ifndef _DRM_P_H_
DECL|macro|_DRM_P_H_
mdefine_line|#define _DRM_P_H_
macro_line|#ifdef __KERNEL__
macro_line|#ifdef __alpha__
multiline_comment|/* add include of current.h so that &quot;current&quot; is defined&n; * before static inline funcs in wait.h. Doing this so we&n; * can build the DRM (part of PI DRI). 4/21/2000 S + B */
macro_line|#include &lt;asm/current.h&gt;
macro_line|#endif /* __alpha__ */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &lt;linux/module.h&gt;
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/miscdevice.h&gt;
macro_line|#include &lt;linux/fs.h&gt;
macro_line|#include &lt;linux/proc_fs.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/file.h&gt;
macro_line|#include &lt;linux/pci.h&gt;
macro_line|#include &lt;linux/wrapper.h&gt;
macro_line|#include &lt;linux/version.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/smp_lock.h&gt;&t;/* For (un)lock_kernel */
macro_line|#include &lt;linux/mm.h&gt;
macro_line|#ifdef __alpha__
macro_line|#include &lt;asm/pgtable.h&gt; /* For pte_wrprotect */
macro_line|#endif
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &lt;asm/mman.h&gt;
macro_line|#include &lt;asm/uaccess.h&gt;
macro_line|#ifdef CONFIG_MTRR
macro_line|#include &lt;asm/mtrr.h&gt;
macro_line|#endif
macro_line|#if defined(CONFIG_AGP) || defined(CONFIG_AGP_MODULE)
macro_line|#include &lt;linux/types.h&gt;
macro_line|#include &lt;linux/agp_backend.h&gt;
macro_line|#endif
macro_line|#if LINUX_VERSION_CODE &gt;= 0x020100 /* KERNEL_VERSION(2,1,0) */
macro_line|#include &lt;linux/tqueue.h&gt;
macro_line|#include &lt;linux/poll.h&gt;
macro_line|#endif
macro_line|#if LINUX_VERSION_CODE &lt; 0x020400
macro_line|#include &quot;compat-pre24.h&quot;
macro_line|#endif
macro_line|#include &quot;drm.h&quot;
DECL|macro|DRM_DEBUG_CODE
mdefine_line|#define DRM_DEBUG_CODE 2&t;  /* Include debugging code (if &gt; 1, then&n;&t;&t;&t;&t;     also include looping detection. */
DECL|macro|DRM_DMA_HISTOGRAM
mdefine_line|#define DRM_DMA_HISTOGRAM 1&t;  /* Make histogram of DMA latency. */
DECL|macro|DRM_HASH_SIZE
mdefine_line|#define DRM_HASH_SIZE&t;      16 /* Size of key hash table&t;&t;  */
DECL|macro|DRM_KERNEL_CONTEXT
mdefine_line|#define DRM_KERNEL_CONTEXT    0&t; /* Change drm_resctx if changed&t;  */
DECL|macro|DRM_RESERVED_CONTEXTS
mdefine_line|#define DRM_RESERVED_CONTEXTS 1&t; /* Change drm_resctx if changed&t;  */
DECL|macro|DRM_LOOPING_LIMIT
mdefine_line|#define DRM_LOOPING_LIMIT     5000000
DECL|macro|DRM_BSZ
mdefine_line|#define DRM_BSZ&t;&t;      1024 /* Buffer size for /dev/drm? output&t;  */
DECL|macro|DRM_TIME_SLICE
mdefine_line|#define DRM_TIME_SLICE&t;      (HZ/20)  /* Time slice for GLXContexts&t;  */
DECL|macro|DRM_LOCK_SLICE
mdefine_line|#define DRM_LOCK_SLICE&t;      1&t;/* Time slice for lock, in jiffies&t;  */
DECL|macro|DRM_FLAG_DEBUG
mdefine_line|#define DRM_FLAG_DEBUG&t;  0x01
DECL|macro|DRM_FLAG_NOCTX
mdefine_line|#define DRM_FLAG_NOCTX&t;  0x02
DECL|macro|DRM_MEM_DMA
mdefine_line|#define DRM_MEM_DMA&t;   0
DECL|macro|DRM_MEM_SAREA
mdefine_line|#define DRM_MEM_SAREA&t;   1
DECL|macro|DRM_MEM_DRIVER
mdefine_line|#define DRM_MEM_DRIVER&t;   2
DECL|macro|DRM_MEM_MAGIC
mdefine_line|#define DRM_MEM_MAGIC&t;   3
DECL|macro|DRM_MEM_IOCTLS
mdefine_line|#define DRM_MEM_IOCTLS&t;   4
DECL|macro|DRM_MEM_MAPS
mdefine_line|#define DRM_MEM_MAPS&t;   5
DECL|macro|DRM_MEM_VMAS
mdefine_line|#define DRM_MEM_VMAS&t;   6
DECL|macro|DRM_MEM_BUFS
mdefine_line|#define DRM_MEM_BUFS&t;   7
DECL|macro|DRM_MEM_SEGS
mdefine_line|#define DRM_MEM_SEGS&t;   8
DECL|macro|DRM_MEM_PAGES
mdefine_line|#define DRM_MEM_PAGES&t;   9
DECL|macro|DRM_MEM_FILES
mdefine_line|#define DRM_MEM_FILES&t;  10
DECL|macro|DRM_MEM_QUEUES
mdefine_line|#define DRM_MEM_QUEUES&t;  11
DECL|macro|DRM_MEM_CMDS
mdefine_line|#define DRM_MEM_CMDS&t;  12
DECL|macro|DRM_MEM_MAPPINGS
mdefine_line|#define DRM_MEM_MAPPINGS  13
DECL|macro|DRM_MEM_BUFLISTS
mdefine_line|#define DRM_MEM_BUFLISTS  14
DECL|macro|DRM_MEM_AGPLISTS
mdefine_line|#define DRM_MEM_AGPLISTS  15
DECL|macro|DRM_MEM_TOTALAGP
mdefine_line|#define DRM_MEM_TOTALAGP  16
DECL|macro|DRM_MEM_BOUNDAGP
mdefine_line|#define DRM_MEM_BOUNDAGP  17
DECL|macro|DRM_MEM_CTXBITMAP
mdefine_line|#define DRM_MEM_CTXBITMAP 18
DECL|macro|DRM_MAX_CTXBITMAP
mdefine_line|#define DRM_MAX_CTXBITMAP (PAGE_SIZE * 8)
multiline_comment|/* Backward compatibility section */
multiline_comment|/* _PAGE_WT changed to _PAGE_PWT in 2.2.6 */
macro_line|#ifndef _PAGE_PWT
DECL|macro|_PAGE_PWT
mdefine_line|#define _PAGE_PWT _PAGE_WT
macro_line|#endif
multiline_comment|/* Wait queue declarations changed in 2.3.1 */
macro_line|#ifndef DECLARE_WAITQUEUE
DECL|macro|DECLARE_WAITQUEUE
mdefine_line|#define DECLARE_WAITQUEUE(w,c) struct wait_queue w = { c, NULL }
DECL|typedef|wait_queue_head_t
r_typedef
r_struct
id|wait_queue
op_star
id|wait_queue_head_t
suffix:semicolon
DECL|macro|init_waitqueue_head
mdefine_line|#define init_waitqueue_head(q) *q = NULL;
macro_line|#endif
multiline_comment|/* _PAGE_4M changed to _PAGE_PSE in 2.3.23 */
macro_line|#ifndef _PAGE_PSE
DECL|macro|_PAGE_PSE
mdefine_line|#define _PAGE_PSE _PAGE_4M
macro_line|#endif
multiline_comment|/* vm_offset changed to vm_pgoff in 2.3.25 */
macro_line|#if LINUX_VERSION_CODE &lt; 0x020319
DECL|macro|VM_OFFSET
mdefine_line|#define VM_OFFSET(vma) ((vma)-&gt;vm_offset)
macro_line|#else
DECL|macro|VM_OFFSET
mdefine_line|#define VM_OFFSET(vma) ((vma)-&gt;vm_pgoff &lt;&lt; PAGE_SHIFT)
macro_line|#endif
multiline_comment|/* *_nopage return values defined in 2.3.26 */
macro_line|#ifndef NOPAGE_SIGBUS
DECL|macro|NOPAGE_SIGBUS
mdefine_line|#define NOPAGE_SIGBUS 0
macro_line|#endif
macro_line|#ifndef NOPAGE_OOM
DECL|macro|NOPAGE_OOM
mdefine_line|#define NOPAGE_OOM 0
macro_line|#endif
multiline_comment|/* module_init/module_exit added in 2.3.13 */
macro_line|#ifndef module_init
DECL|macro|module_init
mdefine_line|#define module_init(x)  int init_module(void) { return x(); }
macro_line|#endif
macro_line|#ifndef module_exit
DECL|macro|module_exit
mdefine_line|#define module_exit(x)  void cleanup_module(void) { x(); }
macro_line|#endif
multiline_comment|/* Generic cmpxchg added in 2.3.x */
macro_line|#ifndef __HAVE_ARCH_CMPXCHG
multiline_comment|/* Include this here so that driver can be&n;                                   used with older kernels. */
macro_line|#if defined(__alpha__)
r_static
id|__inline__
r_int
r_int
DECL|function|__cmpxchg_u32
id|__cmpxchg_u32
c_func
(paren
r_volatile
r_int
op_star
id|m
comma
r_int
id|old
comma
r_int
r_new
)paren
(brace
r_int
r_int
id|prev
comma
id|cmp
suffix:semicolon
id|__asm__
id|__volatile__
c_func
(paren
l_string|&quot;1:&t;ldl_l %0,%2&bslash;n&quot;
l_string|&quot;&t;cmpeq %0,%3,%1&bslash;n&quot;
l_string|&quot;&t;beq %1,2f&bslash;n&quot;
l_string|&quot;&t;mov %4,%1&bslash;n&quot;
l_string|&quot;&t;stl_c %1,%2&bslash;n&quot;
l_string|&quot;&t;beq %1,3f&bslash;n&quot;
l_string|&quot;2:&t;mb&bslash;n&quot;
l_string|&quot;.subsection 2&bslash;n&quot;
l_string|&quot;3:&t;br 1b&bslash;n&quot;
l_string|&quot;.previous&quot;
suffix:colon
l_string|&quot;=&amp;r&quot;
(paren
id|prev
)paren
comma
l_string|&quot;=&amp;r&quot;
(paren
id|cmp
)paren
comma
l_string|&quot;=m&quot;
(paren
op_star
id|m
)paren
suffix:colon
l_string|&quot;r&quot;
(paren
(paren
r_int
)paren
id|old
)paren
comma
l_string|&quot;r&quot;
(paren
r_new
)paren
comma
l_string|&quot;m&quot;
(paren
op_star
id|m
)paren
)paren
suffix:semicolon
r_return
id|prev
suffix:semicolon
)brace
r_static
id|__inline__
r_int
r_int
DECL|function|__cmpxchg_u64
id|__cmpxchg_u64
c_func
(paren
r_volatile
r_int
op_star
id|m
comma
r_int
r_int
id|old
comma
r_int
r_int
r_new
)paren
(brace
r_int
r_int
id|prev
comma
id|cmp
suffix:semicolon
id|__asm__
id|__volatile__
c_func
(paren
l_string|&quot;1:&t;ldq_l %0,%2&bslash;n&quot;
l_string|&quot;&t;cmpeq %0,%3,%1&bslash;n&quot;
l_string|&quot;&t;beq %1,2f&bslash;n&quot;
l_string|&quot;&t;mov %4,%1&bslash;n&quot;
l_string|&quot;&t;stq_c %1,%2&bslash;n&quot;
l_string|&quot;&t;beq %1,3f&bslash;n&quot;
l_string|&quot;2:&t;mb&bslash;n&quot;
l_string|&quot;.subsection 2&bslash;n&quot;
l_string|&quot;3:&t;br 1b&bslash;n&quot;
l_string|&quot;.previous&quot;
suffix:colon
l_string|&quot;=&amp;r&quot;
(paren
id|prev
)paren
comma
l_string|&quot;=&amp;r&quot;
(paren
id|cmp
)paren
comma
l_string|&quot;=m&quot;
(paren
op_star
id|m
)paren
suffix:colon
l_string|&quot;r&quot;
(paren
(paren
r_int
)paren
id|old
)paren
comma
l_string|&quot;r&quot;
(paren
r_new
)paren
comma
l_string|&quot;m&quot;
(paren
op_star
id|m
)paren
)paren
suffix:semicolon
r_return
id|prev
suffix:semicolon
)brace
r_static
id|__inline__
r_int
r_int
DECL|function|__cmpxchg
id|__cmpxchg
c_func
(paren
r_volatile
r_void
op_star
id|ptr
comma
r_int
r_int
id|old
comma
r_int
r_int
r_new
comma
r_int
id|size
)paren
(brace
r_switch
c_cond
(paren
id|size
)paren
(brace
r_case
l_int|4
suffix:colon
r_return
id|__cmpxchg_u32
c_func
(paren
id|ptr
comma
id|old
comma
r_new
)paren
suffix:semicolon
r_case
l_int|8
suffix:colon
r_return
id|__cmpxchg_u64
c_func
(paren
id|ptr
comma
id|old
comma
r_new
)paren
suffix:semicolon
)brace
r_return
id|old
suffix:semicolon
)brace
DECL|macro|cmpxchg
mdefine_line|#define cmpxchg(ptr,o,n)&t;&t;&t;&t;&t;&t; &bslash;&n;  ({&t;&t;&t;&t;&t;&t;&t;&t;&t; &bslash;&n;     __typeof__(*(ptr)) _o_ = (o);&t;&t;&t;&t;&t; &bslash;&n;     __typeof__(*(ptr)) _n_ = (n);&t;&t;&t;&t;&t; &bslash;&n;     (__typeof__(*(ptr))) __cmpxchg((ptr), (unsigned long)_o_,&t;&t; &bslash;&n;&t;&t;&t;&t;    (unsigned long)_n_, sizeof(*(ptr))); &bslash;&n;  })
macro_line|#elif __i386__
DECL|function|__cmpxchg
r_static
r_inline
r_int
r_int
id|__cmpxchg
c_func
(paren
r_volatile
r_void
op_star
id|ptr
comma
r_int
r_int
id|old
comma
r_int
r_int
r_new
comma
r_int
id|size
)paren
(brace
r_int
r_int
id|prev
suffix:semicolon
r_switch
c_cond
(paren
id|size
)paren
(brace
r_case
l_int|1
suffix:colon
id|__asm__
id|__volatile__
c_func
(paren
id|LOCK_PREFIX
l_string|&quot;cmpxchgb %b1,%2&quot;
suffix:colon
l_string|&quot;=a&quot;
(paren
id|prev
)paren
suffix:colon
l_string|&quot;q&quot;
(paren
r_new
)paren
comma
l_string|&quot;m&quot;
(paren
op_star
id|__xg
c_func
(paren
id|ptr
)paren
)paren
comma
l_string|&quot;0&quot;
(paren
id|old
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_return
id|prev
suffix:semicolon
r_case
l_int|2
suffix:colon
id|__asm__
id|__volatile__
c_func
(paren
id|LOCK_PREFIX
l_string|&quot;cmpxchgw %w1,%2&quot;
suffix:colon
l_string|&quot;=a&quot;
(paren
id|prev
)paren
suffix:colon
l_string|&quot;q&quot;
(paren
r_new
)paren
comma
l_string|&quot;m&quot;
(paren
op_star
id|__xg
c_func
(paren
id|ptr
)paren
)paren
comma
l_string|&quot;0&quot;
(paren
id|old
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_return
id|prev
suffix:semicolon
r_case
l_int|4
suffix:colon
id|__asm__
id|__volatile__
c_func
(paren
id|LOCK_PREFIX
l_string|&quot;cmpxchgl %1,%2&quot;
suffix:colon
l_string|&quot;=a&quot;
(paren
id|prev
)paren
suffix:colon
l_string|&quot;q&quot;
(paren
r_new
)paren
comma
l_string|&quot;m&quot;
(paren
op_star
id|__xg
c_func
(paren
id|ptr
)paren
)paren
comma
l_string|&quot;0&quot;
(paren
id|old
)paren
suffix:colon
l_string|&quot;memory&quot;
)paren
suffix:semicolon
r_return
id|prev
suffix:semicolon
)brace
r_return
id|old
suffix:semicolon
)brace
DECL|macro|cmpxchg
mdefine_line|#define cmpxchg(ptr,o,n)&t;&t;&t;&t;&t;&t;&bslash;&n;  ((__typeof__(*(ptr)))__cmpxchg((ptr),(unsigned long)(o),&t;&t;&bslash;&n;&t;&t;&t;&t; (unsigned long)(n),sizeof(*(ptr))))
macro_line|#endif /* i386 &amp; alpha */
macro_line|#endif
multiline_comment|/* Macros to make printk easier */
DECL|macro|DRM_ERROR
mdefine_line|#define DRM_ERROR(fmt, arg...) &bslash;&n;&t;printk(KERN_ERR &quot;[&quot; DRM_NAME &quot;:&quot; __FUNCTION__ &quot;] *ERROR* &quot; fmt , ##arg)
DECL|macro|DRM_MEM_ERROR
mdefine_line|#define DRM_MEM_ERROR(area, fmt, arg...) &bslash;&n;&t;printk(KERN_ERR &quot;[&quot; DRM_NAME &quot;:&quot; __FUNCTION__ &quot;:%s] *ERROR* &quot; fmt , &bslash;&n;&t;       drm_mem_stats[area].name , ##arg)
DECL|macro|DRM_INFO
mdefine_line|#define DRM_INFO(fmt, arg...)  printk(KERN_INFO &quot;[&quot; DRM_NAME &quot;] &quot; fmt , ##arg)
macro_line|#if DRM_DEBUG_CODE
DECL|macro|DRM_DEBUG
mdefine_line|#define DRM_DEBUG(fmt, arg...)&t;&t;&t;&t;&t;&t;  &bslash;&n;&t;do {&t;&t;&t;&t;&t;&t;&t;&t;  &bslash;&n;&t;&t;if (drm_flags&amp;DRM_FLAG_DEBUG)&t;&t;&t;&t;  &bslash;&n;&t;&t;&t;printk(KERN_DEBUG&t;&t;&t;&t;  &bslash;&n;&t;&t;&t;       &quot;[&quot; DRM_NAME &quot;:&quot; __FUNCTION__ &quot;] &quot; fmt ,&t;  &bslash;&n;&t;&t;&t;       ##arg);&t;&t;&t;&t;&t;  &bslash;&n;&t;} while (0)
macro_line|#else
DECL|macro|DRM_DEBUG
mdefine_line|#define DRM_DEBUG(fmt, arg...)&t;&t; do { } while (0)
macro_line|#endif
DECL|macro|DRM_PROC_LIMIT
mdefine_line|#define DRM_PROC_LIMIT (PAGE_SIZE-80)
DECL|macro|DRM_PROC_PRINT
mdefine_line|#define DRM_PROC_PRINT(fmt, arg...)&t;   &bslash;&n;   len += sprintf(&amp;buf[len], fmt , ##arg); &bslash;&n;   if (len &gt; DRM_PROC_LIMIT) return len;
DECL|macro|DRM_PROC_PRINT_RET
mdefine_line|#define DRM_PROC_PRINT_RET(ret, fmt, arg...)&t;    &bslash;&n;   len += sprintf(&amp;buf[len], fmt , ##arg);&t;    &bslash;&n;   if (len &gt; DRM_PROC_LIMIT) { ret; return len; }
multiline_comment|/* Internal types and structures */
DECL|macro|DRM_ARRAY_SIZE
mdefine_line|#define DRM_ARRAY_SIZE(x) (sizeof(x)/sizeof(x[0]))
DECL|macro|DRM_MIN
mdefine_line|#define DRM_MIN(a,b) ((a)&lt;(b)?(a):(b))
DECL|macro|DRM_MAX
mdefine_line|#define DRM_MAX(a,b) ((a)&gt;(b)?(a):(b))
DECL|macro|DRM_LEFTCOUNT
mdefine_line|#define DRM_LEFTCOUNT(x) (((x)-&gt;rp + (x)-&gt;count - (x)-&gt;wp) % ((x)-&gt;count + 1))
DECL|macro|DRM_BUFCOUNT
mdefine_line|#define DRM_BUFCOUNT(x) ((x)-&gt;count - DRM_LEFTCOUNT(x))
DECL|macro|DRM_WAITCOUNT
mdefine_line|#define DRM_WAITCOUNT(dev,idx) DRM_BUFCOUNT(&amp;dev-&gt;queuelist[idx]-&gt;waitlist)
DECL|typedef|drm_ioctl_t
r_typedef
r_int
id|drm_ioctl_t
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
DECL|struct|drm_ioctl_desc
r_typedef
r_struct
id|drm_ioctl_desc
(brace
DECL|member|func
id|drm_ioctl_t
op_star
id|func
suffix:semicolon
DECL|member|auth_needed
r_int
id|auth_needed
suffix:semicolon
DECL|member|root_only
r_int
id|root_only
suffix:semicolon
DECL|typedef|drm_ioctl_desc_t
)brace
id|drm_ioctl_desc_t
suffix:semicolon
DECL|struct|drm_devstate
r_typedef
r_struct
id|drm_devstate
(brace
DECL|member|owner
id|pid_t
id|owner
suffix:semicolon
multiline_comment|/* X server pid holding x_lock */
DECL|typedef|drm_devstate_t
)brace
id|drm_devstate_t
suffix:semicolon
DECL|struct|drm_magic_entry
r_typedef
r_struct
id|drm_magic_entry
(brace
DECL|member|magic
id|drm_magic_t
id|magic
suffix:semicolon
DECL|member|priv
r_struct
id|drm_file
op_star
id|priv
suffix:semicolon
DECL|member|next
r_struct
id|drm_magic_entry
op_star
id|next
suffix:semicolon
DECL|typedef|drm_magic_entry_t
)brace
id|drm_magic_entry_t
suffix:semicolon
DECL|struct|drm_magic_head
r_typedef
r_struct
id|drm_magic_head
(brace
DECL|member|head
r_struct
id|drm_magic_entry
op_star
id|head
suffix:semicolon
DECL|member|tail
r_struct
id|drm_magic_entry
op_star
id|tail
suffix:semicolon
DECL|typedef|drm_magic_head_t
)brace
id|drm_magic_head_t
suffix:semicolon
DECL|struct|drm_vma_entry
r_typedef
r_struct
id|drm_vma_entry
(brace
DECL|member|vma
r_struct
id|vm_area_struct
op_star
id|vma
suffix:semicolon
DECL|member|next
r_struct
id|drm_vma_entry
op_star
id|next
suffix:semicolon
DECL|member|pid
id|pid_t
id|pid
suffix:semicolon
DECL|typedef|drm_vma_entry_t
)brace
id|drm_vma_entry_t
suffix:semicolon
DECL|struct|drm_buf
r_typedef
r_struct
id|drm_buf
(brace
DECL|member|idx
r_int
id|idx
suffix:semicolon
multiline_comment|/* Index into master buflist&t;     */
DECL|member|total
r_int
id|total
suffix:semicolon
multiline_comment|/* Buffer size&t;&t;&t;     */
DECL|member|order
r_int
id|order
suffix:semicolon
multiline_comment|/* log-base-2(total)&t;&t;     */
DECL|member|used
r_int
id|used
suffix:semicolon
multiline_comment|/* Amount of buffer in use (for DMA)  */
DECL|member|offset
r_int
r_int
id|offset
suffix:semicolon
multiline_comment|/* Byte offset (used internally)&t;     */
DECL|member|address
r_void
op_star
id|address
suffix:semicolon
multiline_comment|/* Address of buffer&t;&t;     */
DECL|member|bus_address
r_int
r_int
id|bus_address
suffix:semicolon
multiline_comment|/* Bus address of buffer&t;&t;     */
DECL|member|next
r_struct
id|drm_buf
op_star
id|next
suffix:semicolon
multiline_comment|/* Kernel-only: used for free list    */
DECL|member|waiting
id|__volatile__
r_int
id|waiting
suffix:semicolon
multiline_comment|/* On kernel DMA queue&t;&t;     */
DECL|member|pending
id|__volatile__
r_int
id|pending
suffix:semicolon
multiline_comment|/* On hardware DMA queue&t;&t;     */
DECL|member|dma_wait
id|wait_queue_head_t
id|dma_wait
suffix:semicolon
multiline_comment|/* Processes waiting&t;&t;     */
DECL|member|pid
id|pid_t
id|pid
suffix:semicolon
multiline_comment|/* PID of holding process&t;     */
DECL|member|context
r_int
id|context
suffix:semicolon
multiline_comment|/* Kernel queue for this buffer&t;     */
DECL|member|while_locked
r_int
id|while_locked
suffix:semicolon
multiline_comment|/* Dispatch this buffer while locked  */
r_enum
(brace
DECL|enumerator|DRM_LIST_NONE
id|DRM_LIST_NONE
op_assign
l_int|0
comma
DECL|enumerator|DRM_LIST_FREE
id|DRM_LIST_FREE
op_assign
l_int|1
comma
DECL|enumerator|DRM_LIST_WAIT
id|DRM_LIST_WAIT
op_assign
l_int|2
comma
DECL|enumerator|DRM_LIST_PEND
id|DRM_LIST_PEND
op_assign
l_int|3
comma
DECL|enumerator|DRM_LIST_PRIO
id|DRM_LIST_PRIO
op_assign
l_int|4
comma
DECL|enumerator|DRM_LIST_RECLAIM
id|DRM_LIST_RECLAIM
op_assign
l_int|5
DECL|member|list
)brace
id|list
suffix:semicolon
multiline_comment|/* Which list we&squot;re on&t;&t;     */
macro_line|#if DRM_DMA_HISTOGRAM
DECL|member|time_queued
id|cycles_t
id|time_queued
suffix:semicolon
multiline_comment|/* Queued to kernel DMA queue     */
DECL|member|time_dispatched
id|cycles_t
id|time_dispatched
suffix:semicolon
multiline_comment|/* Dispatched to hardware&t;     */
DECL|member|time_completed
id|cycles_t
id|time_completed
suffix:semicolon
multiline_comment|/* Completed by hardware&t;     */
DECL|member|time_freed
id|cycles_t
id|time_freed
suffix:semicolon
multiline_comment|/* Back on freelist&t;&t;     */
macro_line|#endif
DECL|member|dev_priv_size
r_int
id|dev_priv_size
suffix:semicolon
multiline_comment|/* Size of buffer private stoarge   */
DECL|member|dev_private
r_void
op_star
id|dev_private
suffix:semicolon
multiline_comment|/* Per-buffer private storage       */
DECL|typedef|drm_buf_t
)brace
id|drm_buf_t
suffix:semicolon
macro_line|#if DRM_DMA_HISTOGRAM
DECL|macro|DRM_DMA_HISTOGRAM_SLOTS
mdefine_line|#define DRM_DMA_HISTOGRAM_SLOTS&t;&t;  9
DECL|macro|DRM_DMA_HISTOGRAM_INITIAL
mdefine_line|#define DRM_DMA_HISTOGRAM_INITIAL&t; 10
DECL|macro|DRM_DMA_HISTOGRAM_NEXT
mdefine_line|#define DRM_DMA_HISTOGRAM_NEXT(current)&t; ((current)*10)
DECL|struct|drm_histogram
r_typedef
r_struct
id|drm_histogram
(brace
DECL|member|total
id|atomic_t
id|total
suffix:semicolon
DECL|member|queued_to_dispatched
id|atomic_t
id|queued_to_dispatched
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|member|dispatched_to_completed
id|atomic_t
id|dispatched_to_completed
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|member|completed_to_freed
id|atomic_t
id|completed_to_freed
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|member|queued_to_completed
id|atomic_t
id|queued_to_completed
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|member|queued_to_freed
id|atomic_t
id|queued_to_freed
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|member|dma
id|atomic_t
id|dma
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|member|schedule
id|atomic_t
id|schedule
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|member|ctx
id|atomic_t
id|ctx
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|member|lacq
id|atomic_t
id|lacq
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|member|lhld
id|atomic_t
id|lhld
(braket
id|DRM_DMA_HISTOGRAM_SLOTS
)braket
suffix:semicolon
DECL|typedef|drm_histogram_t
)brace
id|drm_histogram_t
suffix:semicolon
macro_line|#endif
multiline_comment|/* bufs is one longer than it has to be */
DECL|struct|drm_waitlist
r_typedef
r_struct
id|drm_waitlist
(brace
DECL|member|count
r_int
id|count
suffix:semicolon
multiline_comment|/* Number of possible buffers&t;   */
DECL|member|bufs
id|drm_buf_t
op_star
op_star
id|bufs
suffix:semicolon
multiline_comment|/* List of pointers to buffers&t;   */
DECL|member|rp
id|drm_buf_t
op_star
op_star
id|rp
suffix:semicolon
multiline_comment|/* Read pointer&t;&t;&t;   */
DECL|member|wp
id|drm_buf_t
op_star
op_star
id|wp
suffix:semicolon
multiline_comment|/* Write pointer&t;&t;   */
DECL|member|end
id|drm_buf_t
op_star
op_star
id|end
suffix:semicolon
multiline_comment|/* End pointer&t;&t;&t;   */
DECL|member|read_lock
id|spinlock_t
id|read_lock
suffix:semicolon
DECL|member|write_lock
id|spinlock_t
id|write_lock
suffix:semicolon
DECL|typedef|drm_waitlist_t
)brace
id|drm_waitlist_t
suffix:semicolon
DECL|struct|drm_freelist
r_typedef
r_struct
id|drm_freelist
(brace
DECL|member|initialized
r_int
id|initialized
suffix:semicolon
multiline_comment|/* Freelist in use&t;&t;   */
DECL|member|count
id|atomic_t
id|count
suffix:semicolon
multiline_comment|/* Number of free buffers&t;   */
DECL|member|next
id|drm_buf_t
op_star
id|next
suffix:semicolon
multiline_comment|/* End pointer&t;&t;&t;   */
DECL|member|waiting
id|wait_queue_head_t
id|waiting
suffix:semicolon
multiline_comment|/* Processes waiting on free bufs   */
DECL|member|low_mark
r_int
id|low_mark
suffix:semicolon
multiline_comment|/* Low water mark&t;&t;   */
DECL|member|high_mark
r_int
id|high_mark
suffix:semicolon
multiline_comment|/* High water mark&t;&t;   */
DECL|member|wfh
id|atomic_t
id|wfh
suffix:semicolon
multiline_comment|/* If waiting for high mark&t;   */
DECL|member|lock
id|spinlock_t
id|lock
suffix:semicolon
DECL|typedef|drm_freelist_t
)brace
id|drm_freelist_t
suffix:semicolon
DECL|struct|drm_buf_entry
r_typedef
r_struct
id|drm_buf_entry
(brace
DECL|member|buf_size
r_int
id|buf_size
suffix:semicolon
DECL|member|buf_count
r_int
id|buf_count
suffix:semicolon
DECL|member|buflist
id|drm_buf_t
op_star
id|buflist
suffix:semicolon
DECL|member|seg_count
r_int
id|seg_count
suffix:semicolon
DECL|member|page_order
r_int
id|page_order
suffix:semicolon
DECL|member|seglist
r_int
r_int
op_star
id|seglist
suffix:semicolon
DECL|member|freelist
id|drm_freelist_t
id|freelist
suffix:semicolon
DECL|typedef|drm_buf_entry_t
)brace
id|drm_buf_entry_t
suffix:semicolon
DECL|struct|drm_hw_lock
r_typedef
r_struct
id|drm_hw_lock
(brace
DECL|member|lock
id|__volatile__
r_int
r_int
id|lock
suffix:semicolon
DECL|member|padding
r_char
id|padding
(braket
l_int|60
)braket
suffix:semicolon
multiline_comment|/* Pad to cache line */
DECL|typedef|drm_hw_lock_t
)brace
id|drm_hw_lock_t
suffix:semicolon
DECL|struct|drm_file
r_typedef
r_struct
id|drm_file
(brace
DECL|member|authenticated
r_int
id|authenticated
suffix:semicolon
DECL|member|minor
r_int
id|minor
suffix:semicolon
DECL|member|pid
id|pid_t
id|pid
suffix:semicolon
DECL|member|uid
id|uid_t
id|uid
suffix:semicolon
DECL|member|magic
id|drm_magic_t
id|magic
suffix:semicolon
DECL|member|ioctl_count
r_int
r_int
id|ioctl_count
suffix:semicolon
DECL|member|next
r_struct
id|drm_file
op_star
id|next
suffix:semicolon
DECL|member|prev
r_struct
id|drm_file
op_star
id|prev
suffix:semicolon
DECL|member|dev
r_struct
id|drm_device
op_star
id|dev
suffix:semicolon
DECL|member|remove_auth_on_close
r_int
id|remove_auth_on_close
suffix:semicolon
DECL|typedef|drm_file_t
)brace
id|drm_file_t
suffix:semicolon
DECL|struct|drm_queue
r_typedef
r_struct
id|drm_queue
(brace
DECL|member|use_count
id|atomic_t
id|use_count
suffix:semicolon
multiline_comment|/* Outstanding uses (+1)&t;    */
DECL|member|finalization
id|atomic_t
id|finalization
suffix:semicolon
multiline_comment|/* Finalization in progress&t;    */
DECL|member|block_count
id|atomic_t
id|block_count
suffix:semicolon
multiline_comment|/* Count of processes waiting&t;    */
DECL|member|block_read
id|atomic_t
id|block_read
suffix:semicolon
multiline_comment|/* Queue blocked for reads&t;    */
DECL|member|read_queue
id|wait_queue_head_t
id|read_queue
suffix:semicolon
multiline_comment|/* Processes waiting on block_read  */
DECL|member|block_write
id|atomic_t
id|block_write
suffix:semicolon
multiline_comment|/* Queue blocked for writes&t;    */
DECL|member|write_queue
id|wait_queue_head_t
id|write_queue
suffix:semicolon
multiline_comment|/* Processes waiting on block_write */
DECL|member|total_queued
id|atomic_t
id|total_queued
suffix:semicolon
multiline_comment|/* Total queued statistic&t;    */
DECL|member|total_flushed
id|atomic_t
id|total_flushed
suffix:semicolon
multiline_comment|/* Total flushes statistic&t;    */
DECL|member|total_locks
id|atomic_t
id|total_locks
suffix:semicolon
multiline_comment|/* Total locks statistics&t;    */
DECL|member|flags
id|drm_ctx_flags_t
id|flags
suffix:semicolon
multiline_comment|/* Context preserving and 2D-only   */
DECL|member|waitlist
id|drm_waitlist_t
id|waitlist
suffix:semicolon
multiline_comment|/* Pending buffers&t;&t;    */
DECL|member|flush_queue
id|wait_queue_head_t
id|flush_queue
suffix:semicolon
multiline_comment|/* Processes waiting until flush    */
DECL|typedef|drm_queue_t
)brace
id|drm_queue_t
suffix:semicolon
DECL|struct|drm_lock_data
r_typedef
r_struct
id|drm_lock_data
(brace
DECL|member|hw_lock
id|drm_hw_lock_t
op_star
id|hw_lock
suffix:semicolon
multiline_comment|/* Hardware lock&t;&t;   */
DECL|member|pid
id|pid_t
id|pid
suffix:semicolon
multiline_comment|/* PID of lock holder (0=kernel)   */
DECL|member|lock_queue
id|wait_queue_head_t
id|lock_queue
suffix:semicolon
multiline_comment|/* Queue of blocked processes&t;   */
DECL|member|lock_time
r_int
r_int
id|lock_time
suffix:semicolon
multiline_comment|/* Time of last lock in jiffies&t;   */
DECL|typedef|drm_lock_data_t
)brace
id|drm_lock_data_t
suffix:semicolon
DECL|struct|drm_device_dma
r_typedef
r_struct
id|drm_device_dma
(brace
multiline_comment|/* Performance Counters */
DECL|member|total_prio
id|atomic_t
id|total_prio
suffix:semicolon
multiline_comment|/* Total DRM_DMA_PRIORITY&t;   */
DECL|member|total_bytes
id|atomic_t
id|total_bytes
suffix:semicolon
multiline_comment|/* Total bytes DMA&squot;d&t;&t;   */
DECL|member|total_dmas
id|atomic_t
id|total_dmas
suffix:semicolon
multiline_comment|/* Total DMA buffers dispatched&t;   */
DECL|member|total_missed_dma
id|atomic_t
id|total_missed_dma
suffix:semicolon
multiline_comment|/* Missed drm_do_dma&t;    */
DECL|member|total_missed_lock
id|atomic_t
id|total_missed_lock
suffix:semicolon
multiline_comment|/* Missed lock in drm_do_dma   */
DECL|member|total_missed_free
id|atomic_t
id|total_missed_free
suffix:semicolon
multiline_comment|/* Missed drm_free_this_buffer */
DECL|member|total_missed_sched
id|atomic_t
id|total_missed_sched
suffix:semicolon
multiline_comment|/* Missed drm_dma_schedule&t;    */
DECL|member|total_tried
id|atomic_t
id|total_tried
suffix:semicolon
multiline_comment|/* Tried next_buffer&t;&t;    */
DECL|member|total_hit
id|atomic_t
id|total_hit
suffix:semicolon
multiline_comment|/* Sent next_buffer&t;&t;    */
DECL|member|total_lost
id|atomic_t
id|total_lost
suffix:semicolon
multiline_comment|/* Lost interrupt&t;&t;    */
DECL|member|bufs
id|drm_buf_entry_t
id|bufs
(braket
id|DRM_MAX_ORDER
op_plus
l_int|1
)braket
suffix:semicolon
DECL|member|buf_count
r_int
id|buf_count
suffix:semicolon
DECL|member|buflist
id|drm_buf_t
op_star
op_star
id|buflist
suffix:semicolon
multiline_comment|/* Vector of pointers info bufs&t;   */
DECL|member|seg_count
r_int
id|seg_count
suffix:semicolon
DECL|member|page_count
r_int
id|page_count
suffix:semicolon
DECL|member|pagelist
r_int
r_int
op_star
id|pagelist
suffix:semicolon
DECL|member|byte_count
r_int
r_int
id|byte_count
suffix:semicolon
r_enum
(brace
DECL|enumerator|_DRM_DMA_USE_AGP
id|_DRM_DMA_USE_AGP
op_assign
l_int|0x01
DECL|member|flags
)brace
id|flags
suffix:semicolon
multiline_comment|/* DMA support */
DECL|member|this_buffer
id|drm_buf_t
op_star
id|this_buffer
suffix:semicolon
multiline_comment|/* Buffer being sent&t;&t;   */
DECL|member|next_buffer
id|drm_buf_t
op_star
id|next_buffer
suffix:semicolon
multiline_comment|/* Selected buffer to send&t;   */
DECL|member|next_queue
id|drm_queue_t
op_star
id|next_queue
suffix:semicolon
multiline_comment|/* Queue from which buffer selected*/
DECL|member|waiting
id|wait_queue_head_t
id|waiting
suffix:semicolon
multiline_comment|/* Processes waiting on free bufs  */
DECL|typedef|drm_device_dma_t
)brace
id|drm_device_dma_t
suffix:semicolon
macro_line|#if defined(CONFIG_AGP) || defined(CONFIG_AGP_MODULE)
DECL|struct|drm_agp_mem
r_typedef
r_struct
id|drm_agp_mem
(brace
DECL|member|handle
r_int
r_int
id|handle
suffix:semicolon
DECL|member|memory
id|agp_memory
op_star
id|memory
suffix:semicolon
DECL|member|bound
r_int
r_int
id|bound
suffix:semicolon
multiline_comment|/* address */
DECL|member|pages
r_int
id|pages
suffix:semicolon
DECL|member|prev
r_struct
id|drm_agp_mem
op_star
id|prev
suffix:semicolon
DECL|member|next
r_struct
id|drm_agp_mem
op_star
id|next
suffix:semicolon
DECL|typedef|drm_agp_mem_t
)brace
id|drm_agp_mem_t
suffix:semicolon
DECL|struct|drm_agp_head
r_typedef
r_struct
id|drm_agp_head
(brace
DECL|member|agp_info
id|agp_kern_info
id|agp_info
suffix:semicolon
DECL|member|chipset
r_const
r_char
op_star
id|chipset
suffix:semicolon
DECL|member|memory
id|drm_agp_mem_t
op_star
id|memory
suffix:semicolon
DECL|member|mode
r_int
r_int
id|mode
suffix:semicolon
DECL|member|enabled
r_int
id|enabled
suffix:semicolon
DECL|member|acquired
r_int
id|acquired
suffix:semicolon
DECL|member|base
r_int
r_int
id|base
suffix:semicolon
DECL|member|agp_mtrr
r_int
id|agp_mtrr
suffix:semicolon
DECL|typedef|drm_agp_head_t
)brace
id|drm_agp_head_t
suffix:semicolon
macro_line|#endif
DECL|struct|drm_sigdata
r_typedef
r_struct
id|drm_sigdata
(brace
DECL|member|context
r_int
id|context
suffix:semicolon
DECL|member|lock
id|drm_hw_lock_t
op_star
id|lock
suffix:semicolon
DECL|typedef|drm_sigdata_t
)brace
id|drm_sigdata_t
suffix:semicolon
DECL|struct|drm_device
r_typedef
r_struct
id|drm_device
(brace
DECL|member|name
r_const
r_char
op_star
id|name
suffix:semicolon
multiline_comment|/* Simple driver name&t;&t;   */
DECL|member|unique
r_char
op_star
id|unique
suffix:semicolon
multiline_comment|/* Unique identifier: e.g., busid  */
DECL|member|unique_len
r_int
id|unique_len
suffix:semicolon
multiline_comment|/* Length of unique field&t;   */
DECL|member|device
id|dev_t
id|device
suffix:semicolon
multiline_comment|/* Device number for mknod&t;   */
DECL|member|devname
r_char
op_star
id|devname
suffix:semicolon
multiline_comment|/* For /proc/interrupts&t;&t;   */
DECL|member|blocked
r_int
id|blocked
suffix:semicolon
multiline_comment|/* Blocked due to VC switch?&t;   */
DECL|member|root
r_struct
id|proc_dir_entry
op_star
id|root
suffix:semicolon
multiline_comment|/* Root for this device&squot;s entries  */
multiline_comment|/* Locks */
DECL|member|count_lock
id|spinlock_t
id|count_lock
suffix:semicolon
multiline_comment|/* For inuse, open_count, buf_use  */
DECL|member|struct_sem
r_struct
id|semaphore
id|struct_sem
suffix:semicolon
multiline_comment|/* For others&t;&t;&t;   */
multiline_comment|/* Usage Counters */
DECL|member|open_count
r_int
id|open_count
suffix:semicolon
multiline_comment|/* Outstanding files open&t;   */
DECL|member|ioctl_count
id|atomic_t
id|ioctl_count
suffix:semicolon
multiline_comment|/* Outstanding IOCTLs pending&t;   */
DECL|member|vma_count
id|atomic_t
id|vma_count
suffix:semicolon
multiline_comment|/* Outstanding vma areas open&t;   */
DECL|member|buf_use
r_int
id|buf_use
suffix:semicolon
multiline_comment|/* Buffers in use -- cannot alloc  */
DECL|member|buf_alloc
id|atomic_t
id|buf_alloc
suffix:semicolon
multiline_comment|/* Buffer allocation in progress   */
multiline_comment|/* Performance Counters */
DECL|member|total_open
id|atomic_t
id|total_open
suffix:semicolon
DECL|member|total_close
id|atomic_t
id|total_close
suffix:semicolon
DECL|member|total_ioctl
id|atomic_t
id|total_ioctl
suffix:semicolon
DECL|member|total_irq
id|atomic_t
id|total_irq
suffix:semicolon
multiline_comment|/* Total interruptions&t;&t;   */
DECL|member|total_ctx
id|atomic_t
id|total_ctx
suffix:semicolon
multiline_comment|/* Total context switches&t;   */
DECL|member|total_locks
id|atomic_t
id|total_locks
suffix:semicolon
DECL|member|total_unlocks
id|atomic_t
id|total_unlocks
suffix:semicolon
DECL|member|total_contends
id|atomic_t
id|total_contends
suffix:semicolon
DECL|member|total_sleeps
id|atomic_t
id|total_sleeps
suffix:semicolon
multiline_comment|/* Authentication */
DECL|member|file_first
id|drm_file_t
op_star
id|file_first
suffix:semicolon
DECL|member|file_last
id|drm_file_t
op_star
id|file_last
suffix:semicolon
DECL|member|magiclist
id|drm_magic_head_t
id|magiclist
(braket
id|DRM_HASH_SIZE
)braket
suffix:semicolon
multiline_comment|/* Memory management */
DECL|member|maplist
id|drm_map_t
op_star
op_star
id|maplist
suffix:semicolon
multiline_comment|/* Vector of pointers to regions   */
DECL|member|map_count
r_int
id|map_count
suffix:semicolon
multiline_comment|/* Number of mappable regions&t;   */
DECL|member|vmalist
id|drm_vma_entry_t
op_star
id|vmalist
suffix:semicolon
multiline_comment|/* List of vmas (for debugging)&t;   */
DECL|member|lock
id|drm_lock_data_t
id|lock
suffix:semicolon
multiline_comment|/* Information on hardware lock&t;   */
multiline_comment|/* DMA queues (contexts) */
DECL|member|queue_count
r_int
id|queue_count
suffix:semicolon
multiline_comment|/* Number of active DMA queues&t;   */
DECL|member|queue_reserved
r_int
id|queue_reserved
suffix:semicolon
multiline_comment|/* Number of reserved DMA queues */
DECL|member|queue_slots
r_int
id|queue_slots
suffix:semicolon
multiline_comment|/* Actual length of queuelist&t;   */
DECL|member|queuelist
id|drm_queue_t
op_star
op_star
id|queuelist
suffix:semicolon
multiline_comment|/* Vector of pointers to DMA queues */
DECL|member|dma
id|drm_device_dma_t
op_star
id|dma
suffix:semicolon
multiline_comment|/* Optional pointer for DMA support */
multiline_comment|/* Context support */
DECL|member|irq
r_int
id|irq
suffix:semicolon
multiline_comment|/* Interrupt used by board&t;   */
DECL|member|context_flag
id|__volatile__
r_int
id|context_flag
suffix:semicolon
multiline_comment|/* Context swapping flag&t;   */
DECL|member|interrupt_flag
id|__volatile__
r_int
id|interrupt_flag
suffix:semicolon
multiline_comment|/* Interruption handler flag&t;   */
DECL|member|dma_flag
id|__volatile__
r_int
id|dma_flag
suffix:semicolon
multiline_comment|/* DMA dispatch flag&t;&t;   */
DECL|member|timer
r_struct
id|timer_list
id|timer
suffix:semicolon
multiline_comment|/* Timer for delaying ctx switch   */
DECL|member|context_wait
id|wait_queue_head_t
id|context_wait
suffix:semicolon
multiline_comment|/* Processes waiting on ctx switch */
DECL|member|last_checked
r_int
id|last_checked
suffix:semicolon
multiline_comment|/* Last context checked for DMA&t;   */
DECL|member|last_context
r_int
id|last_context
suffix:semicolon
multiline_comment|/* Last current context&t;&t;   */
DECL|member|last_switch
r_int
r_int
id|last_switch
suffix:semicolon
multiline_comment|/* jiffies at last context switch  */
DECL|member|tq
r_struct
id|tq_struct
id|tq
suffix:semicolon
DECL|member|ctx_start
id|cycles_t
id|ctx_start
suffix:semicolon
DECL|member|lck_start
id|cycles_t
id|lck_start
suffix:semicolon
macro_line|#if DRM_DMA_HISTOGRAM
DECL|member|histo
id|drm_histogram_t
id|histo
suffix:semicolon
macro_line|#endif
multiline_comment|/* Callback to X server for context switch&n;&t;&t;&t;&t;   and for heavy-handed reset. */
DECL|member|buf
r_char
id|buf
(braket
id|DRM_BSZ
)braket
suffix:semicolon
multiline_comment|/* Output buffer&t;&t;   */
DECL|member|buf_rp
r_char
op_star
id|buf_rp
suffix:semicolon
multiline_comment|/* Read pointer&t;&t;&t;   */
DECL|member|buf_wp
r_char
op_star
id|buf_wp
suffix:semicolon
multiline_comment|/* Write pointer&t;&t;   */
DECL|member|buf_end
r_char
op_star
id|buf_end
suffix:semicolon
multiline_comment|/* End pointer&t;&t;&t;   */
DECL|member|buf_async
r_struct
id|fasync_struct
op_star
id|buf_async
suffix:semicolon
multiline_comment|/* Processes waiting for SIGIO&t;   */
DECL|member|buf_readers
id|wait_queue_head_t
id|buf_readers
suffix:semicolon
multiline_comment|/* Processes waiting to read&t;   */
DECL|member|buf_writers
id|wait_queue_head_t
id|buf_writers
suffix:semicolon
multiline_comment|/* Processes waiting to ctx switch */
macro_line|#if defined(CONFIG_AGP) || defined(CONFIG_AGP_MODULE)
DECL|member|agp
id|drm_agp_head_t
op_star
id|agp
suffix:semicolon
macro_line|#endif
DECL|member|ctx_bitmap
r_int
r_int
op_star
id|ctx_bitmap
suffix:semicolon
DECL|member|dev_private
r_void
op_star
id|dev_private
suffix:semicolon
DECL|member|sigdata
id|drm_sigdata_t
id|sigdata
suffix:semicolon
multiline_comment|/* For block_all_signals */
DECL|member|sigmask
id|sigset_t
id|sigmask
suffix:semicolon
DECL|typedef|drm_device_t
)brace
id|drm_device_t
suffix:semicolon
multiline_comment|/* Internal function definitions */
multiline_comment|/* Misc. support (init.c) */
r_extern
r_int
id|drm_flags
suffix:semicolon
r_extern
r_void
id|drm_parse_options
c_func
(paren
r_char
op_star
id|s
)paren
suffix:semicolon
r_extern
r_int
id|drm_cpu_valid
c_func
(paren
r_void
)paren
suffix:semicolon
multiline_comment|/* Device support (fops.c) */
r_extern
r_int
id|drm_open_helper
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
id|drm_device_t
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|drm_flush
c_func
(paren
r_struct
id|file
op_star
id|filp
)paren
suffix:semicolon
r_extern
r_int
id|drm_release
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
)paren
suffix:semicolon
r_extern
r_int
id|drm_fasync
c_func
(paren
r_int
id|fd
comma
r_struct
id|file
op_star
id|filp
comma
r_int
id|on
)paren
suffix:semicolon
r_extern
id|ssize_t
id|drm_read
c_func
(paren
r_struct
id|file
op_star
id|filp
comma
r_char
op_star
id|buf
comma
r_int
id|count
comma
id|loff_t
op_star
id|off
)paren
suffix:semicolon
r_extern
r_int
id|drm_write_string
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
r_const
r_char
op_star
id|s
)paren
suffix:semicolon
r_extern
r_int
r_int
id|drm_poll
c_func
(paren
r_struct
id|file
op_star
id|filp
comma
r_struct
id|poll_table_struct
op_star
id|wait
)paren
suffix:semicolon
multiline_comment|/* Mapping support (vm.c) */
macro_line|#if LINUX_VERSION_CODE &lt; 0x020317
r_extern
r_int
r_int
id|drm_vm_nopage
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|address
comma
r_int
id|write_access
)paren
suffix:semicolon
r_extern
r_int
r_int
id|drm_vm_shm_nopage
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|address
comma
r_int
id|write_access
)paren
suffix:semicolon
r_extern
r_int
r_int
id|drm_vm_shm_nopage_lock
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|address
comma
r_int
id|write_access
)paren
suffix:semicolon
r_extern
r_int
r_int
id|drm_vm_dma_nopage
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|address
comma
r_int
id|write_access
)paren
suffix:semicolon
macro_line|#else
multiline_comment|/* Return type changed in 2.3.23 */
r_extern
r_struct
id|page
op_star
id|drm_vm_nopage
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|address
comma
r_int
id|write_access
)paren
suffix:semicolon
r_extern
r_struct
id|page
op_star
id|drm_vm_shm_nopage
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|address
comma
r_int
id|write_access
)paren
suffix:semicolon
r_extern
r_struct
id|page
op_star
id|drm_vm_shm_nopage_lock
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|address
comma
r_int
id|write_access
)paren
suffix:semicolon
r_extern
r_struct
id|page
op_star
id|drm_vm_dma_nopage
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
comma
r_int
r_int
id|address
comma
r_int
id|write_access
)paren
suffix:semicolon
macro_line|#endif
r_extern
r_void
id|drm_vm_open
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
)paren
suffix:semicolon
r_extern
r_void
id|drm_vm_close
c_func
(paren
r_struct
id|vm_area_struct
op_star
id|vma
)paren
suffix:semicolon
r_extern
r_int
id|drm_mmap_dma
c_func
(paren
r_struct
id|file
op_star
id|filp
comma
r_struct
id|vm_area_struct
op_star
id|vma
)paren
suffix:semicolon
r_extern
r_int
id|drm_mmap
c_func
(paren
r_struct
id|file
op_star
id|filp
comma
r_struct
id|vm_area_struct
op_star
id|vma
)paren
suffix:semicolon
multiline_comment|/* Proc support (proc.c) */
r_extern
r_int
id|drm_proc_init
c_func
(paren
id|drm_device_t
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|drm_proc_cleanup
c_func
(paren
r_void
)paren
suffix:semicolon
multiline_comment|/* Memory management support (memory.c) */
r_extern
r_void
id|drm_mem_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_int
id|drm_mem_info
c_func
(paren
r_char
op_star
id|buf
comma
r_char
op_star
op_star
id|start
comma
id|off_t
id|offset
comma
r_int
id|len
comma
r_int
op_star
id|eof
comma
r_void
op_star
id|data
)paren
suffix:semicolon
r_extern
r_void
op_star
id|drm_alloc
c_func
(paren
r_int
id|size
comma
r_int
id|area
)paren
suffix:semicolon
r_extern
r_void
op_star
id|drm_realloc
c_func
(paren
r_void
op_star
id|oldpt
comma
r_int
id|oldsize
comma
r_int
id|size
comma
r_int
id|area
)paren
suffix:semicolon
r_extern
r_char
op_star
id|drm_strdup
c_func
(paren
r_const
r_char
op_star
id|s
comma
r_int
id|area
)paren
suffix:semicolon
r_extern
r_void
id|drm_strfree
c_func
(paren
r_const
r_char
op_star
id|s
comma
r_int
id|area
)paren
suffix:semicolon
r_extern
r_void
id|drm_free
c_func
(paren
r_void
op_star
id|pt
comma
r_int
id|size
comma
r_int
id|area
)paren
suffix:semicolon
r_extern
r_int
r_int
id|drm_alloc_pages
c_func
(paren
r_int
id|order
comma
r_int
id|area
)paren
suffix:semicolon
r_extern
r_void
id|drm_free_pages
c_func
(paren
r_int
r_int
id|address
comma
r_int
id|order
comma
r_int
id|area
)paren
suffix:semicolon
r_extern
r_void
op_star
id|drm_ioremap
c_func
(paren
r_int
r_int
id|offset
comma
r_int
r_int
id|size
)paren
suffix:semicolon
r_extern
r_void
id|drm_ioremapfree
c_func
(paren
r_void
op_star
id|pt
comma
r_int
r_int
id|size
)paren
suffix:semicolon
macro_line|#if defined(CONFIG_AGP) || defined(CONFIG_AGP_MODULE)
r_extern
id|agp_memory
op_star
id|drm_alloc_agp
c_func
(paren
r_int
id|pages
comma
id|u32
id|type
)paren
suffix:semicolon
r_extern
r_int
id|drm_free_agp
c_func
(paren
id|agp_memory
op_star
id|handle
comma
r_int
id|pages
)paren
suffix:semicolon
r_extern
r_int
id|drm_bind_agp
c_func
(paren
id|agp_memory
op_star
id|handle
comma
r_int
r_int
id|start
)paren
suffix:semicolon
r_extern
r_int
id|drm_unbind_agp
c_func
(paren
id|agp_memory
op_star
id|handle
)paren
suffix:semicolon
macro_line|#endif
multiline_comment|/* Buffer management support (bufs.c) */
r_extern
r_int
id|drm_order
c_func
(paren
r_int
r_int
id|size
)paren
suffix:semicolon
r_extern
r_int
id|drm_addmap
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_addbufs
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_infobufs
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_markbufs
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_freebufs
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_mapbufs
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
multiline_comment|/* Buffer list management support (lists.c) */
r_extern
r_int
id|drm_waitlist_create
c_func
(paren
id|drm_waitlist_t
op_star
id|bl
comma
r_int
id|count
)paren
suffix:semicolon
r_extern
r_int
id|drm_waitlist_destroy
c_func
(paren
id|drm_waitlist_t
op_star
id|bl
)paren
suffix:semicolon
r_extern
r_int
id|drm_waitlist_put
c_func
(paren
id|drm_waitlist_t
op_star
id|bl
comma
id|drm_buf_t
op_star
id|buf
)paren
suffix:semicolon
r_extern
id|drm_buf_t
op_star
id|drm_waitlist_get
c_func
(paren
id|drm_waitlist_t
op_star
id|bl
)paren
suffix:semicolon
r_extern
r_int
id|drm_freelist_create
c_func
(paren
id|drm_freelist_t
op_star
id|bl
comma
r_int
id|count
)paren
suffix:semicolon
r_extern
r_int
id|drm_freelist_destroy
c_func
(paren
id|drm_freelist_t
op_star
id|bl
)paren
suffix:semicolon
r_extern
r_int
id|drm_freelist_put
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|drm_freelist_t
op_star
id|bl
comma
id|drm_buf_t
op_star
id|buf
)paren
suffix:semicolon
r_extern
id|drm_buf_t
op_star
id|drm_freelist_get
c_func
(paren
id|drm_freelist_t
op_star
id|bl
comma
r_int
id|block
)paren
suffix:semicolon
multiline_comment|/* DMA support (gen_dma.c) */
r_extern
r_void
id|drm_dma_setup
c_func
(paren
id|drm_device_t
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_void
id|drm_dma_takedown
c_func
(paren
id|drm_device_t
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_void
id|drm_free_buffer
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|drm_buf_t
op_star
id|buf
)paren
suffix:semicolon
r_extern
r_void
id|drm_reclaim_buffers
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|pid_t
id|pid
)paren
suffix:semicolon
r_extern
r_int
id|drm_context_switch
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
r_int
id|old
comma
r_int
r_new
)paren
suffix:semicolon
r_extern
r_int
id|drm_context_switch_complete
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
r_int
r_new
)paren
suffix:semicolon
r_extern
r_void
id|drm_clear_next_buffer
c_func
(paren
id|drm_device_t
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|drm_select_queue
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
r_void
(paren
op_star
id|wrapper
)paren
(paren
r_int
r_int
)paren
)paren
suffix:semicolon
r_extern
r_int
id|drm_dma_enqueue
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|drm_dma_t
op_star
id|dma
)paren
suffix:semicolon
r_extern
r_int
id|drm_dma_get_buffers
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|drm_dma_t
op_star
id|dma
)paren
suffix:semicolon
macro_line|#if DRM_DMA_HISTOGRAM
r_extern
r_int
id|drm_histogram_slot
c_func
(paren
r_int
r_int
id|count
)paren
suffix:semicolon
r_extern
r_void
id|drm_histogram_compute
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|drm_buf_t
op_star
id|buf
)paren
suffix:semicolon
macro_line|#endif
multiline_comment|/* Misc. IOCTL support (ioctl.c) */
r_extern
r_int
id|drm_irq_busid
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_getunique
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_setunique
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
multiline_comment|/* Context IOCTL support (context.c) */
r_extern
r_int
id|drm_resctx
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_addctx
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_modctx
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_getctx
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_switchctx
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_newctx
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_rmctx
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
multiline_comment|/* Drawable IOCTL support (drawable.c) */
r_extern
r_int
id|drm_adddraw
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_rmdraw
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
multiline_comment|/* Authentication IOCTL support (auth.c) */
r_extern
r_int
id|drm_add_magic
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|drm_file_t
op_star
id|priv
comma
id|drm_magic_t
id|magic
)paren
suffix:semicolon
r_extern
r_int
id|drm_remove_magic
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|drm_magic_t
id|magic
)paren
suffix:semicolon
r_extern
r_int
id|drm_getmagic
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_authmagic
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
multiline_comment|/* Locking IOCTL support (lock.c) */
r_extern
r_int
id|drm_block
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_unblock
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_lock_take
c_func
(paren
id|__volatile__
r_int
r_int
op_star
id|lock
comma
r_int
r_int
id|context
)paren
suffix:semicolon
r_extern
r_int
id|drm_lock_transfer
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|__volatile__
r_int
r_int
op_star
id|lock
comma
r_int
r_int
id|context
)paren
suffix:semicolon
r_extern
r_int
id|drm_lock_free
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
id|__volatile__
r_int
r_int
op_star
id|lock
comma
r_int
r_int
id|context
)paren
suffix:semicolon
r_extern
r_int
id|drm_finish
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_flush_unblock
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
r_int
id|context
comma
id|drm_lock_flags_t
id|flags
)paren
suffix:semicolon
r_extern
r_int
id|drm_flush_block_and_flush
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
r_int
id|context
comma
id|drm_lock_flags_t
id|flags
)paren
suffix:semicolon
r_extern
r_int
id|drm_notifier
c_func
(paren
r_void
op_star
id|priv
)paren
suffix:semicolon
multiline_comment|/* Context Bitmap support (ctxbitmap.c) */
r_extern
r_int
id|drm_ctxbitmap_init
c_func
(paren
id|drm_device_t
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_void
id|drm_ctxbitmap_cleanup
c_func
(paren
id|drm_device_t
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_int
id|drm_ctxbitmap_next
c_func
(paren
id|drm_device_t
op_star
id|dev
)paren
suffix:semicolon
r_extern
r_void
id|drm_ctxbitmap_free
c_func
(paren
id|drm_device_t
op_star
id|dev
comma
r_int
id|ctx_handle
)paren
suffix:semicolon
macro_line|#if defined(CONFIG_AGP) || defined(CONFIG_AGP_MODULE)
multiline_comment|/* AGP/GART support (agpsupport.c) */
r_extern
id|drm_agp_head_t
op_star
id|drm_agp_init
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_void
id|drm_agp_uninit
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_acquire
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_void
id|_drm_agp_release
c_func
(paren
r_void
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_release
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_enable
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_info
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_alloc
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_free
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_unbind
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_bind
c_func
(paren
r_struct
id|inode
op_star
id|inode
comma
r_struct
id|file
op_star
id|filp
comma
r_int
r_int
id|cmd
comma
r_int
r_int
id|arg
)paren
suffix:semicolon
r_extern
id|agp_memory
op_star
id|drm_agp_allocate_memory
c_func
(paren
r_int
id|pages
comma
id|u32
id|type
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_free_memory
c_func
(paren
id|agp_memory
op_star
id|handle
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_bind_memory
c_func
(paren
id|agp_memory
op_star
id|handle
comma
id|off_t
id|start
)paren
suffix:semicolon
r_extern
r_int
id|drm_agp_unbind_memory
c_func
(paren
id|agp_memory
op_star
id|handle
)paren
suffix:semicolon
macro_line|#endif
macro_line|#endif
macro_line|#endif
eof
