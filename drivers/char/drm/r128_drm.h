multiline_comment|/* r128_drm.h -- Public header for the r128 driver -*- linux-c -*-&n; * Created: Wed Apr  5 19:24:19 2000 by kevin@precisioninsight.com&n; *&n; * Copyright 2000 Precision Insight, Inc., Cedar Park, Texas.&n; * Copyright 2000 VA Linux Systems, Inc., Sunnyvale, California.&n; * All rights reserved.&n; *&n; * Permission is hereby granted, free of charge, to any person obtaining a&n; * copy of this software and associated documentation files (the &quot;Software&quot;),&n; * to deal in the Software without restriction, including without limitation&n; * the rights to use, copy, modify, merge, publish, distribute, sublicense,&n; * and/or sell copies of the Software, and to permit persons to whom the&n; * Software is furnished to do so, subject to the following conditions:&n; * &n; * The above copyright notice and this permission notice (including the next&n; * paragraph) shall be included in all copies or substantial portions of the&n; * Software.&n; * &n; * THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR&n; * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,&n; * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL&n; * PRECISION INSIGHT AND/OR ITS SUPPLIERS BE LIABLE FOR ANY CLAIM, DAMAGES OR&n; * OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,&n; * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER&n; * DEALINGS IN THE SOFTWARE.&n; *&n; * Authors: Kevin E. Martin &lt;martin@valinux.com&gt;&n; *&n; */
macro_line|#ifndef _R128_DRM_H_
DECL|macro|_R128_DRM_H_
mdefine_line|#define _R128_DRM_H_
multiline_comment|/* WARNING: If you change any of these defines, make sure to change the&n; * defines in the Xserver file (xf86drmR128.h)&n; */
DECL|struct|drm_r128_init
r_typedef
r_struct
id|drm_r128_init
(brace
r_enum
(brace
DECL|enumerator|R128_INIT_CCE
id|R128_INIT_CCE
op_assign
l_int|0x01
comma
DECL|enumerator|R128_CLEANUP_CCE
id|R128_CLEANUP_CCE
op_assign
l_int|0x02
DECL|member|func
)brace
id|func
suffix:semicolon
DECL|member|sarea_priv_offset
r_int
id|sarea_priv_offset
suffix:semicolon
DECL|member|is_pci
r_int
id|is_pci
suffix:semicolon
DECL|member|cce_mode
r_int
id|cce_mode
suffix:semicolon
DECL|member|cce_fifo_size
r_int
id|cce_fifo_size
suffix:semicolon
DECL|member|cce_secure
r_int
id|cce_secure
suffix:semicolon
DECL|member|ring_size
r_int
id|ring_size
suffix:semicolon
DECL|member|usec_timeout
r_int
id|usec_timeout
suffix:semicolon
DECL|member|fb_offset
r_int
id|fb_offset
suffix:semicolon
DECL|member|agp_ring_offset
r_int
id|agp_ring_offset
suffix:semicolon
DECL|member|agp_read_ptr_offset
r_int
id|agp_read_ptr_offset
suffix:semicolon
DECL|member|agp_vertbufs_offset
r_int
id|agp_vertbufs_offset
suffix:semicolon
DECL|member|agp_indbufs_offset
r_int
id|agp_indbufs_offset
suffix:semicolon
DECL|member|agp_textures_offset
r_int
id|agp_textures_offset
suffix:semicolon
DECL|member|mmio_offset
r_int
id|mmio_offset
suffix:semicolon
DECL|typedef|drm_r128_init_t
)brace
id|drm_r128_init_t
suffix:semicolon
DECL|struct|drm_r128_packet
r_typedef
r_struct
id|drm_r128_packet
(brace
DECL|member|buffer
r_int
r_int
op_star
id|buffer
suffix:semicolon
DECL|member|count
r_int
id|count
suffix:semicolon
DECL|member|flags
r_int
id|flags
suffix:semicolon
DECL|typedef|drm_r128_packet_t
)brace
id|drm_r128_packet_t
suffix:semicolon
DECL|enum|drm_r128_prim
r_typedef
r_enum
id|drm_r128_prim
(brace
DECL|enumerator|_DRM_R128_PRIM_NONE
id|_DRM_R128_PRIM_NONE
op_assign
l_int|0x0001
comma
DECL|enumerator|_DRM_R128_PRIM_POINT
id|_DRM_R128_PRIM_POINT
op_assign
l_int|0x0002
comma
DECL|enumerator|_DRM_R128_PRIM_LINE
id|_DRM_R128_PRIM_LINE
op_assign
l_int|0x0004
comma
DECL|enumerator|_DRM_R128_PRIM_POLY_LINE
id|_DRM_R128_PRIM_POLY_LINE
op_assign
l_int|0x0008
comma
DECL|enumerator|_DRM_R128_PRIM_TRI_LIST
id|_DRM_R128_PRIM_TRI_LIST
op_assign
l_int|0x0010
comma
DECL|enumerator|_DRM_R128_PRIM_TRI_FAN
id|_DRM_R128_PRIM_TRI_FAN
op_assign
l_int|0x0020
comma
DECL|enumerator|_DRM_R128_PRIM_TRI_STRIP
id|_DRM_R128_PRIM_TRI_STRIP
op_assign
l_int|0x0040
comma
DECL|enumerator|_DRM_R128_PRIM_TRI_TYPE2
id|_DRM_R128_PRIM_TRI_TYPE2
op_assign
l_int|0x0080
DECL|typedef|drm_r128_prim_t
)brace
id|drm_r128_prim_t
suffix:semicolon
DECL|struct|drm_r128_vertex
r_typedef
r_struct
id|drm_r128_vertex
(brace
multiline_comment|/* Indices here refer to the offset into&n;&t;&t;&t;&t;   buflist in drm_buf_get_t.  */
DECL|member|send_count
r_int
id|send_count
suffix:semicolon
multiline_comment|/* Number of buffers to send&t;    */
DECL|member|send_indices
r_int
op_star
id|send_indices
suffix:semicolon
multiline_comment|/* List of handles to buffers&t;    */
DECL|member|send_sizes
r_int
op_star
id|send_sizes
suffix:semicolon
multiline_comment|/* Lengths of data to send&t;    */
DECL|member|prim
id|drm_r128_prim_t
id|prim
suffix:semicolon
multiline_comment|/* Primitive type&t;&t;    */
DECL|member|request_count
r_int
id|request_count
suffix:semicolon
multiline_comment|/* Number of buffers requested    */
DECL|member|request_indices
r_int
op_star
id|request_indices
suffix:semicolon
multiline_comment|/* Buffer information&t;&t;    */
DECL|member|request_sizes
r_int
op_star
id|request_sizes
suffix:semicolon
DECL|member|granted_count
r_int
id|granted_count
suffix:semicolon
multiline_comment|/* Number of buffers granted&t;    */
DECL|typedef|drm_r128_vertex_t
)brace
id|drm_r128_vertex_t
suffix:semicolon
multiline_comment|/* WARNING: If you change any of these defines, make sure to change the&n; * defines in the Xserver file (r128_sarea.h)&n; */
DECL|macro|R128_LOCAL_TEX_HEAP
mdefine_line|#define R128_LOCAL_TEX_HEAP       0
DECL|macro|R128_AGP_TEX_HEAP
mdefine_line|#define R128_AGP_TEX_HEAP         1
DECL|macro|R128_NR_TEX_HEAPS
mdefine_line|#define R128_NR_TEX_HEAPS         2
DECL|macro|R128_NR_TEX_REGIONS
mdefine_line|#define R128_NR_TEX_REGIONS      64
DECL|macro|R128_LOG_TEX_GRANULARITY
mdefine_line|#define R128_LOG_TEX_GRANULARITY 16
DECL|struct|drm_tex_region
r_typedef
r_struct
id|drm_tex_region
(brace
DECL|member|next
DECL|member|prev
r_int
r_char
id|next
comma
id|prev
suffix:semicolon
DECL|member|in_use
r_int
r_char
id|in_use
suffix:semicolon
DECL|member|age
r_int
id|age
suffix:semicolon
DECL|typedef|drm_tex_region_t
)brace
id|drm_tex_region_t
suffix:semicolon
DECL|struct|drm_r128_sarea
r_typedef
r_struct
id|drm_r128_sarea
(brace
DECL|member|tex_list
id|drm_tex_region_t
id|tex_list
(braket
id|R128_NR_TEX_HEAPS
)braket
(braket
id|R128_NR_TEX_REGIONS
op_plus
l_int|1
)braket
suffix:semicolon
DECL|member|tex_age
r_int
id|tex_age
(braket
id|R128_NR_TEX_HEAPS
)braket
suffix:semicolon
DECL|member|ctx_owner
r_int
id|ctx_owner
suffix:semicolon
DECL|member|ring_write
r_int
id|ring_write
suffix:semicolon
DECL|typedef|drm_r128_sarea_t
)brace
id|drm_r128_sarea_t
suffix:semicolon
macro_line|#endif
eof
