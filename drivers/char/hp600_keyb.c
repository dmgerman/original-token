multiline_comment|/*&n; *&t;$Id: hp600_keyb.c,v 1.1 2000/06/10 21:45:30 yaegashi Exp $&n; *&t;Copyright (C) 2000 YAEGASHI Takeshi&n; *&t;HP600 keyboard scan routine and translate table&n; */
macro_line|#include &lt;linux/kernel.h&gt;
macro_line|#include &lt;linux/sched.h&gt;
macro_line|#include &lt;linux/init.h&gt;
macro_line|#include &lt;linux/delay.h&gt;
macro_line|#include &lt;asm/io.h&gt;
macro_line|#include &quot;scan_keyb.h&quot;
DECL|macro|PCDR
mdefine_line|#define PCDR 0xa4000124
DECL|macro|PDDR
mdefine_line|#define PDDR 0xa4000126
DECL|macro|PEDR
mdefine_line|#define PEDR 0xa4000128
DECL|macro|PFDR
mdefine_line|#define PFDR 0xa400012a
DECL|macro|PGDR
mdefine_line|#define PGDR 0xa400012c
DECL|macro|PHDR
mdefine_line|#define PHDR 0xa400012e
DECL|variable|hp690_japanese_table
r_static
r_const
r_int
r_char
id|hp690_japanese_table
(braket
)braket
op_assign
initialization_block
suffix:semicolon
DECL|variable|hp690_switch
r_static
r_const
r_int
r_char
id|hp690_switch
(braket
)braket
op_assign
(brace
l_int|0xfd
comma
l_int|0xff
comma
l_int|0xdf
comma
l_int|0xff
comma
l_int|0x7f
comma
l_int|0xff
comma
l_int|0xff
comma
l_int|0xfe
comma
l_int|0xff
comma
l_int|0xfd
comma
l_int|0xff
comma
l_int|0xf7
comma
l_int|0xff
comma
l_int|0xbf
comma
l_int|0xff
comma
l_int|0x7f
comma
)brace
suffix:semicolon
DECL|function|hp690_japanese_scan_kbd
r_static
r_void
id|hp690_japanese_scan_kbd
c_func
(paren
r_int
r_char
op_star
id|s
)paren
(brace
r_int
id|i
suffix:semicolon
r_int
r_const
r_char
op_star
id|t
op_assign
id|hp690_switch
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
l_int|9
suffix:semicolon
id|i
op_increment
)paren
(brace
id|ctrl_outb
c_func
(paren
op_star
id|t
op_increment
comma
id|PDDR
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
op_star
id|t
op_increment
comma
id|PEDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PCDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PFDR
)paren
suffix:semicolon
)brace
id|ctrl_outb
c_func
(paren
l_int|0xff
comma
id|PDDR
)paren
suffix:semicolon
id|ctrl_outb
c_func
(paren
l_int|0xff
comma
id|PEDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PGDR
)paren
suffix:semicolon
op_star
id|s
op_increment
op_assign
id|ctrl_inb
c_func
(paren
id|PHDR
)paren
suffix:semicolon
)brace
DECL|function|hp600_kbd_init_hw
r_void
id|__init
id|hp600_kbd_init_hw
c_func
(paren
r_void
)paren
(brace
id|scan_kbd_init
c_func
(paren
)paren
suffix:semicolon
id|register_scan_keyboard
c_func
(paren
id|hp690_japanese_scan_kbd
comma
id|hp690_japanese_table
comma
l_int|18
)paren
suffix:semicolon
id|printk
c_func
(paren
id|KERN_INFO
l_string|&quot;HP600 matrix scan keyboard registered&bslash;n&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/****************************************************************&n;HP Jornada 690(Japanese version) keyboard scan matrix&n;&n;&t;PTC7&t;PTC6&t;PTC5&t;PTC4&t;PTC3&t;PTC2&t;PTC1&t;PTC0&t;&n;PTD1&t;REC&t;&t;&t;Escape&t;on/off&t;Han/Zen&t;Hira&t;Eisu&t;&n;PTD5&t;REC&t;&t;&t;Z&t;on/off&t;Enter&t;:&t;/&t;&n;PTD7&t;REC&t;&t;&t;&t;&t;&t;Right&t;Down&t;&n;PTE0&t;REC&t;&t;&t;Windows&t;on/off&t;&t;&t;&t;&n;PTE1&t;REC&t;&t;&t;A&t;on/off&t;]&t;[&t;;&t;&n;PTE3&t;REC&t;&t;&t;Tab&t;on/off&t;ShirtR&t;&bslash;&t;Up&t;&n;PTE6&t;REC&t;&t;&t;Q&t;on/off&t;BS&t;@&t;P&t;&n;PTE7&t;REC&t;&t;&t;1&t;on/off&t;^&t;-&t;0&t;&n;&n;&n;&t;PTF7&t;PTF6&t;PTF5&t;PTF4&t;PTF3&t;PTF2&t;PTF1&t;PTF0&n;PTD1&t;F5&t;F4&t;F6&t;F7&t;F8&t;F3&t;F2&t;F1&t;&n;PTD5&t;N&t;B&t;M&t;,&t;.&t;V&t;C&t;X&t;&n;PTD7&t;Muhen&t;Alt&t;&t;&t;Left&t;&t;&t;&t;&n;PTE0&t;&t;&t;Henkan&t;_&t;Del&t;Space&t;&t;Ctrl&t;&n;PTE1&t;H&t;G&t;J&t;K&t;L&t;F&t;D&t;S&t;&n;PTE3&t;&t;&t;&t;&t;&t;&t;ShiftL&t;&t;&n;PTE6&t;Y&t;T&t;U&t;I&t;O&t;R&t;E&t;W&t;&n;PTE7&t;6&t;5&t;7&t;8&t;9&t;4&t;3&t;2&t;&n;&n;&t;PTG5&t;PTG4&t;PTG3&t;PTG0&t;PTH0&n;*&t;REC&t;REW&t;FWW&t;Cover&t;on/off&n;&n;&n;&t;&t;7&t;6&t;5&t;4&t;3&t;2&t;1&t;0&n;C: 0xffff 0xdf&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&n;D: 0x6786 0x59&t;O&t;I&t;O&t;IP&t;I&t;F&t;O&t;I&n;E: 0x5045 0x00&t;O&t;O&t;F&t;F&t;O&t;F&t;O&t;O&n;F: 0xffff 0xff&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&t;IP&n;G: 0xaffe 0xfd&t;I&t;I&t;IP&t;IP&t;IP&t;IP&t;IP&t;I&n;H: 0x70f2 0x49&t;O&t;IP&t;F&t;F&t;IP&t;IP&t;F&t;I&n;J: 0x0704 0x22&t;F&t;F&t;O&t;IP&t;F&t;F&t;O&t;F&n;K: 0x0100 0x10&t;F&t;F&t;F&t;O&t;F&t;F&t;F&t;F&n;L: 0x0c3c 0x26&t;F&t;F&t;IP&t;F&t;F&t;IP&t;IP&t;F&n;&n;****************************************************************/
eof
