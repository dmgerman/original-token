multiline_comment|/*****************************************************************************/
multiline_comment|/*&n; *      gentbl.c  --  Linux soundcard HF FSK driver,&n; *                    Table generator.&n; *&n; *      Copyright (C) 1997  Thomas Sailer (sailer@ife.ee.ethz.ch)&n; *        Swiss Federal Institute of Technology (ETH), Electronics Lab&n; *&n; *      This program is free software; you can redistribute it and/or modify&n; *      it under the terms of the GNU General Public License as published by&n; *      the Free Software Foundation; either version 2 of the License, or&n; *      (at your option) any later version.&n; *&n; *      This program is distributed in the hope that it will be useful,&n; *      but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *      MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *      GNU General Public License for more details.&n; *&n; *      You should have received a copy of the GNU General Public License&n; *      along with this program; if not, write to the Free Software&n; *      Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; *&n; *&n; */
multiline_comment|/*****************************************************************************/
multiline_comment|/* This is compiled with HOSTCC - do not include any &lt;linux/foo.h&gt; headers. */
macro_line|#include &lt;math.h&gt;
macro_line|#include &lt;stdio.h&gt;
multiline_comment|/* --------------------------------------------------------------------- */
DECL|macro|SINTABBITS
mdefine_line|#define SINTABBITS  9
DECL|macro|SINTABSIZE
mdefine_line|#define SINTABSIZE  (1&lt;&lt;SINTABBITS)
multiline_comment|/* --------------------------------------------------------------------- */
DECL|function|gensintbl
r_static
r_void
id|gensintbl
c_func
(paren
r_void
)paren
(brace
r_int
id|i
suffix:semicolon
id|printf
c_func
(paren
l_string|&quot;#define SINTABBITS %d&bslash;n#define SINTABSIZE  (1&lt;&lt;SINTABBITS)&bslash;n&quot;
l_string|&quot;&bslash;nstatic short isintab[SINTABSIZE+SINTABSIZE/4] = {&bslash;n&bslash;t&quot;
comma
id|SINTABBITS
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
(paren
id|SINTABSIZE
op_plus
id|SINTABSIZE
op_div
l_int|4
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
id|printf
c_func
(paren
l_string|&quot;%6d&quot;
comma
(paren
r_int
)paren
(paren
l_float|32767.0
op_star
id|sin
c_func
(paren
l_float|2.0
op_star
id|M_PI
op_div
id|SINTABSIZE
op_star
id|i
)paren
)paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|i
OL
(paren
id|SINTABSIZE
op_plus
id|SINTABSIZE
op_div
l_int|4
)paren
op_minus
l_int|1
)paren
(brace
r_if
c_cond
(paren
(paren
id|i
op_amp
l_int|7
)paren
op_eq
l_int|7
)paren
id|printf
c_func
(paren
l_string|&quot;,&bslash;n&bslash;t&quot;
)paren
suffix:semicolon
r_else
id|printf
c_func
(paren
l_string|&quot;,&quot;
)paren
suffix:semicolon
)brace
)brace
id|printf
c_func
(paren
l_string|&quot;&bslash;n};&bslash;n&bslash;n&quot;
)paren
suffix:semicolon
)brace
multiline_comment|/* --------------------------------------------------------------------- */
DECL|function|main
r_int
id|main
c_func
(paren
r_int
id|argc
comma
r_char
op_star
id|argv
(braket
)braket
)paren
(brace
id|printf
c_func
(paren
l_string|&quot;/*&bslash;n * This file is automatically generated by %s, DO NOT EDIT!&bslash;n*/&bslash;n&bslash;n&quot;
comma
id|argv
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|gensintbl
c_func
(paren
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
multiline_comment|/* --------------------------------------------------------------------- */
eof
