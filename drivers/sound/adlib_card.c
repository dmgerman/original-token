multiline_comment|/*&n; * sound/adlib_card.c&n; *&n; * Detection routine for the AdLib card.&n; */
multiline_comment|/*&n; * Copyright (C) by Hannu Savolainen 1993-1996&n; *&n; * OSS/Free for Linux is distributed under the GNU GENERAL PUBLIC LICENSE (GPL)&n; * Version 2 (June 1991). See the &quot;COPYING&quot; file distributed with this software&n; * for more info.&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &quot;sound_config.h&quot;
macro_line|#if defined(CONFIG_YM3812)
r_void
DECL|function|attach_adlib_card
id|attach_adlib_card
(paren
r_struct
id|address_info
op_star
id|hw_config
)paren
(brace
id|opl3_init
(paren
id|hw_config-&gt;io_base
comma
id|hw_config-&gt;osp
)paren
suffix:semicolon
id|request_region
(paren
id|hw_config-&gt;io_base
comma
l_int|4
comma
l_string|&quot;OPL3/OPL2&quot;
)paren
suffix:semicolon
)brace
r_int
DECL|function|probe_adlib
id|probe_adlib
(paren
r_struct
id|address_info
op_star
id|hw_config
)paren
(brace
r_if
c_cond
(paren
id|check_region
(paren
id|hw_config-&gt;io_base
comma
l_int|4
)paren
)paren
(brace
id|DDB
(paren
id|printk
(paren
l_string|&quot;opl3.c: I/O port %x already in use&bslash;n&quot;
comma
id|hw_config-&gt;io_base
)paren
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_return
id|opl3_detect
(paren
id|hw_config-&gt;io_base
comma
id|hw_config-&gt;osp
)paren
suffix:semicolon
)brace
r_void
DECL|function|unload_adlib
id|unload_adlib
(paren
r_struct
id|address_info
op_star
id|hw_config
)paren
(brace
id|release_region
(paren
id|hw_config-&gt;io_base
comma
l_int|4
)paren
suffix:semicolon
)brace
macro_line|#endif
eof
