multiline_comment|/*&n; * sound/sb_card.c&n; *&n; * Detection routine for the SoundBlaster cards.&n; */
multiline_comment|/*&n; * Copyright by Hannu Savolainen 1993-1996&n; *&n; * Redistribution and use in source and binary forms, with or without&n; * modification, are permitted provided that the following conditions are&n; * met: 1. Redistributions of source code must retain the above copyright&n; * notice, this list of conditions and the following disclaimer. 2.&n; * Redistributions in binary form must reproduce the above copyright notice,&n; * this list of conditions and the following disclaimer in the documentation&n; * and/or other materials provided with the distribution.&n; *&n; * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS&squot;&squot; AND ANY&n; * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED&n; * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE&n; * DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE FOR&n; * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL&n; * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR&n; * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER&n; * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT&n; * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY&n; * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF&n; * SUCH DAMAGE.&n; */
macro_line|#include &lt;linux/config.h&gt;
macro_line|#include &quot;sound_config.h&quot;
macro_line|#if defined(CONFIG_SB)
macro_line|#include &quot;sb.h&quot;
r_int
DECL|function|attach_sb_card
id|attach_sb_card
(paren
r_int
id|mem_start
comma
r_struct
id|address_info
op_star
id|hw_config
)paren
(brace
macro_line|#if defined(CONFIG_AUDIO) || defined(CONFIG_MIDI)
r_if
c_cond
(paren
op_logical_neg
id|sb_dsp_detect
(paren
id|hw_config
)paren
)paren
r_return
id|mem_start
suffix:semicolon
id|mem_start
op_assign
id|sb_dsp_init
(paren
id|mem_start
comma
id|hw_config
)paren
suffix:semicolon
id|request_region
(paren
id|hw_config-&gt;io_base
comma
l_int|16
comma
l_string|&quot;SoundBlaster&quot;
)paren
suffix:semicolon
macro_line|#endif
r_return
id|mem_start
suffix:semicolon
)brace
r_int
DECL|function|probe_sb
id|probe_sb
(paren
r_struct
id|address_info
op_star
id|hw_config
)paren
(brace
r_if
c_cond
(paren
id|check_region
(paren
id|hw_config-&gt;io_base
comma
l_int|16
)paren
)paren
(brace
id|printk
(paren
l_string|&quot;&bslash;n&bslash;nsb_dsp.c: I/O port %x already in use&bslash;n&bslash;n&quot;
comma
id|hw_config-&gt;io_base
)paren
suffix:semicolon
r_return
l_int|0
suffix:semicolon
)brace
r_return
id|sb_dsp_detect
(paren
id|hw_config
)paren
suffix:semicolon
)brace
r_void
DECL|function|unload_sb
id|unload_sb
(paren
r_struct
id|address_info
op_star
id|hw_config
)paren
(brace
id|release_region
(paren
id|hw_config-&gt;io_base
comma
l_int|16
)paren
suffix:semicolon
id|sb_dsp_unload
(paren
)paren
suffix:semicolon
)brace
macro_line|#endif
eof
