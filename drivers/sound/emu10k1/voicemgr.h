multiline_comment|/*&n; **********************************************************************&n; *     sblive_voice.h -- EMU Voice Resource Manager header file&n; *     Copyright 1999, 2000 Creative Labs, Inc.&n; *&n; **********************************************************************&n; *&n; *     Date                 Author          Summary of changes&n; *     ----                 ------          ------------------&n; *     October 20, 1999     Bertrand Lee    base code release&n; *&n; **********************************************************************&n; *&n; *     This program is free software; you can redistribute it and/or&n; *     modify it under the terms of the GNU General Public License as&n; *     published by the Free Software Foundation; either version 2 of&n; *     the License, or (at your option) any later version.&n; *&n; *     This program is distributed in the hope that it will be useful,&n; *     but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *     GNU General Public License for more details.&n; *&n; *     You should have received a copy of the GNU General Public&n; *     License along with this program; if not, write to the Free&n; *     Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,&n; *     USA.&n; *&n; **********************************************************************&n; */
macro_line|#ifndef _VOICEMGR_H
DECL|macro|_VOICEMGR_H
mdefine_line|#define _VOICEMGR_H
multiline_comment|/* struct emu_voice.usage flags */
DECL|macro|VOICEMGR_USAGE_FREE
mdefine_line|#define VOICEMGR_USAGE_FREE         0x00000000
DECL|macro|VOICEMGR_USAGE_MIDI
mdefine_line|#define VOICEMGR_USAGE_MIDI         0x00000001
DECL|macro|VOICEMGR_USAGE_PLAYBACK
mdefine_line|#define VOICEMGR_USAGE_PLAYBACK     0x00000002
multiline_comment|/* struct emu_voice.flags flags */
DECL|macro|VOICEMGR_FLAGS_MONO
mdefine_line|#define VOICEMGR_FLAGS_MONO         0x00000002
DECL|macro|VOICEMGR_FLAGS_16BIT
mdefine_line|#define VOICEMGR_FLAGS_16BIT        0x00000004
DECL|macro|VOICEMGR_FLAGS_STEREOSLAVE
mdefine_line|#define VOICEMGR_FLAGS_STEREOSLAVE  0x00000008
DECL|macro|VOICEMGR_FLAGS_VOICEMASTER
mdefine_line|#define VOICEMGR_FLAGS_VOICEMASTER  0x80000000
DECL|macro|VOICEMGR_FLAGS_FXRT2
mdefine_line|#define VOICEMGR_FLAGS_FXRT2        0x00000010
DECL|struct|voice_param
r_struct
id|voice_param
(brace
multiline_comment|/* Sound engine */
DECL|member|start
id|u32
id|start
suffix:semicolon
DECL|member|startloop
id|u32
id|startloop
suffix:semicolon
DECL|member|endloop
id|u32
id|endloop
suffix:semicolon
DECL|member|end
id|u32
id|end
suffix:semicolon
DECL|member|current_pitch
id|u16
id|current_pitch
suffix:semicolon
DECL|member|pitch_target
id|u16
id|pitch_target
suffix:semicolon
DECL|member|current_volume
id|u16
id|current_volume
suffix:semicolon
DECL|member|volume_target
id|u16
id|volume_target
suffix:semicolon
DECL|member|current_FC
id|u16
id|current_FC
suffix:semicolon
DECL|member|FC_target
id|u16
id|FC_target
suffix:semicolon
DECL|member|pan_target
id|u8
id|pan_target
suffix:semicolon
DECL|member|aux_target
id|u8
id|aux_target
suffix:semicolon
multiline_comment|/* FX bus amount send */
DECL|member|send_a
id|u32
id|send_a
suffix:semicolon
DECL|member|send_b
id|u32
id|send_b
suffix:semicolon
DECL|member|send_c
id|u32
id|send_c
suffix:semicolon
DECL|member|send_d
id|u32
id|send_d
suffix:semicolon
multiline_comment|/* Envelope engine */
DECL|member|ampl_env_delay
id|u16
id|ampl_env_delay
suffix:semicolon
DECL|member|byampl_env_attack
id|u8
id|byampl_env_attack
suffix:semicolon
DECL|member|byampl_env_hold
id|u8
id|byampl_env_hold
suffix:semicolon
DECL|member|byampl_env_decay
id|u8
id|byampl_env_decay
suffix:semicolon
DECL|member|byampl_env_sustain
id|u8
id|byampl_env_sustain
suffix:semicolon
DECL|member|byampl_env_release
id|u8
id|byampl_env_release
suffix:semicolon
DECL|member|aux_env_delay
id|u16
id|aux_env_delay
suffix:semicolon
DECL|member|byaux_env_attack
id|u8
id|byaux_env_attack
suffix:semicolon
DECL|member|byaux_env_hold
id|u8
id|byaux_env_hold
suffix:semicolon
DECL|member|byaux_env_decay
id|u8
id|byaux_env_decay
suffix:semicolon
DECL|member|byaux_env_sustain
id|u8
id|byaux_env_sustain
suffix:semicolon
DECL|member|byaux_env_release
id|u8
id|byaux_env_release
suffix:semicolon
DECL|member|mod_LFO_delay
id|u16
id|mod_LFO_delay
suffix:semicolon
multiline_comment|/* LFO1 */
DECL|member|vib_LFO_delay
id|u16
id|vib_LFO_delay
suffix:semicolon
multiline_comment|/* LFO2 */
DECL|member|mod_LFO_freq
id|u8
id|mod_LFO_freq
suffix:semicolon
multiline_comment|/* LFO1 */
DECL|member|vib_LFO_freq
id|u8
id|vib_LFO_freq
suffix:semicolon
multiline_comment|/* LFO2 */
DECL|member|aux_env_to_pitch
id|s8
id|aux_env_to_pitch
suffix:semicolon
DECL|member|aux_env_to_FC
id|s8
id|aux_env_to_FC
suffix:semicolon
DECL|member|mod_LFO_to_pitch
id|s8
id|mod_LFO_to_pitch
suffix:semicolon
DECL|member|vib_LFO_to_pitch
id|s8
id|vib_LFO_to_pitch
suffix:semicolon
DECL|member|mod_LFO_to_FC
id|s8
id|mod_LFO_to_FC
suffix:semicolon
DECL|member|mod_LFO_to_volume
id|s8
id|mod_LFO_to_volume
suffix:semicolon
DECL|member|sample_pitch
id|u16
id|sample_pitch
suffix:semicolon
DECL|member|initial_pitch
id|u16
id|initial_pitch
suffix:semicolon
DECL|member|initial_attn
id|u8
id|initial_attn
suffix:semicolon
DECL|member|initial_FC
id|u8
id|initial_FC
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|voice_allocdesc
r_struct
id|voice_allocdesc
(brace
DECL|member|usage
id|u32
id|usage
suffix:semicolon
multiline_comment|/* playback, Midi */
DECL|member|flags
id|u32
id|flags
suffix:semicolon
multiline_comment|/* stereo/mono rec/playback 8/16 bit*/
)brace
suffix:semicolon
DECL|struct|emu_voice
r_struct
id|emu_voice
(brace
DECL|member|list
r_struct
id|list_head
id|list
suffix:semicolon
DECL|member|card
r_struct
id|emu10k1_card
op_star
id|card
suffix:semicolon
DECL|member|usage
id|u32
id|usage
suffix:semicolon
multiline_comment|/* Free, MIDI, playback */
DECL|member|num
id|u32
id|num
suffix:semicolon
multiline_comment|/* Voice ID */
DECL|member|flags
id|u32
id|flags
suffix:semicolon
multiline_comment|/* Stereo/mono, rec/playback, 8/16 bit */
DECL|member|params
r_struct
id|voice_param
id|params
suffix:semicolon
DECL|member|linked_voice
r_struct
id|emu_voice
op_star
id|linked_voice
suffix:semicolon
multiline_comment|/*for stereo voice*/
DECL|member|sendhandle
id|u32
id|sendhandle
(braket
id|NUM_FXSENDS
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|voice_manager
r_struct
id|voice_manager
(brace
DECL|member|card
r_struct
id|emu10k1_card
op_star
id|card
suffix:semicolon
DECL|member|lock
id|spinlock_t
id|lock
suffix:semicolon
DECL|member|voice
r_struct
id|emu_voice
id|voice
(braket
id|NUM_G
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|voice_cntlset
r_struct
id|voice_cntlset
(brace
DECL|member|paramID
id|u32
id|paramID
suffix:semicolon
DECL|member|value
id|u32
id|value
suffix:semicolon
)brace
suffix:semicolon
r_struct
id|emu_voice
op_star
id|emu10k1_voice_alloc
c_func
(paren
r_struct
id|voice_manager
op_star
comma
r_struct
id|voice_allocdesc
op_star
)paren
suffix:semicolon
r_void
id|emu10k1_voice_free
c_func
(paren
r_struct
id|voice_manager
op_star
comma
r_struct
id|emu_voice
op_star
)paren
suffix:semicolon
r_void
id|emu10k1_voice_playback_setup
c_func
(paren
r_struct
id|emu_voice
op_star
)paren
suffix:semicolon
r_void
id|emu10k1_voice_start
c_func
(paren
r_struct
id|emu_voice
op_star
)paren
suffix:semicolon
r_void
id|emu10k1_voice_stop
c_func
(paren
r_struct
id|emu_voice
op_star
)paren
suffix:semicolon
r_void
id|emu10k1_voice_setcontrol
c_func
(paren
r_struct
id|emu_voice
op_star
comma
r_struct
id|voice_cntlset
op_star
comma
id|u32
)paren
suffix:semicolon
r_void
id|emu10k1_voice_getcontrol
c_func
(paren
r_struct
id|emu_voice
op_star
comma
id|u32
comma
id|u32
op_star
)paren
suffix:semicolon
macro_line|#endif /* _VOICEMGR_H */
eof
