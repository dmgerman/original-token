multiline_comment|/*&n; * softoss.h&t;- Definitions for Software MIDI Synthesizer.&n; */
multiline_comment|/*&n; * Copyright (C) by Hannu Savolainen 1993-1997&n; *&n; * OSS/Free for Linux is distributed under the GNU GENERAL PUBLIC LICENSE (GPL)&n; * Version 2 (June 1991). See the &quot;COPYING&quot; file distributed with this software&n; * for more info.&n; */
multiline_comment|/*&n; * Sequencer mode1 timer calls made by sequencer.c&n; */
r_extern
r_int
(paren
op_star
id|softsynthp
)paren
(paren
r_int
id|cmd
comma
r_int
id|parm1
comma
r_int
id|parm2
comma
r_int
r_int
id|parm3
)paren
suffix:semicolon
DECL|macro|SSYN_START
mdefine_line|#define SSYN_START&t;1
DECL|macro|SSYN_REQUEST
mdefine_line|#define SSYN_REQUEST&t;2&t;/* parm1 = time */
DECL|macro|SSYN_STOP
mdefine_line|#define SSYN_STOP&t;3
DECL|macro|SSYN_GETTIME
mdefine_line|#define SSYN_GETTIME&t;4&t;/* Returns number of ticks since reset */
DECL|macro|MAX_PATCH
mdefine_line|#define MAX_PATCH 256
DECL|macro|MAX_SAMPLE
mdefine_line|#define MAX_SAMPLE 512
DECL|macro|MAX_VOICE
mdefine_line|#define MAX_VOICE 32
DECL|macro|DEFAULT_VOICES
mdefine_line|#define DEFAULT_VOICES 16
DECL|struct|voice_info
r_typedef
r_struct
id|voice_info
(brace
multiline_comment|/*&n; * Don&squot;t change anything in the beginning of this struct. These fields are used&n; * by the resampling loop which may have been written in assembly for some&n; * architectures. Any change may make the resampling code incompatible&n; */
DECL|member|instr
r_int
id|instr
suffix:semicolon
DECL|member|wave
r_int
op_star
id|wave
suffix:semicolon
DECL|member|sample
r_struct
id|patch_info
op_star
id|sample
suffix:semicolon
DECL|member|ptr
DECL|member|step
r_int
r_int
id|ptr
suffix:semicolon
r_int
id|step
suffix:semicolon
multiline_comment|/* Pointer to the wave data and pointer increment */
DECL|member|mode
r_int
id|mode
suffix:semicolon
DECL|member|startloop
DECL|member|startbackloop
DECL|member|endloop
DECL|member|looplen
r_int
id|startloop
comma
id|startbackloop
comma
id|endloop
comma
id|looplen
suffix:semicolon
DECL|member|leftvol
DECL|member|rightvol
r_int
r_int
id|leftvol
comma
id|rightvol
suffix:semicolon
multiline_comment|/***** Don&squot;t change anything above this */
DECL|member|orig_freq
DECL|member|current_freq
r_volatile
r_int
r_int
id|orig_freq
comma
id|current_freq
suffix:semicolon
DECL|member|bender
DECL|member|bender_range
DECL|member|panning
r_volatile
r_int
id|bender
comma
id|bender_range
comma
id|panning
suffix:semicolon
DECL|member|main_vol
DECL|member|expression_vol
DECL|member|patch_vol
DECL|member|velocity
r_volatile
r_int
id|main_vol
comma
id|expression_vol
comma
id|patch_vol
comma
id|velocity
suffix:semicolon
multiline_comment|/* Envelope parameters */
DECL|member|envelope_phase
r_int
id|envelope_phase
suffix:semicolon
DECL|member|envelope_vol
r_volatile
r_int
id|envelope_vol
suffix:semicolon
DECL|member|envelope_volstep
r_volatile
r_int
id|envelope_volstep
suffix:semicolon
DECL|member|envelope_time
r_int
id|envelope_time
suffix:semicolon
multiline_comment|/* Number of remaining envelope steps */
DECL|member|envelope_target
r_int
r_int
id|envelope_target
suffix:semicolon
DECL|member|percussive_voice
r_int
id|percussive_voice
suffix:semicolon
DECL|member|sustain_mode
r_int
id|sustain_mode
suffix:semicolon
multiline_comment|/* 0=off, 1=sustain on, 2=sustain on+key released */
multiline_comment|/*&t;Vibrato&t;*/
DECL|member|vibrato_rate
r_int
id|vibrato_rate
suffix:semicolon
DECL|member|vibrato_depth
r_int
id|vibrato_depth
suffix:semicolon
DECL|member|vibrato_phase
r_int
id|vibrato_phase
suffix:semicolon
DECL|member|vibrato_step
r_int
id|vibrato_step
suffix:semicolon
DECL|member|vibrato_level
r_int
id|vibrato_level
suffix:semicolon
multiline_comment|/*&t;Tremolo&t;*/
DECL|member|tremolo_rate
r_int
id|tremolo_rate
suffix:semicolon
DECL|member|tremolo_depth
r_int
id|tremolo_depth
suffix:semicolon
DECL|member|tremolo_phase
r_int
id|tremolo_phase
suffix:semicolon
DECL|member|tremolo_step
r_int
id|tremolo_step
suffix:semicolon
DECL|member|tremolo_level
r_int
id|tremolo_level
suffix:semicolon
DECL|typedef|voice_info
)brace
id|voice_info
suffix:semicolon
r_extern
id|voice_info
id|softoss_voices
(braket
id|MAX_VOICE
)braket
suffix:semicolon
multiline_comment|/* Voice spesific info */
DECL|struct|softsyn_devc
r_typedef
r_struct
id|softsyn_devc
(brace
multiline_comment|/*&n; * Don&squot;t change anything in the beginning of this struct. These fields are used&n; * by the resampling loop which may have been written in assembly for some&n; * architectures. Any change may make the resampling code incompatible&n; */
DECL|member|maxvoice
r_int
id|maxvoice
suffix:semicolon
multiline_comment|/* # of voices to be processed */
DECL|member|afterscale
r_int
id|afterscale
suffix:semicolon
DECL|member|delay_size
r_int
id|delay_size
suffix:semicolon
DECL|member|control_rate
DECL|member|control_counter
r_int
id|control_rate
comma
id|control_counter
suffix:semicolon
multiline_comment|/***** Don&squot;t change anything above this */
DECL|member|ram_size
r_int
id|ram_size
suffix:semicolon
DECL|member|ram_used
r_int
id|ram_used
suffix:semicolon
DECL|member|synthdev
r_int
id|synthdev
suffix:semicolon
DECL|member|timerdev
r_int
id|timerdev
suffix:semicolon
DECL|member|sequencer_mode
r_int
id|sequencer_mode
suffix:semicolon
multiline_comment|/*&n; *&t;Audio parameters&n; */
DECL|member|audiodev
r_int
id|audiodev
suffix:semicolon
DECL|member|audio_opened
r_int
id|audio_opened
suffix:semicolon
DECL|member|speed
r_int
id|speed
suffix:semicolon
DECL|member|channels
r_int
id|channels
suffix:semicolon
DECL|member|bits
r_int
id|bits
suffix:semicolon
DECL|member|default_max_voices
r_int
id|default_max_voices
suffix:semicolon
DECL|member|max_playahead
r_int
id|max_playahead
suffix:semicolon
DECL|member|finfo
r_struct
id|fileinfo
id|finfo
suffix:semicolon
DECL|member|fragsize
r_int
id|fragsize
suffix:semicolon
DECL|member|samples_per_fragment
r_int
id|samples_per_fragment
suffix:semicolon
multiline_comment|/*&n; * &t;Sample storage&n; */
DECL|member|nrsamples
r_int
id|nrsamples
suffix:semicolon
DECL|member|samples
r_struct
id|patch_info
op_star
id|samples
(braket
id|MAX_SAMPLE
)braket
suffix:semicolon
DECL|member|wave
r_int
op_star
id|wave
(braket
id|MAX_SAMPLE
)braket
suffix:semicolon
multiline_comment|/*&n; * &t;Programs&n; */
DECL|member|programs
r_int
id|programs
(braket
id|MAX_PATCH
)braket
suffix:semicolon
multiline_comment|/*&n; *&t;Timer parameters&n; */
DECL|member|usecs
r_volatile
r_int
r_int
id|usecs
suffix:semicolon
DECL|member|usecs_per_frag
r_volatile
r_int
r_int
id|usecs_per_frag
suffix:semicolon
DECL|member|next_event_usecs
r_volatile
r_int
r_int
id|next_event_usecs
suffix:semicolon
multiline_comment|/*&n; * &t;Engine state&n; */
DECL|member|engine_state
r_volatile
r_int
id|engine_state
suffix:semicolon
DECL|macro|ES_STOPPED
mdefine_line|#define ES_STOPPED&t;&t;&t;0
DECL|macro|ES_STARTED
mdefine_line|#define ES_STARTED&t;&t;&t;1
multiline_comment|/* Voice spesific bitmaps */
DECL|member|tremolomap
r_volatile
r_int
id|tremolomap
suffix:semicolon
DECL|member|vibratomap
r_volatile
r_int
id|vibratomap
suffix:semicolon
DECL|typedef|softsyn_devc
)brace
id|softsyn_devc
suffix:semicolon
r_void
id|softsynth_resample_loop
c_func
(paren
r_int
op_star
id|buf
comma
r_int
id|loops
)paren
suffix:semicolon
r_extern
r_void
id|softsyn_control_loop
c_func
(paren
r_void
)paren
suffix:semicolon
DECL|macro|DELAY_SIZE
mdefine_line|#define DELAY_SIZE&t;4096
macro_line|#ifdef SOFTSYN_MAIN
DECL|variable|voice_active
r_int
id|voice_active
(braket
id|MAX_VOICE
)braket
op_assign
(brace
l_int|0
)brace
suffix:semicolon
DECL|variable|softoss_voices
id|voice_info
id|softoss_voices
(braket
id|MAX_VOICE
)braket
op_assign
(brace
(brace
l_int|0
)brace
)brace
suffix:semicolon
multiline_comment|/* Voice spesific info */
DECL|variable|left_delay
DECL|variable|right_delay
r_int
id|left_delay
(braket
id|DELAY_SIZE
)braket
op_assign
(brace
l_int|0
)brace
comma
id|right_delay
(braket
id|DELAY_SIZE
)braket
op_assign
initialization_block
suffix:semicolon
DECL|variable|delayp
r_int
id|delayp
op_assign
l_int|0
suffix:semicolon
macro_line|#else
r_extern
id|softsyn_devc
op_star
id|devc
suffix:semicolon
r_extern
r_int
id|left_delay
(braket
id|DELAY_SIZE
)braket
comma
id|right_delay
(braket
id|DELAY_SIZE
)braket
suffix:semicolon
r_extern
r_int
id|delayp
suffix:semicolon
r_extern
r_int
id|voice_active
(braket
id|MAX_VOICE
)braket
suffix:semicolon
macro_line|#endif
eof
