DECL|macro|STI_REGION_MAX
mdefine_line|#define STI_REGION_MAX 8
DECL|macro|STI_DEV_NAME_LENGTH
mdefine_line|#define STI_DEV_NAME_LENGTH 32
r_typedef
r_struct
(brace
DECL|member|res
id|u8
id|res
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|data
id|u8
id|data
suffix:semicolon
DECL|typedef|sti_u8
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
id|sti_u8
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|data
id|sti_u8
id|data
(braket
l_int|2
)braket
suffix:semicolon
DECL|typedef|sti_u16
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
id|sti_u16
suffix:semicolon
r_typedef
r_struct
(brace
DECL|member|data
id|sti_u8
id|data
(braket
l_int|4
)braket
suffix:semicolon
DECL|typedef|sti_u32
)brace
id|__attribute__
c_func
(paren
(paren
id|packed
)paren
)paren
id|sti_u32
suffix:semicolon
DECL|macro|STI_U8
mdefine_line|#define  STI_U8( u8) ((u8).data)
DECL|macro|STI_U16
mdefine_line|#define STI_U16(u16) ((STI_U8((u16).data[0])&lt;&lt;8) | STI_U8((u16).data[1]))
DECL|macro|STI_U32
mdefine_line|#define STI_U32(u32) ((STI_U8((u32).data[0])&lt;&lt;24) | &bslash;&n;&t;&t;      (STI_U8((u32).data[1])&lt;&lt;16) | &bslash;&n;&t;&t;      (STI_U8((u32).data[2])&lt;&lt; 8) | &bslash;&n;&t;&t;      (STI_U8((u32).data[3])&lt;&lt; 0))
DECL|struct|sti_rom_region
r_struct
id|sti_rom_region
(brace
DECL|member|region
id|sti_u32
id|region
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_rom_font
r_struct
id|sti_rom_font
(brace
DECL|member|first_char
id|sti_u16
id|first_char
suffix:semicolon
DECL|member|last_char
id|sti_u16
id|last_char
suffix:semicolon
DECL|member|width
id|sti_u8
id|width
suffix:semicolon
DECL|member|height
id|sti_u8
id|height
suffix:semicolon
DECL|member|font_type
id|sti_u8
id|font_type
suffix:semicolon
DECL|member|bytes_per_char
id|sti_u8
id|bytes_per_char
suffix:semicolon
DECL|member|next_font
id|sti_u32
id|next_font
suffix:semicolon
DECL|member|underline_height
id|sti_u8
id|underline_height
suffix:semicolon
DECL|member|underline_pos
id|sti_u8
id|underline_pos
suffix:semicolon
DECL|member|res008
id|sti_u8
id|res008
(braket
l_int|2
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_rom
r_struct
id|sti_rom
(brace
DECL|member|type
id|sti_u8
id|type
suffix:semicolon
DECL|member|num_mons
id|sti_u8
id|num_mons
suffix:semicolon
DECL|member|revno
id|sti_u8
id|revno
(braket
l_int|2
)braket
suffix:semicolon
DECL|member|graphics_id
id|sti_u8
id|graphics_id
(braket
l_int|8
)braket
suffix:semicolon
multiline_comment|/* 0x010 */
DECL|member|font_start
id|sti_u32
id|font_start
suffix:semicolon
multiline_comment|/* 0x030 */
DECL|member|statesize
id|sti_u32
id|statesize
suffix:semicolon
DECL|member|last_addr
id|sti_u32
id|last_addr
suffix:semicolon
DECL|member|region_list
id|sti_u32
id|region_list
suffix:semicolon
DECL|member|reentsize
id|sti_u16
id|reentsize
suffix:semicolon
multiline_comment|/* 0x070 */
DECL|member|maxtime
id|sti_u16
id|maxtime
suffix:semicolon
DECL|member|mon_tbl_addr
id|sti_u32
id|mon_tbl_addr
suffix:semicolon
DECL|member|user_data_addr
id|sti_u32
id|user_data_addr
suffix:semicolon
DECL|member|sti_mem_req
id|sti_u32
id|sti_mem_req
suffix:semicolon
DECL|member|user_data_size
id|sti_u32
id|user_data_size
suffix:semicolon
multiline_comment|/* 0x0b0 */
DECL|member|power
id|sti_u16
id|power
suffix:semicolon
multiline_comment|/* 0x0c0 */
DECL|member|bus_support
id|sti_u8
id|bus_support
suffix:semicolon
DECL|member|ext_bus_support
id|sti_u8
id|ext_bus_support
suffix:semicolon
DECL|member|alt_code_type
id|sti_u8
id|alt_code_type
suffix:semicolon
multiline_comment|/* 0x0d0 */
DECL|member|ext_dd_struct
id|sti_u8
id|ext_dd_struct
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|cfb_addr
id|sti_u32
id|cfb_addr
suffix:semicolon
multiline_comment|/* 0x0e0 */
DECL|member|res0f0
id|sti_u8
id|res0f0
(braket
l_int|4
)braket
suffix:semicolon
DECL|member|init_graph
id|sti_u32
id|init_graph
suffix:semicolon
multiline_comment|/* 0x0e0 */
DECL|member|state_mgmt
id|sti_u32
id|state_mgmt
suffix:semicolon
DECL|member|font_unpmv
id|sti_u32
id|font_unpmv
suffix:semicolon
DECL|member|block_move
id|sti_u32
id|block_move
suffix:semicolon
DECL|member|self_test
id|sti_u32
id|self_test
suffix:semicolon
DECL|member|excep_hdlr
id|sti_u32
id|excep_hdlr
suffix:semicolon
DECL|member|inq_conf
id|sti_u32
id|inq_conf
suffix:semicolon
DECL|member|set_cm_entry
id|sti_u32
id|set_cm_entry
suffix:semicolon
DECL|member|dma_ctrl
id|sti_u32
id|dma_ctrl
suffix:semicolon
DECL|member|flow_ctrl
id|sti_u32
id|flow_ctrl
suffix:semicolon
DECL|member|user_timing
id|sti_u32
id|user_timing
suffix:semicolon
DECL|member|process_mgr
id|sti_u32
id|process_mgr
suffix:semicolon
DECL|member|sti_util
id|sti_u32
id|sti_util
suffix:semicolon
DECL|member|end_addr
id|sti_u32
id|end_addr
suffix:semicolon
DECL|member|res0b8
id|sti_u32
id|res0b8
suffix:semicolon
DECL|member|res0bc
id|sti_u32
id|res0bc
suffix:semicolon
DECL|member|init_graph_m68k
id|sti_u32
id|init_graph_m68k
suffix:semicolon
multiline_comment|/* 0x0e0 */
DECL|member|state_mgmt_m68k
id|sti_u32
id|state_mgmt_m68k
suffix:semicolon
DECL|member|font_unpmv_m68k
id|sti_u32
id|font_unpmv_m68k
suffix:semicolon
DECL|member|block_move_m68k
id|sti_u32
id|block_move_m68k
suffix:semicolon
DECL|member|self_test_m68k
id|sti_u32
id|self_test_m68k
suffix:semicolon
DECL|member|excep_hdlr_m68k
id|sti_u32
id|excep_hdlr_m68k
suffix:semicolon
DECL|member|inq_conf_m68k
id|sti_u32
id|inq_conf_m68k
suffix:semicolon
DECL|member|set_cm_entry_m68k
id|sti_u32
id|set_cm_entry_m68k
suffix:semicolon
DECL|member|dma_ctrl_m68k
id|sti_u32
id|dma_ctrl_m68k
suffix:semicolon
DECL|member|flow_ctrl_m68k
id|sti_u32
id|flow_ctrl_m68k
suffix:semicolon
DECL|member|user_timing_m68k
id|sti_u32
id|user_timing_m68k
suffix:semicolon
DECL|member|process_mgr_m68k
id|sti_u32
id|process_mgr_m68k
suffix:semicolon
DECL|member|sti_util_m68k
id|sti_u32
id|sti_util_m68k
suffix:semicolon
DECL|member|end_addr_m68k
id|sti_u32
id|end_addr_m68k
suffix:semicolon
DECL|member|res0b8_m68k
id|sti_u32
id|res0b8_m68k
suffix:semicolon
DECL|member|res0bc_m68k
id|sti_u32
id|res0bc_m68k
suffix:semicolon
DECL|member|res040
id|sti_u8
id|res040
(braket
l_int|7
op_star
l_int|4
)braket
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_cooked_font
r_struct
id|sti_cooked_font
(brace
DECL|member|raw
r_struct
id|sti_rom_font
op_star
id|raw
suffix:semicolon
DECL|member|next_font
r_struct
id|sti_cooked_font
op_star
id|next_font
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_cooked_rom
r_struct
id|sti_cooked_rom
(brace
DECL|member|raw
r_struct
id|sti_rom
op_star
id|raw
suffix:semicolon
DECL|member|font_start
r_struct
id|sti_cooked_font
op_star
id|font_start
suffix:semicolon
DECL|member|region_list
id|u32
op_star
id|region_list
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_glob_cfg_ext
r_struct
id|sti_glob_cfg_ext
(brace
DECL|member|curr_mon
id|u8
id|curr_mon
suffix:semicolon
DECL|member|friendly_boot
id|u8
id|friendly_boot
suffix:semicolon
DECL|member|power
id|s16
id|power
suffix:semicolon
DECL|member|freq_ref
id|s32
id|freq_ref
suffix:semicolon
DECL|member|sti_mem_addr
id|s32
op_star
id|sti_mem_addr
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_glob_cfg
r_struct
id|sti_glob_cfg
(brace
DECL|member|text_planes
id|s32
id|text_planes
suffix:semicolon
DECL|member|onscreen_x
id|s16
id|onscreen_x
suffix:semicolon
DECL|member|onscreen_y
id|s16
id|onscreen_y
suffix:semicolon
DECL|member|offscreen_x
id|s16
id|offscreen_x
suffix:semicolon
DECL|member|offscreen_y
id|s16
id|offscreen_y
suffix:semicolon
DECL|member|total_x
id|s16
id|total_x
suffix:semicolon
DECL|member|total_y
id|s16
id|total_y
suffix:semicolon
DECL|member|region_ptrs
id|u32
id|region_ptrs
(braket
id|STI_REGION_MAX
)braket
suffix:semicolon
DECL|member|reent_lvl
id|s32
id|reent_lvl
suffix:semicolon
DECL|member|save_addr
id|s32
op_star
id|save_addr
suffix:semicolon
DECL|member|ext_ptr
r_struct
id|sti_glob_cfg_ext
op_star
id|ext_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_init_flags
r_struct
id|sti_init_flags
(brace
DECL|member|wait
id|u32
id|wait
suffix:colon
l_int|1
suffix:semicolon
DECL|member|reset
id|u32
id|reset
suffix:colon
l_int|1
suffix:semicolon
DECL|member|text
id|u32
id|text
suffix:colon
l_int|1
suffix:semicolon
DECL|member|nontext
id|u32
id|nontext
suffix:colon
l_int|1
suffix:semicolon
DECL|member|clear
id|u32
id|clear
suffix:colon
l_int|1
suffix:semicolon
DECL|member|cmap_blk
id|u32
id|cmap_blk
suffix:colon
l_int|1
suffix:semicolon
DECL|member|enable_be_timer
id|u32
id|enable_be_timer
suffix:colon
l_int|1
suffix:semicolon
DECL|member|enable_be_int
id|u32
id|enable_be_int
suffix:colon
l_int|1
suffix:semicolon
DECL|member|no_chg_tx
id|u32
id|no_chg_tx
suffix:colon
l_int|1
suffix:semicolon
DECL|member|no_chg_ntx
id|u32
id|no_chg_ntx
suffix:colon
l_int|1
suffix:semicolon
DECL|member|no_chg_bet
id|u32
id|no_chg_bet
suffix:colon
l_int|1
suffix:semicolon
DECL|member|no_chg_bei
id|u32
id|no_chg_bei
suffix:colon
l_int|1
suffix:semicolon
DECL|member|init_cmap_tx
id|u32
id|init_cmap_tx
suffix:colon
l_int|1
suffix:semicolon
DECL|member|cmt_chg
id|u32
id|cmt_chg
suffix:colon
l_int|1
suffix:semicolon
DECL|member|retain_ie
id|u32
id|retain_ie
suffix:colon
l_int|1
suffix:semicolon
DECL|member|pad
id|u32
id|pad
suffix:colon
l_int|17
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_init_inptr_ext
r_struct
id|sti_init_inptr_ext
(brace
DECL|member|config_mon_type
id|u8
id|config_mon_type
suffix:semicolon
DECL|member|pad
id|u8
id|pad
(braket
l_int|1
)braket
suffix:semicolon
DECL|member|inflight_data
id|u16
id|inflight_data
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_init_inptr
r_struct
id|sti_init_inptr
(brace
DECL|member|text_planes
id|s32
id|text_planes
suffix:semicolon
DECL|member|ext_ptr
r_struct
id|sti_init_inptr_ext
op_star
id|ext_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_init_outptr
r_struct
id|sti_init_outptr
(brace
DECL|member|errno
id|s32
id|errno
suffix:semicolon
DECL|member|text_planes
id|s32
id|text_planes
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_conf_flags
r_struct
id|sti_conf_flags
(brace
DECL|member|wait
id|u32
id|wait
suffix:colon
l_int|1
suffix:semicolon
DECL|member|pad
id|u32
id|pad
suffix:colon
l_int|31
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_conf_inptr
r_struct
id|sti_conf_inptr
(brace
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_conf_outptr_ext
r_struct
id|sti_conf_outptr_ext
(brace
DECL|member|crt_config
id|u32
id|crt_config
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|crt_hdw
id|u32
id|crt_hdw
(braket
l_int|3
)braket
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_conf_outptr
r_struct
id|sti_conf_outptr
(brace
DECL|member|errno
id|s32
id|errno
suffix:semicolon
DECL|member|onscreen_x
id|s16
id|onscreen_x
suffix:semicolon
DECL|member|onscreen_y
id|s16
id|onscreen_y
suffix:semicolon
DECL|member|offscreen_x
id|s16
id|offscreen_x
suffix:semicolon
DECL|member|offscreen_y
id|s16
id|offscreen_y
suffix:semicolon
DECL|member|total_x
id|s16
id|total_x
suffix:semicolon
DECL|member|total_y
id|s16
id|total_y
suffix:semicolon
DECL|member|bits_per_pixel
id|s32
id|bits_per_pixel
suffix:semicolon
DECL|member|bits_used
id|s32
id|bits_used
suffix:semicolon
DECL|member|planes
id|s32
id|planes
suffix:semicolon
DECL|member|dev_name
id|u8
id|dev_name
(braket
id|STI_DEV_NAME_LENGTH
)braket
suffix:semicolon
DECL|member|attributes
id|u32
id|attributes
suffix:semicolon
DECL|member|ext_ptr
r_struct
id|sti_conf_outptr_ext
op_star
id|ext_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_font_inptr
r_struct
id|sti_font_inptr
(brace
DECL|member|font_start_addr
id|u32
id|font_start_addr
suffix:semicolon
DECL|member|index
id|s16
id|index
suffix:semicolon
DECL|member|fg_color
id|u8
id|fg_color
suffix:semicolon
DECL|member|bg_color
id|u8
id|bg_color
suffix:semicolon
DECL|member|dest_x
id|s16
id|dest_x
suffix:semicolon
DECL|member|dest_y
id|s16
id|dest_y
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_font_flags
r_struct
id|sti_font_flags
(brace
DECL|member|wait
id|u32
id|wait
suffix:colon
l_int|1
suffix:semicolon
DECL|member|non_text
id|u32
id|non_text
suffix:colon
l_int|1
suffix:semicolon
DECL|member|pad
id|u32
id|pad
suffix:colon
l_int|30
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_font_outptr
r_struct
id|sti_font_outptr
(brace
DECL|member|errno
id|s32
id|errno
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_blkmv_flags
r_struct
id|sti_blkmv_flags
(brace
DECL|member|wait
id|u32
id|wait
suffix:colon
l_int|1
suffix:semicolon
DECL|member|color
id|u32
id|color
suffix:colon
l_int|1
suffix:semicolon
DECL|member|clear
id|u32
id|clear
suffix:colon
l_int|1
suffix:semicolon
DECL|member|non_text
id|u32
id|non_text
suffix:colon
l_int|1
suffix:semicolon
DECL|member|pad
id|u32
id|pad
suffix:colon
l_int|28
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_blkmv_inptr
r_struct
id|sti_blkmv_inptr
(brace
DECL|member|fg_color
id|u8
id|fg_color
suffix:semicolon
DECL|member|bg_color
id|u8
id|bg_color
suffix:semicolon
DECL|member|src_x
id|s16
id|src_x
suffix:semicolon
DECL|member|src_y
id|s16
id|src_y
suffix:semicolon
DECL|member|dest_x
id|s16
id|dest_x
suffix:semicolon
DECL|member|dest_y
id|s16
id|dest_y
suffix:semicolon
DECL|member|width
id|s16
id|width
suffix:semicolon
DECL|member|height
id|s16
id|height
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_blkmv_outptr
r_struct
id|sti_blkmv_outptr
(brace
DECL|member|errno
id|s32
id|errno
suffix:semicolon
DECL|member|future_ptr
id|s32
op_star
id|future_ptr
suffix:semicolon
)brace
suffix:semicolon
DECL|struct|sti_struct
r_struct
id|sti_struct
(brace
DECL|member|lock
id|spinlock_t
id|lock
suffix:semicolon
DECL|member|rom
r_struct
id|sti_cooked_rom
op_star
id|rom
suffix:semicolon
DECL|member|font_unpmv
r_int
r_int
id|font_unpmv
suffix:semicolon
DECL|member|block_move
r_int
r_int
id|block_move
suffix:semicolon
DECL|member|init_graph
r_int
r_int
id|init_graph
suffix:semicolon
DECL|member|inq_conf
r_int
r_int
id|inq_conf
suffix:semicolon
DECL|member|glob_cfg
r_struct
id|sti_glob_cfg
op_star
id|glob_cfg
suffix:semicolon
DECL|member|font
r_struct
id|sti_rom_font
op_star
id|font
suffix:semicolon
DECL|member|text_planes
id|s32
id|text_planes
suffix:semicolon
DECL|member|mon_strings
r_char
op_star
op_star
id|mon_strings
suffix:semicolon
DECL|member|regions
id|u32
op_star
id|regions
suffix:semicolon
DECL|member|pci_regions
id|u8
op_star
id|pci_regions
suffix:semicolon
)brace
suffix:semicolon
DECL|macro|STI_CALL
mdefine_line|#define STI_CALL(func, flags, inptr, outptr, glob_cfg) &bslash;&n;&t;({&t; &t;&t;&t;&t;&t;&t;&bslash;&n;&t;&t;real32_call( func, (unsigned long)STI_PTR(flags), &bslash;&n;&t;&t;&t;&t;    STI_PTR(inptr), STI_PTR(outptr), &bslash;&n;&t;&t;&t;&t;    glob_cfg); &bslash;&n;&t;})
eof
