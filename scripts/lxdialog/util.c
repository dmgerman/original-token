multiline_comment|/*&n; *  util.c&n; *&n; *  ORIGINAL AUTHOR: Savio Lam (lam836@cs.cuhk.hk)&n; *  MODIFIED FOR LINUX KERNEL CONFIG BY: William Roadcap (roadcap@cfw.com)&n; *&n; *  This program is free software; you can redistribute it and/or&n; *  modify it under the terms of the GNU General Public License&n; *  as published by the Free Software Foundation; either version 2&n; *  of the License, or (at your option) any later version.&n; *&n; *  This program is distributed in the hope that it will be useful,&n; *  but WITHOUT ANY WARRANTY; without even the implied warranty of&n; *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the&n; *  GNU General Public License for more details.&n; *&n; *  You should have received a copy of the GNU General Public License&n; *  along with this program; if not, write to the Free Software&n; *  Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.&n; */
macro_line|#include &quot;dialog.h&quot;
multiline_comment|/* use colors by default? */
DECL|variable|use_colors
r_bool
id|use_colors
op_assign
l_int|1
suffix:semicolon
DECL|variable|backtitle
r_const
r_char
op_star
id|backtitle
op_assign
l_int|NULL
suffix:semicolon
DECL|variable|dialog_result
r_const
r_char
op_star
id|dialog_result
suffix:semicolon
multiline_comment|/* &n; * Attribute values, default is for mono display&n; */
DECL|variable|attributes
id|chtype
id|attributes
(braket
)braket
op_assign
(brace
id|A_NORMAL
comma
multiline_comment|/* screen_attr */
id|A_NORMAL
comma
multiline_comment|/* shadow_attr */
id|A_NORMAL
comma
multiline_comment|/* dialog_attr */
id|A_BOLD
comma
multiline_comment|/* title_attr */
id|A_NORMAL
comma
multiline_comment|/* border_attr */
id|A_REVERSE
comma
multiline_comment|/* button_active_attr */
id|A_DIM
comma
multiline_comment|/* button_inactive_attr */
id|A_REVERSE
comma
multiline_comment|/* button_key_active_attr */
id|A_BOLD
comma
multiline_comment|/* button_key_inactive_attr */
id|A_REVERSE
comma
multiline_comment|/* button_label_active_attr */
id|A_NORMAL
comma
multiline_comment|/* button_label_inactive_attr */
id|A_NORMAL
comma
multiline_comment|/* inputbox_attr */
id|A_NORMAL
comma
multiline_comment|/* inputbox_border_attr */
id|A_NORMAL
comma
multiline_comment|/* searchbox_attr */
id|A_BOLD
comma
multiline_comment|/* searchbox_title_attr */
id|A_NORMAL
comma
multiline_comment|/* searchbox_border_attr */
id|A_BOLD
comma
multiline_comment|/* position_indicator_attr */
id|A_NORMAL
comma
multiline_comment|/* menubox_attr */
id|A_NORMAL
comma
multiline_comment|/* menubox_border_attr */
id|A_NORMAL
comma
multiline_comment|/* item_attr */
id|A_REVERSE
comma
multiline_comment|/* item_selected_attr */
id|A_BOLD
comma
multiline_comment|/* tag_attr */
id|A_REVERSE
comma
multiline_comment|/* tag_selected_attr */
id|A_BOLD
comma
multiline_comment|/* tag_key_attr */
id|A_REVERSE
comma
multiline_comment|/* tag_key_selected_attr */
id|A_BOLD
comma
multiline_comment|/* check_attr */
id|A_REVERSE
comma
multiline_comment|/* check_selected_attr */
id|A_BOLD
comma
multiline_comment|/* uarrow_attr */
id|A_BOLD
multiline_comment|/* darrow_attr */
)brace
suffix:semicolon
macro_line|#include &quot;colors.h&quot;
multiline_comment|/*&n; * Table of color values&n; */
DECL|variable|color_table
r_int
id|color_table
(braket
)braket
(braket
l_int|3
)braket
op_assign
(brace
(brace
id|SCREEN_FG
comma
id|SCREEN_BG
comma
id|SCREEN_HL
)brace
comma
(brace
id|SHADOW_FG
comma
id|SHADOW_BG
comma
id|SHADOW_HL
)brace
comma
(brace
id|DIALOG_FG
comma
id|DIALOG_BG
comma
id|DIALOG_HL
)brace
comma
(brace
id|TITLE_FG
comma
id|TITLE_BG
comma
id|TITLE_HL
)brace
comma
(brace
id|BORDER_FG
comma
id|BORDER_BG
comma
id|BORDER_HL
)brace
comma
(brace
id|BUTTON_ACTIVE_FG
comma
id|BUTTON_ACTIVE_BG
comma
id|BUTTON_ACTIVE_HL
)brace
comma
(brace
id|BUTTON_INACTIVE_FG
comma
id|BUTTON_INACTIVE_BG
comma
id|BUTTON_INACTIVE_HL
)brace
comma
(brace
id|BUTTON_KEY_ACTIVE_FG
comma
id|BUTTON_KEY_ACTIVE_BG
comma
id|BUTTON_KEY_ACTIVE_HL
)brace
comma
(brace
id|BUTTON_KEY_INACTIVE_FG
comma
id|BUTTON_KEY_INACTIVE_BG
comma
id|BUTTON_KEY_INACTIVE_HL
)brace
comma
(brace
id|BUTTON_LABEL_ACTIVE_FG
comma
id|BUTTON_LABEL_ACTIVE_BG
comma
id|BUTTON_LABEL_ACTIVE_HL
)brace
comma
(brace
id|BUTTON_LABEL_INACTIVE_FG
comma
id|BUTTON_LABEL_INACTIVE_BG
comma
id|BUTTON_LABEL_INACTIVE_HL
)brace
comma
(brace
id|INPUTBOX_FG
comma
id|INPUTBOX_BG
comma
id|INPUTBOX_HL
)brace
comma
(brace
id|INPUTBOX_BORDER_FG
comma
id|INPUTBOX_BORDER_BG
comma
id|INPUTBOX_BORDER_HL
)brace
comma
(brace
id|SEARCHBOX_FG
comma
id|SEARCHBOX_BG
comma
id|SEARCHBOX_HL
)brace
comma
(brace
id|SEARCHBOX_TITLE_FG
comma
id|SEARCHBOX_TITLE_BG
comma
id|SEARCHBOX_TITLE_HL
)brace
comma
(brace
id|SEARCHBOX_BORDER_FG
comma
id|SEARCHBOX_BORDER_BG
comma
id|SEARCHBOX_BORDER_HL
)brace
comma
(brace
id|POSITION_INDICATOR_FG
comma
id|POSITION_INDICATOR_BG
comma
id|POSITION_INDICATOR_HL
)brace
comma
(brace
id|MENUBOX_FG
comma
id|MENUBOX_BG
comma
id|MENUBOX_HL
)brace
comma
(brace
id|MENUBOX_BORDER_FG
comma
id|MENUBOX_BORDER_BG
comma
id|MENUBOX_BORDER_HL
)brace
comma
(brace
id|ITEM_FG
comma
id|ITEM_BG
comma
id|ITEM_HL
)brace
comma
(brace
id|ITEM_SELECTED_FG
comma
id|ITEM_SELECTED_BG
comma
id|ITEM_SELECTED_HL
)brace
comma
(brace
id|TAG_FG
comma
id|TAG_BG
comma
id|TAG_HL
)brace
comma
(brace
id|TAG_SELECTED_FG
comma
id|TAG_SELECTED_BG
comma
id|TAG_SELECTED_HL
)brace
comma
(brace
id|TAG_KEY_FG
comma
id|TAG_KEY_BG
comma
id|TAG_KEY_HL
)brace
comma
(brace
id|TAG_KEY_SELECTED_FG
comma
id|TAG_KEY_SELECTED_BG
comma
id|TAG_KEY_SELECTED_HL
)brace
comma
(brace
id|CHECK_FG
comma
id|CHECK_BG
comma
id|CHECK_HL
)brace
comma
(brace
id|CHECK_SELECTED_FG
comma
id|CHECK_SELECTED_BG
comma
id|CHECK_SELECTED_HL
)brace
comma
(brace
id|UARROW_FG
comma
id|UARROW_BG
comma
id|UARROW_HL
)brace
comma
(brace
id|DARROW_FG
comma
id|DARROW_BG
comma
id|DARROW_HL
)brace
comma
)brace
suffix:semicolon
multiline_comment|/* color_table */
multiline_comment|/*&n; * Set window to attribute &squot;attr&squot;&n; */
r_void
DECL|function|attr_clear
id|attr_clear
(paren
id|WINDOW
op_star
id|win
comma
r_int
id|height
comma
r_int
id|width
comma
id|chtype
id|attr
)paren
(brace
r_int
id|i
comma
id|j
suffix:semicolon
id|wattrset
(paren
id|win
comma
id|attr
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|height
suffix:semicolon
id|i
op_increment
)paren
(brace
id|wmove
(paren
id|win
comma
id|i
comma
l_int|0
)paren
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
id|width
suffix:semicolon
id|j
op_increment
)paren
id|waddch
(paren
id|win
comma
l_char|&squot; &squot;
)paren
suffix:semicolon
)brace
id|touchwin
(paren
id|win
)paren
suffix:semicolon
)brace
DECL|function|dialog_clear
r_void
id|dialog_clear
(paren
r_void
)paren
(brace
id|attr_clear
(paren
id|stdscr
comma
id|LINES
comma
id|COLS
comma
id|screen_attr
)paren
suffix:semicolon
multiline_comment|/* Display background title if it exists ... - SLH */
r_if
c_cond
(paren
id|backtitle
op_ne
l_int|NULL
)paren
(brace
r_int
id|i
suffix:semicolon
id|wattrset
(paren
id|stdscr
comma
id|screen_attr
)paren
suffix:semicolon
id|mvwaddstr
(paren
id|stdscr
comma
l_int|0
comma
l_int|1
comma
(paren
r_char
op_star
)paren
id|backtitle
)paren
suffix:semicolon
id|wmove
(paren
id|stdscr
comma
l_int|1
comma
l_int|1
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|1
suffix:semicolon
id|i
OL
id|COLS
op_minus
l_int|1
suffix:semicolon
id|i
op_increment
)paren
id|waddch
(paren
id|stdscr
comma
id|ACS_HLINE
)paren
suffix:semicolon
)brace
id|wnoutrefresh
(paren
id|stdscr
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Do some initialization for dialog&n; */
r_void
DECL|function|init_dialog
id|init_dialog
(paren
r_void
)paren
(brace
id|initscr
(paren
)paren
suffix:semicolon
multiline_comment|/* Init curses */
id|keypad
(paren
id|stdscr
comma
id|TRUE
)paren
suffix:semicolon
id|cbreak
(paren
)paren
suffix:semicolon
id|noecho
(paren
)paren
suffix:semicolon
r_if
c_cond
(paren
id|use_colors
)paren
multiline_comment|/* Set up colors */
id|color_setup
(paren
)paren
suffix:semicolon
id|dialog_clear
(paren
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Setup for color display&n; */
r_void
DECL|function|color_setup
id|color_setup
(paren
r_void
)paren
(brace
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|has_colors
(paren
)paren
)paren
(brace
multiline_comment|/* Terminal supports color? */
id|start_color
(paren
)paren
suffix:semicolon
multiline_comment|/* Initialize color pairs */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ATTRIBUTE_COUNT
suffix:semicolon
id|i
op_increment
)paren
id|init_pair
(paren
id|i
op_plus
l_int|1
comma
id|color_table
(braket
id|i
)braket
(braket
l_int|0
)braket
comma
id|color_table
(braket
id|i
)braket
(braket
l_int|1
)braket
)paren
suffix:semicolon
multiline_comment|/* Setup color attributes */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|ATTRIBUTE_COUNT
suffix:semicolon
id|i
op_increment
)paren
id|attributes
(braket
id|i
)braket
op_assign
id|C_ATTR
(paren
id|color_table
(braket
id|i
)braket
(braket
l_int|2
)braket
comma
id|i
op_plus
l_int|1
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * End using dialog functions.&n; */
r_void
DECL|function|end_dialog
id|end_dialog
(paren
r_void
)paren
(brace
id|endwin
(paren
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Print a string of text in a window, automatically wrap around to the&n; * next line if the string is too long to fit on one line. Newline&n; * characters &squot;&bslash;n&squot; are replaced by spaces.  We start on a new line&n; * if there is no room for at least 4 nonblanks following a double-space.&n; */
r_void
DECL|function|print_autowrap
id|print_autowrap
(paren
id|WINDOW
op_star
id|win
comma
r_const
r_char
op_star
id|prompt
comma
r_int
id|width
comma
r_int
id|y
comma
r_int
id|x
)paren
(brace
r_int
id|newl
comma
id|cur_x
comma
id|cur_y
suffix:semicolon
r_int
id|i
comma
id|prompt_len
comma
id|room
comma
id|wlen
suffix:semicolon
r_char
id|tempstr
(braket
id|MAX_LEN
op_plus
l_int|1
)braket
comma
op_star
id|word
comma
op_star
id|sp
comma
op_star
id|sp2
suffix:semicolon
id|strcpy
(paren
id|tempstr
comma
id|prompt
)paren
suffix:semicolon
id|prompt_len
op_assign
id|strlen
c_func
(paren
id|tempstr
)paren
suffix:semicolon
multiline_comment|/*&n;     * Remove newlines&n;     */
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|prompt_len
suffix:semicolon
id|i
op_increment
)paren
(brace
r_if
c_cond
(paren
id|tempstr
(braket
id|i
)braket
op_eq
l_char|&squot;&bslash;n&squot;
)paren
(brace
id|tempstr
(braket
id|i
)braket
op_assign
l_char|&squot; &squot;
suffix:semicolon
)brace
)brace
r_if
c_cond
(paren
id|prompt_len
op_le
id|width
op_minus
id|x
op_star
l_int|2
)paren
(brace
multiline_comment|/* If prompt is short */
id|wmove
(paren
id|win
comma
id|y
comma
(paren
id|width
op_minus
id|prompt_len
)paren
op_div
l_int|2
)paren
suffix:semicolon
id|waddstr
(paren
id|win
comma
id|tempstr
)paren
suffix:semicolon
)brace
r_else
(brace
id|cur_x
op_assign
id|x
suffix:semicolon
id|cur_y
op_assign
id|y
suffix:semicolon
id|newl
op_assign
l_int|1
suffix:semicolon
id|word
op_assign
id|tempstr
suffix:semicolon
r_while
c_loop
(paren
id|word
op_logical_and
op_star
id|word
)paren
(brace
id|sp
op_assign
id|index
c_func
(paren
id|word
comma
l_char|&squot; &squot;
)paren
suffix:semicolon
r_if
c_cond
(paren
id|sp
)paren
op_star
id|sp
op_increment
op_assign
l_int|0
suffix:semicolon
multiline_comment|/* Wrap to next line if either the word does not fit,&n;&t;       or it is the first word of a new sentence, and it is&n;&t;       short, and the next word does not fit. */
id|room
op_assign
id|width
op_minus
id|cur_x
suffix:semicolon
id|wlen
op_assign
id|strlen
c_func
(paren
id|word
)paren
suffix:semicolon
r_if
c_cond
(paren
id|wlen
OG
id|room
op_logical_or
(paren
id|newl
op_logical_and
id|wlen
template_param
id|room
op_logical_and
(paren
op_logical_neg
(paren
id|sp2
op_assign
id|index
c_func
(paren
id|sp
comma
l_char|&squot; &squot;
)paren
)paren
op_logical_or
id|wlen
op_plus
l_int|1
op_plus
(paren
id|sp2
op_minus
id|sp
)paren
OG
id|room
)paren
)paren
)paren
(brace
id|cur_y
op_increment
suffix:semicolon
id|cur_x
op_assign
id|x
suffix:semicolon
)brace
id|wmove
(paren
id|win
comma
id|cur_y
comma
id|cur_x
)paren
suffix:semicolon
id|waddstr
(paren
id|win
comma
id|word
)paren
suffix:semicolon
id|getyx
(paren
id|win
comma
id|cur_y
comma
id|cur_x
)paren
suffix:semicolon
id|cur_x
op_increment
suffix:semicolon
r_if
c_cond
(paren
id|sp
op_logical_and
op_star
id|sp
op_eq
l_char|&squot; &squot;
)paren
(brace
id|cur_x
op_increment
suffix:semicolon
multiline_comment|/* double space */
r_while
c_loop
(paren
op_star
op_increment
id|sp
op_eq
l_char|&squot; &squot;
)paren
suffix:semicolon
id|newl
op_assign
l_int|1
suffix:semicolon
)brace
r_else
id|newl
op_assign
l_int|0
suffix:semicolon
id|word
op_assign
id|sp
suffix:semicolon
)brace
)brace
)brace
multiline_comment|/*&n; * Print a button&n; */
r_void
DECL|function|print_button
id|print_button
(paren
id|WINDOW
op_star
id|win
comma
r_const
r_char
op_star
id|label
comma
r_int
id|y
comma
r_int
id|x
comma
r_int
id|selected
)paren
(brace
r_int
id|i
comma
id|temp
suffix:semicolon
id|wmove
(paren
id|win
comma
id|y
comma
id|x
)paren
suffix:semicolon
id|wattrset
(paren
id|win
comma
id|selected
ques
c_cond
id|button_active_attr
suffix:colon
id|button_inactive_attr
)paren
suffix:semicolon
id|waddstr
(paren
id|win
comma
l_string|&quot;&lt;&quot;
)paren
suffix:semicolon
id|temp
op_assign
id|strspn
(paren
id|label
comma
l_string|&quot; &quot;
)paren
suffix:semicolon
id|label
op_add_assign
id|temp
suffix:semicolon
id|wattrset
(paren
id|win
comma
id|selected
ques
c_cond
id|button_label_active_attr
suffix:colon
id|button_label_inactive_attr
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|temp
suffix:semicolon
id|i
op_increment
)paren
id|waddch
(paren
id|win
comma
l_char|&squot; &squot;
)paren
suffix:semicolon
id|wattrset
(paren
id|win
comma
id|selected
ques
c_cond
id|button_key_active_attr
suffix:colon
id|button_key_inactive_attr
)paren
suffix:semicolon
id|waddch
(paren
id|win
comma
id|label
(braket
l_int|0
)braket
)paren
suffix:semicolon
id|wattrset
(paren
id|win
comma
id|selected
ques
c_cond
id|button_label_active_attr
suffix:colon
id|button_label_inactive_attr
)paren
suffix:semicolon
id|waddstr
(paren
id|win
comma
(paren
r_char
op_star
)paren
id|label
op_plus
l_int|1
)paren
suffix:semicolon
id|wattrset
(paren
id|win
comma
id|selected
ques
c_cond
id|button_active_attr
suffix:colon
id|button_inactive_attr
)paren
suffix:semicolon
id|waddstr
(paren
id|win
comma
l_string|&quot;&gt;&quot;
)paren
suffix:semicolon
id|wmove
(paren
id|win
comma
id|y
comma
id|x
op_plus
id|temp
op_plus
l_int|1
)paren
suffix:semicolon
)brace
multiline_comment|/*&n; * Draw a rectangular box with line drawing characters&n; */
r_void
DECL|function|draw_box
id|draw_box
(paren
id|WINDOW
op_star
id|win
comma
r_int
id|y
comma
r_int
id|x
comma
r_int
id|height
comma
r_int
id|width
comma
id|chtype
id|box
comma
id|chtype
id|border
)paren
(brace
r_int
id|i
comma
id|j
suffix:semicolon
id|wattrset
(paren
id|win
comma
l_int|0
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|height
suffix:semicolon
id|i
op_increment
)paren
(brace
id|wmove
(paren
id|win
comma
id|y
op_plus
id|i
comma
id|x
)paren
suffix:semicolon
r_for
c_loop
(paren
id|j
op_assign
l_int|0
suffix:semicolon
id|j
OL
id|width
suffix:semicolon
id|j
op_increment
)paren
r_if
c_cond
(paren
op_logical_neg
id|i
op_logical_and
op_logical_neg
id|j
)paren
id|waddch
(paren
id|win
comma
id|border
op_or
id|ACS_ULCORNER
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|i
op_eq
id|height
op_minus
l_int|1
op_logical_and
op_logical_neg
id|j
)paren
id|waddch
(paren
id|win
comma
id|border
op_or
id|ACS_LLCORNER
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
op_logical_neg
id|i
op_logical_and
id|j
op_eq
id|width
op_minus
l_int|1
)paren
id|waddch
(paren
id|win
comma
id|box
op_or
id|ACS_URCORNER
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|i
op_eq
id|height
op_minus
l_int|1
op_logical_and
id|j
op_eq
id|width
op_minus
l_int|1
)paren
id|waddch
(paren
id|win
comma
id|box
op_or
id|ACS_LRCORNER
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
op_logical_neg
id|i
)paren
id|waddch
(paren
id|win
comma
id|border
op_or
id|ACS_HLINE
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|i
op_eq
id|height
op_minus
l_int|1
)paren
id|waddch
(paren
id|win
comma
id|box
op_or
id|ACS_HLINE
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
op_logical_neg
id|j
)paren
id|waddch
(paren
id|win
comma
id|border
op_or
id|ACS_VLINE
)paren
suffix:semicolon
r_else
r_if
c_cond
(paren
id|j
op_eq
id|width
op_minus
l_int|1
)paren
id|waddch
(paren
id|win
comma
id|box
op_or
id|ACS_VLINE
)paren
suffix:semicolon
r_else
id|waddch
(paren
id|win
comma
id|box
op_or
l_char|&squot; &squot;
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; * Draw shadows along the right and bottom edge to give a more 3D look&n; * to the boxes&n; */
r_void
DECL|function|draw_shadow
id|draw_shadow
(paren
id|WINDOW
op_star
id|win
comma
r_int
id|y
comma
r_int
id|x
comma
r_int
id|height
comma
r_int
id|width
)paren
(brace
r_int
id|i
suffix:semicolon
r_if
c_cond
(paren
id|has_colors
(paren
)paren
)paren
(brace
multiline_comment|/* Whether terminal supports color? */
id|wattrset
(paren
id|win
comma
id|shadow_attr
)paren
suffix:semicolon
id|wmove
(paren
id|win
comma
id|y
op_plus
id|height
comma
id|x
op_plus
l_int|2
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|width
suffix:semicolon
id|i
op_increment
)paren
id|waddch
(paren
id|win
comma
id|winch
(paren
id|win
)paren
op_amp
id|A_CHARTEXT
)paren
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
id|y
op_plus
l_int|1
suffix:semicolon
id|i
OL
id|y
op_plus
id|height
op_plus
l_int|1
suffix:semicolon
id|i
op_increment
)paren
(brace
id|wmove
(paren
id|win
comma
id|i
comma
id|x
op_plus
id|width
)paren
suffix:semicolon
id|waddch
(paren
id|win
comma
id|winch
(paren
id|win
)paren
op_amp
id|A_CHARTEXT
)paren
suffix:semicolon
id|waddch
(paren
id|win
comma
id|winch
(paren
id|win
)paren
op_amp
id|A_CHARTEXT
)paren
suffix:semicolon
)brace
id|wnoutrefresh
(paren
id|win
)paren
suffix:semicolon
)brace
)brace
multiline_comment|/*&n; *  Return the position of the first alphabetic character in a string.&n; */
r_int
DECL|function|first_alpha
id|first_alpha
c_func
(paren
r_const
r_char
op_star
id|string
comma
r_const
r_char
op_star
id|exempt
)paren
(brace
r_int
id|i
comma
id|in_paren
op_assign
l_int|0
comma
id|c
suffix:semicolon
r_for
c_loop
(paren
id|i
op_assign
l_int|0
suffix:semicolon
id|i
OL
id|strlen
c_func
(paren
id|string
)paren
suffix:semicolon
id|i
op_increment
)paren
(brace
id|c
op_assign
id|tolower
c_func
(paren
id|string
(braket
id|i
)braket
)paren
suffix:semicolon
r_if
c_cond
(paren
id|strchr
c_func
(paren
l_string|&quot;&lt;[(&quot;
comma
id|c
)paren
)paren
op_increment
id|in_paren
suffix:semicolon
r_if
c_cond
(paren
id|strchr
c_func
(paren
l_string|&quot;&gt;])&quot;
comma
id|c
)paren
)paren
op_decrement
id|in_paren
suffix:semicolon
r_if
c_cond
(paren
(paren
op_logical_neg
id|in_paren
)paren
op_logical_and
id|isalpha
c_func
(paren
id|c
)paren
op_logical_and
id|strchr
c_func
(paren
id|exempt
comma
id|c
)paren
op_eq
l_int|0
)paren
r_return
id|i
suffix:semicolon
)brace
r_return
l_int|0
suffix:semicolon
)brace
eof
